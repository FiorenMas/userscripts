// ==UserScript==
// @name                 Picviewer CE+
// @author               NLF && ywzhaiqi && hoothin
// @description          Powerful picture viewing tool online, which can popup/scale/rotate/batch save pictures automatically
// @version              2025.1.2.1
// @icon                 data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAV1BMVEUAAAD////29vbKysoqKioiIiKysrKhoaGTk5N9fX3z8/Pv7+/r6+vk5OTb29vOzs6Ojo5UVFQzMzMZGRkREREMDAy4uLisrKylpaV4eHhkZGRPT08/Pz/IfxjQAAAAgklEQVQoz53RRw7DIBBAUb5pxr2m3/+ckfDImwyJlL9DDzQgDIUMRu1vWOxTBdeM+onApENF0qHjpkOk2VTwLVEF40Kbfj1wK8AVu2pQA1aBBYDHJ1wy9Cf4cXD5chzNAvsAnc8TjoLAhIzsBao9w1rlVTIvkOYMd9nm6xPi168t9AYkbANdajpjcwAAAABJRU5ErkJggg==
// @namespace            https://github.com/hoothin/UserScripts
// @homepage             https://github.com/hoothin/UserScripts/tree/master/Picviewer%20CE%2B
// @supportURL           https://github.com/hoothin/UserScripts/issues
// @connect              www.google.com
// @connect              www.google.com.hk
// @connect              www.google.co.jp
// @connect              ipv4.google.com
// @connect              image.baidu.com
// @connect              www.tineye.com
// @connect              hoothin.com
// @connect              *
// @grant                GM_getValue
// @grant                GM_setValue
// @grant                GM_deleteValue
// @grant                GM_addStyle
// @grant                GM_openInTab
// @grant                GM_setClipboard
// @grant                GM_xmlhttpRequest
// @grant                GM_registerMenuCommand
// @grant                GM_notification
// @grant                GM_download
// @grant                GM.getValue
// @grant                GM.setValue
// @grant                GM.deleteValue
// @grant                GM.addStyle
// @grant                GM.openInTab
// @grant                GM.setClipboard
// @grant                GM.xmlHttpRequest
// @grant                GM.registerMenuCommand
// @grant                GM.notification
// @grant                unsafeWindow
// @require              https://update.greasyfork.org/scripts/6158/23710/GM_config%20CN.js
// @require              https://update.greasyfork.org/scripts/438080/1492792/pvcep_rules.js
// @require              https://update.greasyfork.org/scripts/440698/1427239/pvcep_lang.js
// @match                *://*/*
// @exclude              http://www.toodledo.com/tasks/*
// @exclude              http*://maps.google.com*/*
// @exclude              *://www.google.*/_/chrome/newtab*
// @exclude              *://mega.*/*
// @exclude              *://*.mega.*/*
// @exclude              *://onedrive.live.com/*
// @run-at               document-end
// @created              2011-6-15
// @contributionURL      https://ko-fi.com/hoothin
// @contributionAmount   1
// @downloadURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Picviewer20CE2B.user.js
// @updateURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Picviewer20CE2B.meta.js
// ==/UserScript==
if(window.top!=window.self)try{if(window.self.innerWidth&&window.self.innerWidth<250||window.self.innerHeight&&window.self.innerHeight<250)return}catch(e){return}var floatBar;!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("undefined"!=typeof exports)t();else{t(),e.FileSaver={}}}(this,(function(){"use strict";var e="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0;function t(e,t,i){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,i)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r=e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=e.URL||e.webkitURL,o=n.revokeObjectURL,s=n.createObjectURL,l=e.saveAs||("object"!=typeof window||window!==e?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(r,n,l){e.URL||e.webkitURL;var c=document.createElement("a");n=n||r.name||"download",c.download=n,c.rel="noopener","string"==typeof r?(c.href=r,c.origin!==location.origin?i(c.href)?t(r,n,l):a(c,c.target="_blank"):a(c)):(c.href=s(r),setTimeout((function(){o(c.href)}),4e4),setTimeout((function(){a(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,n){if(r=r||e.name||"download","string"==typeof e)if(i(e))t(e,r,n);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){a(o)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),r)}:function(i,a,n,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof i)return t(i,a,n);var c="application/octet-stream"===i.type,d=/constructor/i.test(e.HTMLElement)||e.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||c&&d||r)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=p?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},h.readAsDataURL(i)}else{var u=s(i);l?l.location=u:location.href=u,l=null,setTimeout((function(){o(u)}),4e4)}});e.saveAs=l.saveAs=l,"undefined"!=typeof module&&(module.exports=l)})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=e()}}((function(){return function e(t,i,a){function r(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[o]={exports:{}};t[o][0].call(d.exports,(function(e){var i=t[o][1][e];return r(i||e)}),d,d.exports,e,t,i,a)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,i){"use strict";var a=e("./utils"),r=e("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,o,s,l,c,d=[],p=0,h=e.length,u=h,m="string"!==a.getTypeOf(e);p<e.length;)u=h-p,m?(t=e[p++],i=p<h?e[p++]:0,r=p<h?e[p++]:0):(t=e.charCodeAt(p++),i=p<h?e.charCodeAt(p++):0,r=p<h?e.charCodeAt(p++):0),o=t>>2,s=(3&t)<<4|i>>4,l=u>1?(15&i)<<2|r>>6:64,c=u>2?63&r:64,d.push(n.charAt(o)+n.charAt(s)+n.charAt(l)+n.charAt(c));return d.join("")},i.decode=function(e){var t,i,a,o,s,l,c=0,d=0,p="data:";if(e.substr(0,5)===p)throw new Error("Invalid base64 input, it looks like a data url.");var h,u=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===n.charAt(64)&&u--,e.charAt(e.length-2)===n.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|u):new Array(0|u);c<e.length;)t=n.indexOf(e.charAt(c++))<<2|(o=n.indexOf(e.charAt(c++)))>>4,i=(15&o)<<4|(s=n.indexOf(e.charAt(c++)))>>2,a=(3&s)<<6|(l=n.indexOf(e.charAt(c++))),h[d++]=t,64!==s&&(h[d++]=i),64!==l&&(h[d++]=a);return h}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var a=e("./external"),r=e("./stream/DataWorker"),n=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,i,a,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=a,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new n).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var a=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var a=e("./utils");var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==a.getTypeOf(e)?function(e,t,i,a){var n=r,o=a+i;e=~e;for(var s=a;s<o;s++)e=e>>>8^n[255&(e^t[s])];return~e}(0|t,e,e.length,0):function(e,t,i,a){var n=r,o=a+i;e=~e;for(var s=a;s<o;s++)e=e>>>8^n[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var a=null;a="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:a}},{lie:37}],7:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),n=e("./utils"),o=e("./stream/GenericWorker"),s=a?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",n.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(n.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new l("Deflate",e)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";var a=e("../utils"),r=e("../stream/GenericWorker"),n=e("../utf8"),o=e("../crc32"),s=e("../signature"),l=function(e,t){var i,a="";for(i=0;i<t;i++)a+=String.fromCharCode(255&e),e>>>=8;return a},c=function(e,t,i,r,c,d){var p,h,u=e.file,m=e.compression,g=d!==n.utf8encode,f=a.transformTo("string",d(u.name)),v=a.transformTo("string",n.utf8encode(u.name)),y=u.comment,b=a.transformTo("string",d(y)),w=a.transformTo("string",n.utf8encode(y)),A=v.length!==u.name.length,x=w.length!==y.length,k="",S="",z="",I=u.dir,M=u.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),g||!A&&!x||(T|=2048);var C,R,L,N=0,B=0;I&&(N|=16),"UNIX"===c?(B=798,N|=(C=u.unixPermissions,R=I,L=C,C||(L=R?16893:33204),(65535&L)<<16)):(B=20,N|=63&(u.dosPermissions||0)),p=M.getUTCHours(),p<<=6,p|=M.getUTCMinutes(),p<<=5,p|=M.getUTCSeconds()/2,h=M.getUTCFullYear()-1980,h<<=4,h|=M.getUTCMonth()+1,h<<=5,h|=M.getUTCDate(),A&&(S=l(1,1)+l(o(f),4)+v,k+="up"+l(S.length,2)+S),x&&(z=l(1,1)+l(o(b),4)+w,k+="uc"+l(z.length,2)+z);var D="";return D+="\n\0",D+=l(T,2),D+=m.magic,D+=l(p,2),D+=l(h,2),D+=l(E.crc32,4),D+=l(E.compressedSize,4),D+=l(E.uncompressedSize,4),D+=l(f.length,2),D+=l(k.length,2),{fileRecord:s.LOCAL_FILE_HEADER+D+f+k,dirRecord:s.CENTRAL_FILE_HEADER+l(B,2)+D+l(b.length,2)+"\0\0\0\0"+l(N,4)+l(r,4)+f+k+b}},d=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function p(e,t,i,a){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=a,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,r),p.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-a-1))/i:100}}))},p.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:d(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,r=function(e,t,i,r,n){var o=a.transformTo("string",n(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(o.length,2)+o}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},p.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},p.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var a=e("../compressions"),r=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var n=new r(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var r=function(e,t){var i=e||t,r=a[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)})),n.entriesCount=o}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new a;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}a.prototype=e("./object"),a.prototype.loadAsync=e("./load"),a.support=e("./support"),a.defaults=e("./defaults"),a.version="3.7.1",a.loadAsync=function(e,t){return(new a).loadAsync(e,t)},a.external=e("./external"),t.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var a=e("./utils"),r=e("./external"),n=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise((function(t,i){var a=e.decompressed.getContentWorker().pipe(new s);a.on("error",(function(e){i(e)})).on("end",(function(){a.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=a.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new o(t);return i.load(e),i})).then((function(e){var i=[r.Promise.resolve(e)],a=e.files;if(t.checkCRC32)for(var n=0;n<a.length;n++)i.push(c(a[n]));return r.Promise.all(i)})).then((function(e){for(var a=e.shift(),r=a.files,n=0;n<r.length;n++){var o=r[n];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return a.zipComment.length&&(i.comment=a.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var a=e("../utils"),r=e("../stream/GenericWorker");function n(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}a.inherits(n,r),n.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},n.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var a=e("readable-stream").Readable;function r(e,t,i){a.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),i&&i(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,a),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";var a=e("./utf8"),r=e("./utils"),n=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),u=function(e,t,i){var a,o=r.getTypeOf(t),d=r.extend(i||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=g(e)),d.createFolders&&(a=m(e))&&f.call(this,a,!0);var u="string"===o&&!1===d.binary&&!1===d.base64;i&&void 0!==i.binary||(d.binary=!u),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",o="string");var v=null;v=t instanceof l||t instanceof n?t:p.isNode&&p.isStream(t)?new h(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var y=new c(e,v,d);this.files[e]=y},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},f=function(e,t){return t=void 0!==t?t:s.createFolders,e=g(e),this.files[e]||u.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,a;for(t in this.files)a=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,a)},filter:function(e){var t=[];return this.forEach((function(i,a){e(i,a)&&t.push(a)})),t},file:function(e,t,i){if(1===arguments.length){if(v(e)){var a=e;return this.filter((function(e,t){return!t.dir&&a.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,u.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=f.call(this,t),a=this.clone();return a.root=i.name,a},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),a=0;a<i.length;a++)delete this.files[i[a].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");r.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var s=i.comment||this.comment||"";t=d.generateWorker(this,i,s)}catch(e){(t=new n("error")).error(e)}return new o(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var a=e("./DataReader");function r(e){a.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,a),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),a=e.charCodeAt(2),r=e.charCodeAt(3),n=this.length-4;n>=0;--n)if(this.data[n]===t&&this.data[n+1]===i&&this.data[n+2]===a&&this.data[n+3]===r)return n-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),a=e.charCodeAt(2),r=e.charCodeAt(3),n=this.readData(4);return t===n[0]&&i===n[1]&&a===n[2]&&r===n[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var a=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return a.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,i){"use strict";var a=e("./Uint8ArrayReader");function r(e){a.call(this,e)}e("../utils").inherits(r,a),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var a=e("./DataReader");function r(e){a.call(this,e)}e("../utils").inherits(r,a),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var a=e("./ArrayReader");function r(e){a.call(this,e)}e("../utils").inherits(r,a),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var a=e("../utils"),r=e("../support"),n=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=a.getTypeOf(e);return a.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(a.transformTo("uint8array",e)):new n(a.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,i){"use strict";var a=e("./GenericWorker"),r=e("../utils");function n(e){a.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(n,a),n.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var a=e("./GenericWorker"),r=e("../crc32");function n(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(n,a),n.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var a=e("../utils"),r=e("./GenericWorker");function n(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}a.inherits(n,r),n.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var a=e("../utils"),r=e("./GenericWorker");function n(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=a.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}a.inherits(n,r),n.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function a(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=a},{}],29:[function(e,t,i){"use strict";var a=e("../utils"),r=e("./ConvertWorker"),n=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t){return new l.Promise((function(i,r){var n=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,i){n.push(e),t&&t(i)})).on("error",(function(e){n=[],r(e)})).on("end",(function(){try{var e=function(e,t,i){switch(e){case"blob":return a.newBlob(a.transformTo("arraybuffer",t),i);case"base64":return o.encode(t);default:return a.transformTo(e,t)}}(l,function(e,t){var i,a=0,r=null,n=0;for(i=0;i<t.length;i++)n+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(n),i=0;i<t.length;i++)r.set(t[i],a),a+=t[i].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,n),c);i(e)}catch(e){r(e)}n=[]})).resume()}))}function p(e,t,i){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=i,a.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(e){this._worker=new n("error"),this._worker.error(e)}}p.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){a.delay(t,arguments,i)})),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=0===new Blob([a],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(a),i.blob=0===r.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var a=e("./utils"),r=e("./support"),n=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}i.utf8encode=function(e){return r.nodebuffer?n.newBufferFrom(e,"utf-8"):function(e){var t,i,a,n,o,s=e.length,l=0;for(n=0;n<s;n++)55296==(64512&(i=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(a=e.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(a-56320),n++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),o=0,n=0;o<l;n++)55296==(64512&(i=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(a=e.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(a-56320),n++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t}(e)},i.utf8decode=function(e){return r.nodebuffer?a.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,n,o=e.length,l=new Array(2*o);for(i=0,t=0;t<o;)if((r=e[t++])<128)l[i++]=r;else if((n=s[r])>4)l[i++]=65533,t+=n-1;else{for(r&=2===n?31:3===n?15:7;n>1&&t<o;)r=r<<6|63&e[t++],n--;n>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),a.applyFromCharCode(l)}(e=a.transformTo(r.uint8array?"uint8array":"array",e))},a.inherits(c,o),c.prototype.processChunk=function(e){var t=a.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var n=t;(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+s[e[i]]>t?i:t}(t),l=t;o!==t.length&&(r.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:i.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,a.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var a=e("./support"),r=e("./base64"),n=e("./nodejsUtils"),o=e("set-immediate-shim"),s=e("./external");function l(e){return e}function c(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(e),a.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,i){var a=[],r=0,n=e.length;if(n<=i)return String.fromCharCode.apply(null,e);for(;r<n;)"array"===t||"nodebuffer"===t?a.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+i,n)))):a.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+i,n)))),r+=i;return a.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch(e){return!1}}()}};function p(e){var t=65536,a=i.getTypeOf(e),r=!0;if("uint8array"===a?r=d.applyCanBeUsed.uint8array:"nodebuffer"===a&&(r=d.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return d.stringifyByChunk(e,a,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function h(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=p;var u={};u.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,n.allocBuffer(e.length))}},u.array={string:p,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBufferFrom(e)}},u.arraybuffer={string:function(e){return p(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBufferFrom(new Uint8Array(e))}},u.uint8array={string:p,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return n.newBufferFrom(e)}},u.nodebuffer={string:p,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},i.transformTo=function(e,t){if(t||(t=""),!e)return t;i.checkSupport(e);var a=i.getTypeOf(t);return u[a][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":a.nodebuffer&&n.isBuffer(e)?"nodebuffer":a.uint8array&&e instanceof Uint8Array?"uint8array":a.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!a[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,a="";for(i=0;i<(e||"").length;i++)a+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return a},i.delay=function(e,t,i){o((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,n,o,l){return s.Promise.resolve(t).then((function(e){return a.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,i){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.onerror=function(e){i(e.target.error)},a.readAsArrayBuffer(e)})):e})).then((function(t){var d,p=i.getTypeOf(t);return p?("arraybuffer"===p?t=i.transformTo("uint8array",t):"string"===p&&(l?t=r.decode(t):n&&!0!==o&&(t=c(d=t,a.uint8array?new Uint8Array(d.length):new Array(d.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,i){"use strict";var a=e("./reader/readerFor"),r=e("./utils"),n=e("./signature"),o=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var a=this.reader.readString(4)===t;return this.reader.setIndex(i),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",i=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,a=this.zip64EndOfCentralSize-44;0<a;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var a=t-i;if(a>0)this.isSignature(t,n.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(e){this.reader=a(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var a=e("./reader/readerFor"),r=e("./utils"),n=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=a(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,a,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),i=e.readInt(2),a=e.readData(i),this.extraFields[t]={id:t,length:i,value:a};e.setIndex(r)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var a=this.findExtraFieldUnicodeComment();if(null!==a)this.fileCommentStr=a;else{var n=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=a(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=a(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";var a=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),n=e("./utf8"),o=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new n.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new n.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new a(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new n.Utf8EncodeWorker)),o.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)l.prototype[c[p]]=d;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var i,a,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var n=0,o=new r(d),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),i=function(){s.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,i=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;a=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}a=!1}t.exports=function(e){1!==c.push(e)||a||i()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var a=e("immediate");function r(){}var n={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function d(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function p(e,t,i){a((function(){var a;try{a=t(i)}catch(t){return n.reject(e,t)}a===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,a)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){var i=!1;function a(t){i||(i=!0,n.reject(e,t))}function r(t){i||(i=!0,n.resolve(e,t))}var o=m((function(){t(r,a)}));"error"===o.status&&a(o.value)}function m(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var i=new this.constructor(r);this.state!==l?p(i,this.state===s?e:t,this.outcome):this.queue.push(new d(i,e,t));return i},d.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){n.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},n.resolve=function(e,t){var i=m(h,t);if("error"===i.status)return n.reject(e,i.value);var a=i.value;if(a)u(e,a);else{e.state=s,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},n.reject=function(e,t){e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return n.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return n.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,a=!1;if(!i)return this.resolve([]);var o=new Array(i),s=0,l=-1,c=new this(r);for(;++l<i;)d(e[l],l);return c;function d(e,r){t.resolve(e).then((function(e){o[r]=e,++s!==i||a||(a=!0,n.resolve(c,o))}),(function(e){a||(a=!0,n.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,a=!1;if(!i)return this.resolve([]);var o=-1,s=new this(r);for(;++o<i;)l=e[o],t.resolve(l).then((function(e){a||(a=!0,n.resolve(s,e))}),(function(e){a||(a=!0,n.reject(s,e))}));var l;return s}},{immediate:36}],38:[function(e,t,i){"use strict";var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var a=e("./zlib/deflate"),r=e("./utils/common"),n=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?n.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=a.deflateSetDictionary(this.strm,d)))throw new Error(o[i]);this._dict_set=!0}}function d(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(e,t){var i,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=n.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(i=a.deflate(s,o))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(n.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===o?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=d,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var a=e("./zlib/inflate"),r=e("./utils/common"),n=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=Object.prototype.toString;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(s[i]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function h(e,t){var i=new p(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}p.prototype.push=function(e,t){var i,s,l,c,p,h,u=this.strm,m=this.options.chunkSize,g=this.options.dictionary,f=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?u.input=n.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new r.Buf8(m),u.next_out=0,u.avail_out=m),(i=a.inflate(u,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(h="string"==typeof g?n.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,i=a.inflateSetDictionary(this.strm,h)),i===o.Z_BUF_ERROR&&!0===f&&(i=o.Z_OK,f=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&i!==o.Z_STREAM_END&&(0!==u.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=n.utf8border(u.output,u.next_out),c=u.next_out-l,p=n.buf2string(u.output,l),u.next_out=c,u.avail_out=m-c,c&&r.arraySet(u.output,u.output,l,c,0),this.onData(p)):this.onData(r.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(f=!0)}while((u.avail_in>0||0===u.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),u.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=p,i.inflate=h,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},i.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,a,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),r);else for(var n=0;n<a;n++)e[r+n]=t[i+n]},flattenChunks:function(e){var t,i,a,r,n,o;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(o=new Uint8Array(a),r=0,t=0,i=e.length;t<i;t++)n=e[t],o.set(n,r),r+=n.length;return o}},n={arraySet:function(e,t,i,a,r){for(var n=0;n<a;n++)e[r+n]=t[i+n]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,n))},i.setTyped(a)},{}],42:[function(e,t,i){"use strict";var a=e("./common"),r=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){n=!1}for(var o=new a.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&n||!e.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,r,n,o,s=e.length,l=0;for(n=0;n<s;n++)55296==(64512&(i=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(r=e.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new a.Buf8(l),o=0,n=0;o<l;n++)55296==(64512&(i=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(r=e.charCodeAt(n+1)))&&(i=65536+(i-55296<<10)+(r-56320),n++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new a.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,a,r,n,s=t||e.length,c=new Array(2*s);for(a=0,i=0;i<s;)if((r=e[i++])<128)c[a++]=r;else if((n=o[r])>4)c[a++]=65533,i+=n-1;else{for(r&=2===n?31:3===n?15:7;n>1&&i<s;)r=r<<6|63&e[i++],n--;n>1?c[a++]=65533:r<65536?c[a++]=r:(r-=65536,c[a++]=55296|r>>10&1023,c[a++]=56320|1023&r)}return l(c,a)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var r=65535&e,n=e>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{n=n+(r=r+t[a++]|0)|0}while(--o);r%=65521,n%=65521}return r|n<<16}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var n=a,o=r+i;e^=-1;for(var s=r;s<o;s++)e=e>>>8^n[255&(e^t[s])];return~e}},{}],46:[function(e,t,i){"use strict";var a,r=e("../utils/common"),n=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=-2,d=258,p=262,h=103,u=113,m=666;function g(e,t){return e.msg=l[t],t}function f(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function b(e,t){n._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t){var i,a,r=e.max_chain_length,n=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-p?e.strstart-(e.w_size-p):0,c=e.window,h=e.w_mask,u=e.prev,m=e.strstart+d,g=c[n+o-1],f=c[n+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+o]===f&&c[i+o-1]===g&&c[i]===c[n]&&c[++i]===c[n+1]){n+=2,i++;do{}while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<m);if(a=d-(m-n),n=m-d,a>o){if(e.match_start=t,o=a,a>=s)break;g=c[n+o-1],f=c[n+o]}}}while((t=u[t&h])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function k(e){var t,i,a,n,l,c,d,h,u,m,g=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-p)){r.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=i=e.hash_size;do{a=e.head[--t],e.head[t]=a>=g?a-g:0}while(--i);t=i=g;do{a=e.prev[--t],e.prev[t]=a>=g?a-g:0}while(--i);n+=g}if(0===e.strm.avail_in)break;if(c=e.strm,d=e.window,h=e.strstart+e.lookahead,u=n,m=void 0,(m=c.avail_in)>u&&(m=u),i=0===m?0:(c.avail_in-=m,r.arraySet(d,c.input,c.next_in,m,h),1===c.state.wrap?c.adler=o(c.adler,d,m,h):2===c.state.wrap&&(c.adler=s(c.adler,d,m,h)),c.next_in+=m,c.total_in+=m,m),e.lookahead+=i,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<p&&0!==e.strm.avail_in)}function S(e,t){for(var i,a;;){if(e.lookahead<p){if(k(e),e.lookahead<p&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-p&&(e.match_length=x(e,i)),e.match_length>=3)if(a=n._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function z(e,t){for(var i,a,r;;){if(e.lookahead<p){if(k(e),e.lookahead<p&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-p&&(e.match_length=x(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,a=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,a&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((a=n._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function I(e,t,i,a,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=a,this.func=r}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:u,e.adler=2===t.wrap?0:1,t.last_flush=0,n._tr_init(t),0):g(e,c)}function T(e){var t,i=E(e);return 0===i&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=a[t.level].max_lazy,t.good_match=a[t.level].good_length,t.nice_match=a[t.level].nice_length,t.max_chain_length=a[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function C(e,t,i,a,n,o){if(!e)return c;var s=1;if(-1===t&&(t=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),n<1||n>9||8!==i||a<8||a>15||t<0||t>9||o<0||o>4)return g(e,c);8===a&&(a=9);var l=new M;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,T(e)}a=[new I(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+i;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-p&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new I(4,4,8,4,S),new I(4,5,16,8,S),new I(4,6,32,32,S),new I(4,4,16,16,z),new I(8,16,32,32,z),new I(8,16,128,128,z),new I(8,32,128,256,z),new I(32,128,258,1024,z),new I(32,258,258,4096,z)],i.deflateInit=function(e,t){return C(e,t,8,15,8,0)},i.deflateInit2=C,i.deflateReset=T,i.deflateResetKeep=E,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},i.deflate=function(e,t){var i,r,o,l;if(!e||!e.state||t>5||t<0)return e?g(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===m&&4!==t)return g(e,0===e.avail_out?-5:c);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,w(r,31),w(r,139),w(r,8),r.gzhead?(w(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),w(r,255&r.gzhead.time),w(r,r.gzhead.time>>8&255),w(r,r.gzhead.time>>16&255),w(r,r.gzhead.time>>24&255),w(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),w(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(w(r,255&r.gzhead.extra.length),w(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(w(r,0),w(r,0),w(r,0),w(r,0),w(r,0),w(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),w(r,3),r.status=u);else{var p=8+(r.w_bits-8<<4)<<8;p|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(p|=32),p+=31-p%31,r.status=u,A(r,p),0!==r.strstart&&(A(r,e.adler>>>16),A(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending!==r.pending_buf_size));)w(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,w(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),y(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,w(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=h)}else r.status=h;if(r.status===h&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&y(e),r.pending+2<=r.pending_buf_size&&(w(r,255&e.adler),w(r,e.adler>>8&255),e.adler=0,r.status=u)):r.status=u),0!==r.pending){if(y(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(i)&&4!==t)return g(e,-5);if(r.status===m&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==m){var x=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,a,r,o,s=e.window;;){if(e.lookahead<=d){if(k(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=s[r=e.strstart-1])===s[++r]&&a===s[++r]&&a===s[++r]){o=e.strstart+d;do{}while(a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&r<o);e.match_length=d-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=n._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):a[r.level].func(r,t);if(3!==x&&4!==x||(r.status=m),1===x||3===x)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===x&&(1===t?n._tr_align(r):5!==t&&(n._tr_stored_block(r,0,0,!1),3===t&&(v(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),y(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(w(r,255&e.adler),w(r,e.adler>>8&255),w(r,e.adler>>16&255),w(r,e.adler>>24&255),w(r,255&e.total_in),w(r,e.total_in>>8&255),w(r,e.total_in>>16&255),w(r,e.total_in>>24&255)):(A(r,e.adler>>>16),A(r,65535&e.adler)),y(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==u&&t!==m?g(e,c):(e.state=null,t===u?g(e,-3):0):c},i.deflateSetDictionary=function(e,t){var i,a,n,s,l,d,p,h,u=t.length;if(!e||!e.state)return c;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return c;for(1===s&&(e.adler=o(e.adler,t,u,0)),i.wrap=0,u>=i.w_size&&(0===s&&(v(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new r.Buf8(i.w_size),r.arraySet(h,t,u-i.w_size,i.w_size,0),t=h,u=i.w_size),l=e.avail_in,d=e.next_in,p=e.input,e.avail_in=u,e.next_in=0,e.input=t,k(i);i.lookahead>=3;){a=i.strstart,n=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+3-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--n);i.strstart=a,i.lookahead=2,k(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=d,e.input=p,e.avail_in=l,i.wrap=s,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,r,n,o,s,l,c,d,p,h,u,m,g,f,v,y,b,w,A,x,k,S,z,I;i=e.state,a=e.next_in,z=e.input,r=a+(e.avail_in-5),n=e.next_out,I=e.output,o=n-(t-e.avail_out),s=n+(e.avail_out-257),l=i.dmax,c=i.wsize,d=i.whave,p=i.wnext,h=i.window,u=i.hold,m=i.bits,g=i.lencode,f=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{m<15&&(u+=z[a++]<<m,m+=8,u+=z[a++]<<m,m+=8),b=g[u&v];t:for(;;){if(u>>>=w=b>>>24,m-=w,0===(w=b>>>16&255))I[n++]=65535&b;else{if(!(16&w)){if(64&w){if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}b=g[(65535&b)+(u&(1<<w)-1)];continue t}for(A=65535&b,(w&=15)&&(m<w&&(u+=z[a++]<<m,m+=8),A+=u&(1<<w)-1,u>>>=w,m-=w),m<15&&(u+=z[a++]<<m,m+=8,u+=z[a++]<<m,m+=8),b=f[u&y];;){if(u>>>=w=b>>>24,m-=w,16&(w=b>>>16&255)){if(x=65535&b,m<(w&=15)&&(u+=z[a++]<<m,(m+=8)<w&&(u+=z[a++]<<m,m+=8)),(x+=u&(1<<w)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(u>>>=w,m-=w,x>(w=n-o)){if((w=x-w)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(k=0,S=h,0===p){if(k+=c-w,w<A){A-=w;do{I[n++]=h[k++]}while(--w);k=n-x,S=I}}else if(p<w){if(k+=c+p-w,(w-=p)<A){A-=w;do{I[n++]=h[k++]}while(--w);if(k=0,p<A){A-=w=p;do{I[n++]=h[k++]}while(--w);k=n-x,S=I}}}else if(k+=p-w,w<A){A-=w;do{I[n++]=h[k++]}while(--w);k=n-x,S=I}for(;A>2;)I[n++]=S[k++],I[n++]=S[k++],I[n++]=S[k++],A-=3;A&&(I[n++]=S[k++],A>1&&(I[n++]=S[k++]))}else{k=n-x;do{I[n++]=I[k++],I[n++]=I[k++],I[n++]=I[k++],A-=3}while(A>2);A&&(I[n++]=I[k++],A>1&&(I[n++]=I[k++]))}break}if(64&w){e.msg="invalid distance code",i.mode=30;break e}b=f[(65535&b)+(u&(1<<w)-1)]}}break}}while(a<r&&n<s);a-=A=m>>3,u&=(1<<(m-=A<<3))-1,e.next_in=a,e.next_out=n,e.avail_in=a<r?r-a+5:5-(a-r),e.avail_out=n<s?s-n+257:257-(n-s),i.hold=u,i.bits=m}},{}],49:[function(e,t,i){"use strict";var a=e("../utils/common"),r=e("./adler32"),n=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=-2,c=12,d=30;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(852),t.distcode=t.distdyn=new a.Buf32(592),t.sane=1,t.back=-1,0):l}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):l}function g(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,m(e))):l}function f(e,t){var i,a;return e?(a=new h,e.state=a,a.window=null,0!==(i=g(e,t))&&(e.state=null),i):l}var v,y,b=!0;function w(e){if(b){var t;for(v=new a.Buf32(512),y=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function A(e,t,i,r){var n,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),r>=o.wsize?(a.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((n=o.wsize-o.wnext)>r&&(n=r),a.arraySet(o.window,t,i-r,n,o.wnext),(r-=n)?(a.arraySet(o.window,t,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}i.inflateReset=m,i.inflateReset2=g,i.inflateResetKeep=u,i.inflateInit=function(e){return f(e,15)},i.inflateInit2=f,i.inflate=function(e,t){var i,h,u,m,g,f,v,y,b,x,k,S,z,I,M,E,T,C,R,L,N,B,D,U,G=0,W=new a.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(i=e.state).mode===c&&(i.mode=13),g=e.next_out,u=e.output,v=e.avail_out,m=e.next_in,h=e.input,f=e.avail_in,y=i.hold,b=i.bits,x=f,k=v,B=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(2&i.wrap&&35615===y){i.check=0,W[0]=255&y,W[1]=y>>>8&255,i.check=n(i.check,W,2,0),y=0,b=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",i.mode=d;break}if(8!=(15&y)){e.msg="unknown compression method",i.mode=d;break}if(b-=4,N=8+(15&(y>>>=4)),0===i.wbits)i.wbits=N;else if(N>i.wbits){e.msg="invalid window size",i.mode=d;break}i.dmax=1<<N,e.adler=i.check=1,i.mode=512&y?10:c,y=0,b=0;break;case 2:for(;b<16;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(i.flags=y,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=d;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=d;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&(W[0]=255&y,W[1]=y>>>8&255,i.check=n(i.check,W,2,0)),y=0,b=0,i.mode=3;case 3:for(;b<32;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.head&&(i.head.time=y),512&i.flags&&(W[0]=255&y,W[1]=y>>>8&255,W[2]=y>>>16&255,W[3]=y>>>24&255,i.check=n(i.check,W,4,0)),y=0,b=0,i.mode=4;case 4:for(;b<16;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&(W[0]=255&y,W[1]=y>>>8&255,i.check=n(i.check,W,2,0)),y=0,b=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&(W[0]=255&y,W[1]=y>>>8&255,i.check=n(i.check,W,2,0)),y=0,b=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((S=i.length)>f&&(S=f),S&&(i.head&&(N=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,h,m,S,N)),512&i.flags&&(i.check=n(i.check,h,S,m)),f-=S,m+=S,i.length-=S),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===f)break e;S=0;do{N=h[m+S++],i.head&&N&&i.length<65536&&(i.head.name+=String.fromCharCode(N))}while(N&&S<f);if(512&i.flags&&(i.check=n(i.check,h,S,m)),f-=S,m+=S,N)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===f)break e;S=0;do{N=h[m+S++],i.head&&N&&i.length<65536&&(i.head.comment+=String.fromCharCode(N))}while(N&&S<f);if(512&i.flags&&(i.check=n(i.check,h,S,m)),f-=S,m+=S,N)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(y!==(65535&i.check)){e.msg="header crc mismatch",i.mode=d;break}y=0,b=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=c;break;case 10:for(;b<32;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}e.adler=i.check=p(y),y=0,b=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=g,e.avail_out=v,e.next_in=m,e.avail_in=f,i.hold=y,i.bits=b,2;e.adler=i.check=1,i.mode=c;case c:if(5===t||6===t)break e;case 13:if(i.last){y>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}switch(i.last=1&y,b-=1,3&(y>>>=1)){case 0:i.mode=14;break;case 1:if(w(i),i.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=d}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",i.mode=d;break}if(i.length=65535&y,y=0,b=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(S=i.length){if(S>f&&(S=f),S>v&&(S=v),0===S)break e;a.arraySet(u,h,m,S,g),f-=S,m+=S,v-=S,g+=S,i.length-=S;break}i.mode=c;break;case 17:for(;b<14;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(i.nlen=257+(31&y),y>>>=5,b-=5,i.ndist=1+(31&y),y>>>=5,b-=5,i.ncode=4+(15&y),y>>>=4,b-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=d;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.lens[Z[i.have++]]=7&y,y>>>=3,b-=3}for(;i.have<19;)i.lens[Z[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,D={bits:i.lenbits},B=s(0,i.lens,0,19,i.lencode,0,i.work,D),i.lenbits=D.bits,B){e.msg="invalid code lengths set",i.mode=d;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;E=(G=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,T=65535&G,!((M=G>>>24)<=b);){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(T<16)y>>>=M,b-=M,i.lens[i.have++]=T;else{if(16===T){for(U=M+2;b<U;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(y>>>=M,b-=M,0===i.have){e.msg="invalid bit length repeat",i.mode=d;break}N=i.lens[i.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===T){for(U=M+3;b<U;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}b-=M,N=0,S=3+(7&(y>>>=M)),y>>>=3,b-=3}else{for(U=M+7;b<U;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}b-=M,N=0,S=11+(127&(y>>>=M)),y>>>=7,b-=7}if(i.have+S>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=d;break}for(;S--;)i.lens[i.have++]=N}}if(i.mode===d)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=d;break}if(i.lenbits=9,D={bits:i.lenbits},B=s(1,i.lens,0,i.nlen,i.lencode,0,i.work,D),i.lenbits=D.bits,B){e.msg="invalid literal/lengths set",i.mode=d;break}if(i.distbits=6,i.distcode=i.distdyn,D={bits:i.distbits},B=s(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,D),i.distbits=D.bits,B){e.msg="invalid distances set",i.mode=d;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(f>=6&&v>=258){e.next_out=g,e.avail_out=v,e.next_in=m,e.avail_in=f,i.hold=y,i.bits=b,o(e,k),g=e.next_out,u=e.output,v=e.avail_out,m=e.next_in,h=e.input,f=e.avail_in,y=i.hold,b=i.bits,i.mode===c&&(i.back=-1);break}for(i.back=0;E=(G=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,T=65535&G,!((M=G>>>24)<=b);){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(E&&!(240&E)){for(C=M,R=E,L=T;E=(G=i.lencode[L+((y&(1<<C+R)-1)>>C)])>>>16&255,T=65535&G,!(C+(M=G>>>24)<=b);){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}y>>>=C,b-=C,i.back+=C}if(y>>>=M,b-=M,i.back+=M,i.length=T,0===E){i.mode=26;break}if(32&E){i.back=-1,i.mode=c;break}if(64&E){e.msg="invalid literal/length code",i.mode=d;break}i.extra=15&E,i.mode=22;case 22:if(i.extra){for(U=i.extra;b<U;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;E=(G=i.distcode[y&(1<<i.distbits)-1])>>>16&255,T=65535&G,!((M=G>>>24)<=b);){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(!(240&E)){for(C=M,R=E,L=T;E=(G=i.distcode[L+((y&(1<<C+R)-1)>>C)])>>>16&255,T=65535&G,!(C+(M=G>>>24)<=b);){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}y>>>=C,b-=C,i.back+=C}if(y>>>=M,b-=M,i.back+=M,64&E){e.msg="invalid distance code",i.mode=d;break}i.offset=T,i.extra=15&E,i.mode=24;case 24:if(i.extra){for(U=i.extra;b<U;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=d;break}i.mode=25;case 25:if(0===v)break e;if(S=k-v,i.offset>S){if((S=i.offset-S)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=d;break}S>i.wnext?(S-=i.wnext,z=i.wsize-S):z=i.wnext-S,S>i.length&&(S=i.length),I=i.window}else I=u,z=g-i.offset,S=i.length;S>v&&(S=v),v-=S,i.length-=S;do{u[g++]=I[z++]}while(--S);0===i.length&&(i.mode=21);break;case 26:if(0===v)break e;u[g++]=i.length,v--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===f)break e;f--,y|=h[m++]<<b,b+=8}if(k-=v,e.total_out+=k,i.total+=k,k&&(e.adler=i.check=i.flags?n(i.check,u,k,g-k):r(i.check,u,k,g-k)),k=v,(i.flags?y:p(y))!==i.check){e.msg="incorrect data check",i.mode=d;break}y=0,b=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===f)break e;f--,y+=h[m++]<<b,b+=8}if(y!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=d;break}y=0,b=0}i.mode=29;case 29:B=1;break e;case d:B=-3;break e;case 31:return-4;default:return l}return e.next_out=g,e.avail_out=v,e.next_in=m,e.avail_in=f,i.hold=y,i.bits=b,(i.wsize||k!==e.avail_out&&i.mode<d&&(i.mode<27||4!==t))&&A(e,e.output,e.next_out,k-e.avail_out)?(i.mode=31,-4):(x-=e.avail_in,k-=e.avail_out,e.total_in+=x,e.total_out+=k,i.total+=k,i.wrap&&k&&(e.adler=i.check=i.flags?n(i.check,u,k,e.next_out-k):r(i.check,u,k,e.next_out-k)),e.data_type=i.bits+(i.last?64:0)+(i.mode===c?128:0)+(20===i.mode||15===i.mode?256:0),(0===x&&0===k||4===t)&&0===B&&(B=-5),B)},i.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state&&2&(i=e.state).wrap?(i.head=t,t.done=!1,0):l},i.inflateSetDictionary=function(e,t){var i,a=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?l:11===i.mode&&r(1,t,a,0)!==i.check?-3:A(e,t,a,a)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var a=e("../utils/common"),r=15,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,c,d,p,h,u){var m,g,f,v,y,b,w,A,x,k=u.bits,S=0,z=0,I=0,M=0,E=0,T=0,C=0,R=0,L=0,N=0,B=null,D=0,U=new a.Buf16(16),G=new a.Buf16(16),W=null,Z=0;for(S=0;S<=r;S++)U[S]=0;for(z=0;z<c;z++)U[t[i+z]]++;for(E=k,M=r;M>=1&&0===U[M];M--);if(E>M&&(E=M),0===M)return d[p++]=20971520,d[p++]=20971520,u.bits=1,0;for(I=1;I<M&&0===U[I];I++);for(E<I&&(E=I),R=1,S=1;S<=r;S++)if(R<<=1,(R-=U[S])<0)return-1;if(R>0&&(0===e||1!==M))return-1;for(G[1]=0,S=1;S<r;S++)G[S+1]=G[S]+U[S];for(z=0;z<c;z++)0!==t[i+z]&&(h[G[t[i+z]]++]=z);if(0===e?(B=W=h,b=19):1===e?(B=n,D-=257,W=o,Z-=257,b=256):(B=s,W=l,b=-1),N=0,z=0,S=I,y=p,T=E,C=0,f=-1,v=(L=1<<E)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){w=S-C,h[z]<b?(A=0,x=h[z]):h[z]>b?(A=W[Z+h[z]],x=B[D+h[z]]):(A=96,x=0),m=1<<S-C,I=g=1<<T;do{d[y+(N>>C)+(g-=m)]=w<<24|A<<16|x}while(0!==g);for(m=1<<S-1;N&m;)m>>=1;if(0!==m?(N&=m-1,N+=m):N=0,z++,0==--U[S]){if(S===M)break;S=t[i+h[z]]}if(S>E&&(N&v)!==f){for(0===C&&(C=E),y+=I,R=1<<(T=S-C);T+C<M&&!((R-=U[T+C])<=0);)T++,R<<=1;if(L+=1<<T,1===e&&L>852||2===e&&L>592)return 1;d[f=N&v]=E<<24|T<<16|y-p}}return 0!==N&&(d[y+N]=S-C<<24|64<<16),u.bits=E,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var a=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var n=256,o=286,s=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var m=new Array(60);r(m);var g=new Array(512);r(g);var f=new Array(256);r(f);var v=new Array(29);r(v);var y,b,w,A=new Array(s);function x(e,t,i,a,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=a,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,z(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function M(e,t,i){I(e,i[2*t],i[2*t+1])}function E(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function T(e,t,i){var a,r,n=new Array(16),o=0;for(a=1;a<=l;a++)n[a]=o=o+i[a-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=E(n[s]++,s))}}function C(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function L(e,t,i,a){var r=2*t,n=2*i;return e[r]<e[n]||e[r]===e[n]&&a[t]<=a[i]}function N(e,t,i){for(var a=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&L(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!L(t,a,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=a}function B(e,t,i){var a,r,o,s,l=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===a?M(e,r,t):(M(e,(o=f[r])+n+1,t),0!==(s=c[o])&&I(e,r-=v[o],s),M(e,o=S(--a),i),0!==(s=d[o])&&I(e,a-=A[o],s))}while(l<e.last_lit);M(e,256,t)}function D(e,t){var i,a,r,n=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==n[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):n[2*i+1]=0;for(;e.heap_len<2;)n[2*(r=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)N(e,n,i);r=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=a,n[2*r]=n[2*i]+n[2*a],e.depth[r]=(e.depth[i]>=e.depth[a]?e.depth[i]:e.depth[a])+1,n[2*i+1]=n[2*a+1]=r,e.heap[1]=r++,N(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,a,r,n,o,s,c=t.dyn_tree,d=t.max_code,p=t.stat_desc.static_tree,h=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,f=0;for(n=0;n<=l;n++)e.bl_count[n]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(n=c[2*c[2*(a=e.heap[i])+1]+1]+1)>g&&(n=g,f++),c[2*a+1]=n,a>d||(e.bl_count[n]++,o=0,a>=m&&(o=u[a-m]),s=c[2*a],e.opt_len+=s*(n+o),h&&(e.static_len+=s*(p[2*a+1]+o)));if(0!==f){do{for(n=g-1;0===e.bl_count[n];)n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[g]--,f-=2}while(f>0);for(n=g;0!==n;n--)for(a=e.bl_count[n];0!==a;)(r=e.heap[--i])>d||(c[2*r+1]!==n&&(e.opt_len+=(n-c[2*r+1])*c[2*r],c[2*r+1]=n),a--)}}(e,t),T(n,d,e.bl_count)}function U(e,t,i){var a,r,n=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(i+1)+1]=65535,a=0;a<=i;a++)r=o,o=t[2*(a+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==n&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,n=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))}function G(e,t,i){var a,r,n=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),a=0;a<=i;a++)if(r=o,o=t[2*(a+1)+1],!(++s<l&&r===o)){if(s<c)do{M(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==n&&(M(e,r,e.bl_tree),s--),M(e,16,e.bl_tree),I(e,s-3,2)):s<=10?(M(e,17,e.bl_tree),I(e,s-3,3)):(M(e,18,e.bl_tree),I(e,s-11,7));s=0,n=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}}r(A);var W=!1;function Z(e,t,i,r){I(e,0+(r?1:0),3),function(e,t,i,r){R(e),r&&(z(e,i),z(e,~i)),a.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}i._tr_init=function(e){W||(!function(){var e,t,i,a,r,n=new Array(16);for(i=0,a=0;a<28;a++)for(v[a]=i,e=0;e<1<<c[a];e++)f[i++]=a;for(f[i-1]=a,r=0,a=0;a<16;a++)for(A[a]=r,e=0;e<1<<d[a];e++)g[r++]=a;for(r>>=7;a<s;a++)for(A[a]=r<<7,e=0;e<1<<d[a]-7;e++)g[256+r++]=a;for(t=0;t<=l;t++)n[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,n[8]++;for(;e<=255;)u[2*e+1]=9,e++,n[9]++;for(;e<=279;)u[2*e+1]=7,e++,n[7]++;for(;e<=287;)u[2*e+1]=8,e++,n[8]++;for(T(u,287,n),e=0;e<s;e++)m[2*e+1]=5,m[2*e]=E(e,5);y=new x(u,c,257,o,l),b=new x(m,d,0,s,l),w=new x(new Array(0),p,0,19,7)}(),W=!0),e.l_desc=new k(e.dyn_ltree,y),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,C(e)},i._tr_stored_block=Z,i._tr_flush_block=function(e,t,i,a){var r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<n;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),s=function(e){var t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?Z(e,t,i,a):4===e.strategy||o===r?(I(e,2+(a?1:0),3),B(e,u,m)):(I(e,4+(a?1:0),3),function(e,t,i,a){var r;for(I(e,t-257,5),I(e,i-1,5),I(e,a-4,4),r=0;r<a;r++)I(e,e.bl_tree[2*h[r]+1],3);G(e,e.dyn_ltree,t-1),G(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),B(e,e.dyn_ltree,e.dyn_dtree)),C(e),a&&R(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+n+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){I(e,2,3),M(e,256,u),function(e){16===e.bi_valid?(z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Bricks=t()}(this,(function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=void 0,a=void 0,r=void 0,n=void 0,o=void 0,s=void 0,l=void 0,c=void 0,d=void 0,p=void 0,h=void 0,u=void 0,m=void 0,g=0===t.packed.indexOf("data-")?t.packed:"data-"+t.packed,f=t.sizes.slice().reverse(),v=!1!==t.position,y=t.container.nodeType?t.container:document.querySelector(t.container),b={all:function(){return S(y.children)},new:function(){return S(y.children).filter((function(e){return!e.hasAttribute(""+g)}))}},w=[function(){r=z()},function(){n=-1===r?f[f.length-1]:f[r]},function(){e=n.columns,s=Array.apply(null,Array(e)).map((function(){return 0}));var e}],A=[function(){h=b[i?"new":"all"]()},function(){if(0===h.length)return;u=h.map((function(e){return e.clientWidth})),m=h.map((function(e){return e.clientHeight}))},function(){h.forEach((function(e,t){o=s.indexOf(Math.min.apply(Math,s)),e.style.position="absolute",l=s[o]+"px",c=o*u[t]+o*n.gutter+"px",v?(e.style.top=l,e.style.left=c):e.style.transform="translate3d("+c+", "+l+", 0)",e.setAttribute(g,""),d=u[t],p=m[t],d&&p&&(s[o]+=p+n.gutter)}))},function(){y.style.position="relative",y.style.width=n.columns*d+(n.columns-1)*n.gutter+"px",y.style.height=Math.max.apply(Math,s)-n.gutter+"px"}],x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.create(null);function a(e,t){return i[e]=i[e]||[],i[e].push(t),this}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?i[e].splice(i[e].indexOf(t),1):delete i[e],this}return e({},t,{on:a,once:function(e,t){return t._once=!0,a(e,t),this},off:r,emit:function(e){for(var t=this,a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];var s=i[e]&&i[e].slice();return s&&s.forEach((function(i){i._once&&r(e,i),i.apply(t,n)})),this}})}({pack:E,update:function(){return i=!0,k(A),x.emit("update")},resize:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return window[e?"addEventListener":"removeEventListener"]("resize",I),x}});return x;function k(e){e.forEach((function(e){return e()}))}function S(e){arguments.length>1&&void 0!==arguments[1]||document;return Array.prototype.slice.call(e)}function z(){return f.map((function(e){return e.mq&&window.matchMedia("(min-width: "+e.mq+")").matches})).indexOf(!0)}function I(){a||(window.requestAnimationFrame(M),a=!0)}function M(){r!==z()&&(E(),x.emit("resize",n)),a=!1}function E(){return i=!1,k(w.concat(A)),x.emit("pack")}}})),function(e,t,i,a){"use strict";var r,n;function o(){let e=N.getItem("customLang")||"auto";n="auto"==e?"Netscape"==navigator.appName?navigator.language:navigator.userLanguage:e,setLang(n)}function s(e,t){var i,a=i18nData[e];if(t)for("object"!=typeof t&&(t=[t]),i=0;i<t.length;i++)a=a.replace("#t#",t[i]);return a||e}var l,c,d,p,h,u,m,g="Google | https://www.google.com/searchbyimage?safe=off&sbisrc=1&image_url=#t#\nYandex | https://yandex.com/images/search?source=collections&rpt=imageview&url=#t#\nSauceNAO | https://saucenao.com/search.php?db=999&url=#t#\nIQDB | https://iqdb.org/?url=#t#\n3D IQDB | https://3d.iqdb.org/?url=#t#\nBaidu | https://graph.baidu.com/details?isfromtusoupc=1&tn=pc&carousel=0&promotion_name=pc_image_shituindex&extUiData%5bisLogoShow%5d=1&image=#t#\nBing | https://www.bing.com/images/search?view=detailv2&iss=sbi&form=SBIVSP&sbisrc=UrlPaste&q=imgurl:#t#\nTinEye | https://www.tineye.com/search?url=#t#\nSogou | https://pic.sogou.com/ris?query=#t#\n360 | http://st.so.com/stu?imgurl=#t#\nAscii2D | https://ascii2d.net/search/url/#t#\nTrace Moe | https://trace.moe/?url=#t#\nKarmaDecay | http://karmadecay.com/#t#\nQRCode | https://hoothin.com/qrcode/##t#\nQRdecode1 | https://zxing.org/w/decode?full=true&u=#t#\nQRdecode2 | https://hoothin.com/qrdecode/##t#\nImgOps | https://imgops.com/#b#";l="undefined"!=typeof GM_openInTab?GM_openInTab:"undefined"!=typeof GM&&void 0!==GM.openInTab?GM.openInTab:(e,i)=>{t.open(e)},c="undefined"!=typeof GM_setClipboard?GM_setClipboard:"undefined"!=typeof GM&&void 0!==GM.setClipboard?GM.setClipboard:e=>{},d="undefined"!=typeof GM_xmlhttpRequest?GM_xmlhttpRequest:"undefined"!=typeof GM&&void 0!==GM.xmlHttpRequest?GM.xmlHttpRequest:e=>{fetch(e.url).then((e=>e.text())).then((t=>{let i={response:t};e.onload(i)})).catch(e.onerror())},p="undefined"!=typeof GM_registerMenuCommand?GM_registerMenuCommand:"undefined"!=typeof GM&&void 0!==GM.registerMenuCommand?GM.registerMenuCommand:(e,t)=>{},h="undefined"!=typeof GM_notification?GM_notification:"undefined"!=typeof GM&&void 0!==GM.notification?GM.notification:e=>{alert(e)},"undefined"!=typeof GM_xmlhttpRequest?(d=GM_xmlhttpRequest,u=!0):"undefined"!=typeof GM&&void 0!==GM.xmlHttpRequest?(d=GM.xmlHttpRequest,u=!0):d=e=>{fetch(e.url,{method:e.method||"GET",body:e.data||"",headers:e.headers}).then((e=>e.text())).then((t=>{e.onload({response:t})})).catch(e.onerror())},m="undefined"!=typeof GM_addStyle?GM_addStyle:"undefined"!=typeof GM&&void 0!==GM.addStyle?GM.addStyle:e=>{let t=i.createElement("style");return t.innerHTML=e,i.head.appendChild(t),t},u=u?async(e,t)=>e?new Promise(((i,a)=>{let n=t&&/^post$/i.test(t.method);d({method:t&&t.method||"GET",url:e.trim(),data:t&&t.body||"",cookie:w,headers:t&&t.headers||{referer:e,origin:e,"Content-Type":n?"application/x-www-form-urlencoded":"text/html","X-Requested-With":n?"XMLHttpRequest":""},onload:function(t){let a=t.response;(t.status>=400||!a)&&(a="");i({text:()=>new Promise((e=>{e(a)})),json:()=>new Promise((e=>{try{e(JSON.parse(a))}catch(t){e(null)}})),finalUrl:t.finalUrl||e})},onerror:function(e){r(e),a(e)},ontimeout:function(e){r(e),a(e)}})})):null:fetch;var f=i.createElement("CANVAS");i.body&&(f.style&&(f.style.display="none"),i.body.appendChild(f),void 0===f.getContext?(i.body.removeChild(f),f=null):i.body.removeChild(f));var v=new Map;function y(e,t,i,a){i=parseInt(i||0),t&&(t=t.split("\n")[0].replace(/.*?\/\/[^\/]+\//,"").replace(/\?.*/,"").replace(/^data:.*/,"")),e.replace&&0!==e.indexOf("data:")||(e="");let r,n=(e=e.replace(/.*?\/\/[^\/]+\//,"")).match(/.*?([^\/\?\=\&]+)\.\w{2,5}(\?|@|$).*/,"$1");if(n=n?n[1]:"",/\=&/.test(n))n="";else try{n=decodeURIComponent(n)}catch(e){}switch(a&&/^\w{2,5}$/.test(a)?r="."+a:(r=e.match(/(\.\w{2,5})(\?|@|$)/),r&&(r=r[1])),i){case 1:t=(t||n||"image").substr(-80);break;case 2:t=(n||e||"image").substr(-80);break;case 3:n&&!t?t=n.substr(-80):n&&t?t=n.substr(-80)+" - "+t.substr(-80):n||t||(t="image");break;default:t=(n||t||"image").substr(-80)}return t.replace(/.*?\/([^\/\?]+?)(\?|@|$).*/,"$1").replace(/[\*\/:<>\?\\\|]/g,"").replace(/\.\w{2,5}$/,"").trim()+(r||".png")}function b(e,t,i){if(!e)return"";t||(t=location.href);let a=t.match(/^https?:/);a=a?a[0]:location.protocol;let r=t.match(/^https?:\/\/([^\/]+)/);if(r=r?r[1]:location.host,"#"===e.charAt(0))return t+e;if("?"===e.charAt(0))return t.replace(/^([^\?#]+).*/,"$1"+e);let n=a+"//"+r,o=i||t;o=o.replace(/(\?|#).*/,""),/https?:\/\/[^\/]+$/.test(o)&&(o+="/"),0!==o.indexOf("http")&&(o=n+o);for(var s=/^[^\?#]*\//.exec(o)[0],l=/^\w+\:\/\/\/?[^\/]+/.exec(s)[0];0===e.indexOf("../");)e=e.substr(3),s=s.replace(/\/[^\/]+\/$/,"/");return e=e.replace(/\.\//,""),/^\/\/\/?/.test(e)&&(e=a+e),/^\w+\:\/\//.test(e)?e:("/"===e.charAt(0)?l:s)+e}var w,A,x,k="undefined"==typeof GM_download?(e,t,a)=>{S(e=b(e),((r,n)=>{if(r)try{saveAs(r,i.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - "+y(e,t,a,n))}catch(e){console.log(e)}}))}:(e,t,a)=>{e=b(e),t=i.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - "+y(e,t,a);let r=["",""];e.split&&(r=e.split("/")),GM_download({url:e,name:t,headers:[{origin:r[0]+"//"+r[2],referer:e,accept:"*/*"}],onerror:e=>{console.log(e)},ontimeout:e=>{console.log(e)}})};function S(e,t,i,a=0){if(++a>3)return t(null,"");d({method:"GET",url:e.trim(),responseType:"blob",timeout:2e4,headers:{origin:location.origin,referer:location.href,accept:"*/*"},cookie:w,onload:function(r){let n=r.response;if(!n.type)return S(e,t,i,a);let o=n.type.replace(/.*image\/([\w\-]+).*/,"$1");if("text/html"===o&&(n.size||0)<1e3)return t(null,"");let s=v.get(o);if(f&&(s||i)){var l=new FileReader;l.readAsDataURL(n),l.onload=function(e){!function(e,t){if(!e)return t(null);var i=f.getContext("2d"),a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){f.width=a.width,f.height=a.height,i.clearRect(0,0,f.width,f.height),i.drawImage(a,0,0),t(f)},a.onerror=function(){t(null)},a.src=e}(e.target.result,(e=>{e.toBlob((e=>{t(e,s||"png")}),"image/"+(s||"png"))}))},l.onerror=function(r){S(e,t,i,a)}}else n&&n.size?t(n,o):S(e,t,i,a)},onerror:function(){S(e,t,i,a)},ontimeout:function(){S(e,t,i,a)}})}function z(e){return e.body||e.querySelector("body")||e}function I(e){return x?x.createHTML(e):e}function M(e){return x?x.createScript(e):e}async function E(e,t,i,a,x,E,T){A={floatBar:{butonOrder:["actual","current","gallery","magnifier","download"],additionalFeature:"open",invertAdditionalFeature:!1,listenBg:!0,showDelay:100,hideDelay:566,position:"top left",stayOut:!1,stayOutOffsetX:0,stayOutOffsetY:0,download2copy:!1,offset:{x:-15,y:-15},forceShow:{enabled:!0,size:{w:100,h:100}},showWithRules:!0,minSizeLimit:{w:50,h:50},sizeLimitOr:!1,keys:{enable:!0,actual:"a",search:"s",current:"c",magnifier:"m",gallery:"g",download:"d"},globalkeys:{invertInitShow:!1,ctrl:!0,alt:!1,shift:!1,command:!1,type:"hold",closeAfterPreview:!0,previewFollowMouse:!0}},magnifier:{radius:77,wheelZoom:{enabled:!0,pauseFirst:!0,scaleImage:!0,ctrl:!1,alt:!1,shift:!1,meta:!1,range:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,1.9,2,2.5,3,4,5,6,7,8,9]}},gallery:{loadMore:!1,loadAll:!0,viewmoreEndless:!0,fitToScreen:!0,fitToScreenSmall:!1,scrollEndToChange:!0,exportType:"grid",sidebarPosition:"bottom",sidebarSize:120,backgroundColor:"rgba(20,20,20,0.75)",formatConversion:"webp>png",aria2Host:"http://localhost:6800",aria2Token:"",sidebarToggle:!0,transition:!0,preload:!0,max:5,zoomresized:25,scaleSmallSize:250,showSmallSize:!0,disableArrow:!1,scrollEndAndLoad:!1,scrollEndAndLoad_num:3,autoZoom:!1,descriptionLength:32,editSite:"",defaultSizeLimit:{w:160,h:160},searchData:g,downloadWithZip:!0,autoOpenViewmore:!1,downloadGap:100},imgWindow:{suitLongImg:!0,fitToScreen:!0,fitToScreenSmall:!1,syncSelectedTool:!0,defaultTool:"hand",close:{escKey:!0,dblClickImgWindow:!0,clickOutside:""},overlayer:{shown:!1,color:"rgba(200,200,200,0.3)"},switchStoreLoc:!1,backgroundColor:"rgba(40,40,40,0.8)",shiftRotateStep:15,zoom:{range:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,1.9,2,2.5,3,4,5,6,7,8,9],mouseWheelZoom:!0},zIndex:2147483646,fixed:!1},waitImgLoad:!1,framesPicOpenInTopWindow:!0,debug:!1,customLang:"auto",customRules:'[\n    {\n        "name": "Example, can be deleted safely",\n        "url": "^https://xxx\\\\.com",\n        "src": "/avatar/i",\n        "r": "/\\\\?.*$/i",\n        "s": ""\n    }\n]',firstEngine:"Tineye"};var C,R=location.href.slice(0,500);const L=["data-lazy-src","org_src","data-lazy","data-url","data-orig-file","zoomfile","file","original","load-src","imgsrc","real_src","src2","origin-src","data-lazyload","data-lazyload-src","data-lazy-load-src","data-ks-lazyload","data-ks-lazyload-custom","data-src","data-defer-src","data-actualsrc","data-cover","data-original","data-thumb","data-imageurl","data-placeholder","lazysrc","data-preview","data-page-image-url"];var N=[function(e){this.currentSrc&&!this.src&&(this.src=this.currentSrc);var t=this.currentSrc||this.src,i=null;if(C.lazyAttr)i=this.getAttribute(C.lazyAttr);else if(this.getAttribute("_src")&&!this.src)i=this.getAttribute("_src");else for(let e in L){let t=L[e],a=this.getAttribute(t);if(!/\bimagecover\.\w+$/i.test(a)&&a){i=a;break}}if(!i&&this._lazyrias&&this._lazyrias.srcset&&(i=this._lazyrias.srcset[this._lazyrias.srcset.length-1]),i);else if(this.srcset){var a=this.srcset.split(/[xw],/i),r=-1;a.forEach((e=>{let a=e.trim().split(/\s+/),n=parseInt(a[1]||0);(a[1]||!t)&&n>r&&(r=n,i=a[0])}))}return t!=b(i)?i:null}];const D=/^\s*(http|ftp).*\.(avi|avif|avifs|bmp|gif|gifv|ico|jfif|jpe|jpeg|jpg|jif|jfi|a?png|svgz?|webp|xbm|dib|divx|3gpp|m3u|m4v|mkv|mp4|mpe?g|ogv|webm|flv|flac|m4a|m4b|mpa|mp3|aac|cda|oga|ogg|opus|wma|wav)(&|\?|#|\/?$|\s)/i,W=["greasyfork.org","github.com","reddit.com"],Z=/greasyfork\.org\/.*scripts\/24204(\-[^\/]*)?(\/discussions|\/?$|\/feedback)|github\.com\/hoothin\/UserScripts\/(tree\/master\/Picviewer%20CE%2B|issues|discussions)|\.reddit\.com\/r\/PicviewerCE/i;A.icons={actual:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAV1BMVEUAAAD////29vbKysoqKioiIiKysrKhoaGTk5N9fX3z8/Pv7+/r6+vk5OTb29vOzs6Ojo5UVFQzMzMZGRkREREMDAy4uLisrKylpaV4eHhkZGRPT08/Pz/IfxjQAAAAgklEQVQoz53RRw7DIBBAUb5pxr2m3/+ckfDImwyJlL9DDzQgDIUMRu1vWOxTBdeM+onApENF0qHjpkOk2VTwLVEF40Kbfj1wK8AVu2pQA1aBBYDHJ1wy9Cf4cXD5chzNAvsAnc8TjoLAhIzsBao9w1rlVTIvkOYMd9nm6xPi168t9AYkbANdajpjcwAAAABJRU5ErkJggg==",current:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAQlBMVEUAAAD///+Tk5P39/fz8/POzs5UVFQpKSnb29vJycmxsbGwsLCmpqafn5+NjY1+fn58fHx4eHg/Pz8hISEZGRkNDQ1kumAIAAAAY0lEQVQoz63RWwqAIBBAUW+l9n63/62WVGDiREX3x4+DIjMKIYWK9hUIOiG89QwyLQCtBLUEmQC27N796iiBIgoAAeh8Oy2AucACk3sJqHyYU6AfwWU8GADSZIeGu7H/u1qhFbaeAcJXcp5yAAAAAElFTkSuQmCC",magnifier:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAUVBMVEUAAAD///86OjohISGcnJxYWFinp6djY2Pc3NywsLBPT09DQ0MVFRW8vLz8/PyoqKh5eXm2trb39/fw8PDZ2dnV1dXKysqTk5MLCwvl5eUpKSkk6YqhAAAAsElEQVQoz4XQ1w7DIAxAUZsZVvZq//9DCyTIpG3a+xApPkIMwJsA4WsneK2atlHav4EzQnLgUhh3ARfs+WuDq8Aby0r9MmHsAC2AQUno+DlByQxdBqkIGp6ADRl4Q9BChC4MXV7T/llBe7BAe1xOtT85nYruAWfWeAJwoS/zdcaVANxS3mpO1yaASatHel2GMVkBwo7IAbYEpgY/xknPMGcr6NNg3A4QFVwr8NlvuOkFpbsFbrIaILIAAAAASUVORK5CYII=",gallery:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAP1BMVEUAAAD///94eHgZGRn39/fz8/POzs6xsbGSkpJ9fX1UVFQpKSnb29vJycmmpqafn5+UlJSNjY0/Pz8hISENDQ2fWpEMAAAAcUlEQVQoz43SWQrEIBRE0Xe7M8/T/tcaNSKCKUh95nCDiIaYYa9zUDQRiiaCalANqkE0n6BuBLArWBTUAsa2/3yqfwYdzAl+GeCWAN9YM7nvo4chgoXmgjP8CdoEvqmA/oCQRHgat2p7YM2gvHb9GMRu7acCGLmlyNoAAAAASUVORK5CYII=",search:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAXVBMVEUAAAD///+MjIwmJibNzc2UlJTd3d2lpaUKCgrT09O/v78YGBjj4+MvLy8PDw/IyMh5eXn5+fn29vby8vLo6OjDw8O7u7u3t7ewsLCcnJx1dXVubm4+Pj43NzdkZGStc/JSAAAA4ElEQVQoz52RWW7DMAxE9bR635fYcXr/Y5aW7TYIGqDI/EjUAzRDUvFGCvWn/gHMOnmfNeYFJLonqnPVM8hrIA3B7of5BXkK47bXWwbe/ACp3OWqwSYnaI73+zStSST6AKYjE/sbQCZkpi0j0HSlUl/gPdwleM8SgSfIRzd8laRkcl0oIihYIkiVqhnl6hgicPRGrMHW0Ej4gXCYt8xiPoIw6TtANL8CVtpanSu1xvARJHYnpxpIq6tzU8D8UKIywHCNZCcpUDuXteDL57HngVMhf1nUQ9uisG47y492/kbfyJQHZ5yu1AMAAAAASUVORK5CYII=",download:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAASFBMVEUAAAD///86Ojq8vLxXV1ciIiKcnJympqZjY2MxMTHc3NywsLBDQ0NPT08VFRV5eXn39/fw8PDZ2dnV1dXKysqUlJTl5eUNDQ1EnTQhAAAAtUlEQVQoz33QWRKDIBAE0Gl2AXFP7n/TDKIEk5j+wKp+ZQ0D4SYE+pkDkrMe3rr0ATEYpUkrE+IFouyppJexgRR6IQQAPodlAqeAMyRoByIyjo8DrGpA2Td43YD2FfJHokR2hOsf8uy1v87oZOnrjHorFu7rreoexKLzhiFlqJsPxJL7dcZagWU532oG0ABNzj7y6wpwVAOgJ8AztgyhhTRyM0TsUQ0MuRi3AqaBayp85T/c5AVMKwUv6mnXTQAAAABJRU5ErkJggg==",downloadSvgBtn:'<svg class="pv-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>Download</title><path d="M768 768q0-14.857143-10.857143-25.714286t-25.714286-10.857143-25.714285 10.857143-10.857143 25.714286 10.857143 25.714286 25.714285 10.857143 25.714286-10.857143 10.857143-25.714286z m146.285714 0q0-14.857143-10.857143-25.714286t-25.714285-10.857143-25.714286 10.857143-10.857143 25.714286 10.857143 25.714286 25.714286 10.857143 25.714285-10.857143 10.857143-25.714286z m73.142857-128v182.857143q0 22.857143-16 38.857143t-38.857142 16H91.428571q-22.857143 0-38.857142-16t-16-38.857143v-182.857143q0-22.857143 16-38.857143t38.857142-16h265.714286l77.142857 77.714286q33.142857 32 77.714286 32t77.714286-32l77.714285-77.714286h265.142858q22.857143 0 38.857142 16t16 38.857143z m-185.714285-325.142857q9.714286 23.428571-8 40l-256 256q-10.285714 10.857143-25.714286 10.857143t-25.714286-10.857143L230.285714 354.857143q-17.714286-16.571429-8-40 9.714286-22.285714 33.714286-22.285714h146.285714V36.571429q0-14.857143 10.857143-25.714286t25.714286-10.857143h146.285714q14.857143 0 25.714286 10.857143t10.857143 25.714286v256h146.285714q24 0 33.714286 22.285714z"></path></svg>',video:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+PHBhdGggZD0iTTUxMiA2NEMyNjUuNiA2NCA2NCAyNjUuNiA2NCA1MTJzMjAxLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMS42IDQ0OC00NDhTNzU4LjQgNjQgNTEyIDY0ek02OTEuMiA1NDRsLTI1NiAxNTYuOEM0MjguOCA3MDQgNDIyLjQgNzA0IDQxNiA3MDRjLTYuNCAwLTkuNiAwLTE2LTMuMkMzOTAuNCA2OTQuNCAzODQgNjg0LjggMzg0IDY3MkwzODQgMzUyYzAtMTIuOCA2LjQtMjIuNCAxNi0yOC44IDkuNi02LjQgMjIuNC02LjQgMzIgMGwyNTYgMTY2LjRjOS42IDYuNCAxNiAxNiAxNiAyOC44QzcwNCA1MjggNzAwLjggNTQwLjggNjkxLjIgNTQ0eiIgZmlsbD0id2hpdGUiLz48L3N2Zz4=",audio:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc2OCA5MzguNjY2NjY3SDI1NmE4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAxLTg1LjMzMzMzMy04NS4zMzMzMzRWMTcwLjY2NjY2N2E4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAxIDg1LjMzMzMzMy04NS4zMzMzMzRoNDIuNjY2NjY3djI5OC42NjY2NjdsMTA2LjY2NjY2Ni02NEw1MTIgMzg0Vjg1LjMzMzMzM2gyNTZhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMSA4NS4zMzMzMzMgODUuMzMzMzM0djY4Mi42NjY2NjZhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMS04NS4zMzMzMzMgODUuMzMzMzM0bS0yMTMuMzMzMzMzLTI5OC42NjY2NjdhODUuMzMzMzMzIDg1LjMzMzMzMyAwIDAgMC04NS4zMzMzMzQgODUuMzMzMzMzIDg1LjMzMzMzMyA4NS4zMzMzMzMgMCAwIDAgODUuMzMzMzM0IDg1LjMzMzMzNCA4NS4zMzMzMzMgODUuMzMzMzMzIDAgMCAwIDg1LjMzMzMzMy04NS4zMzMzMzR2LTIxMy4zMzMzMzNoMTI4di04NS4zMzMzMzNoLTE3MC42NjY2Njd2MjI0Ljg1MzMzM2MtMTIuMzczMzMzLTcuMjUzMzMzLTI3LjMwNjY2Ny0xMS41Mi00Mi42NjY2NjYtMTEuNTJ6IiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==",retry:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzIyMjhBQTUzNjdDMTFFMkI3QThBNTAwQUMxRDJGREMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzIyMjhBQTYzNjdDMTFFMkI3QThBNTAwQUMxRDJGREMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMjIyOEFBMzM2N0MxMUUyQjdBOEE1MDBBQzFEMkZEQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMjIyOEFBNDM2N0MxMUUyQjdBOEE1MDBBQzFEMkZEQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj9mTMsAAALCSURBVHjadFJLSFRhFD73v4+5d+4dmgkkEcxFOOo4OQ90FgVJ2lhihFk5ozWKGxeBBEWFmA/GzFVFu1xFRrVrHbiJaGVqCDUZEdKAi1mkQjWv++r817kXW/hfzv1f53zfOf93mNraWjhoMIQBQsiiaZjXDcP4s/8um81aMzHh4I/neJBlOSUr8meWY9tpgH1nD2KtbcPBEjYmCMIbSZR+u91u0+PxAFqdoijveIF/yDCMsC8eONM07XQFZJyS3NK4y+UiCAIcxwHP83vALEv3N/N/813FYjGBRxkHAOsEURSfSpI0IrtlQCYrANkcJgpI96FwqO5K/2WPk4H147gOTHlEkRXgeA7CkTAkBxLgb/BD34VLQFisFImSA0lIDibeY8iGA0BRa2pqZstq2XJsamqEqZnJt3g3fepE+7LiUUzfYR/cun0LotHIdFskli6Xy7C1tVUBQKlUXW2lZaiqCr19vatt0Vh3qVSy0g4EAzCTntmtrj7SH2mJLmmqBva72RmwxUJRwPotAJ/Pd6dULIGu66ARDR4/efQJ73pbmkNZerZfAUvGtfVVQIkAGwU0TYMHc/M56khZKCAGnww2Hs/qmi4h2ShmOopzwgEIBcN6vb9epcEUZHNzc9ZqFQQwdAOa6gMFeo4NdVd0iQuiJC6g/5gDQNnOdZ9dozN90EK+cBFVWQAGDlVqFVDSCWS+hz1C5YaxG2P5/wDiXfHJM/FOR2+UdBSbaRfXPwWXUELW+9gbLO2NnvM90NF5Ou08Ik2zuSG4tLq+slhVVTX06uVrwCDA3qdlHKVZ0UBqV68NQmo49Qz9P+Ryub0O9vq8QBgC335sCLifynzJjC8+f0FWPq4A1Ztm1NrWCkPDKSPQHJhHn7T/WEN5+9d2BcDr3VtUmL5+z8RwO4EWR5PQCmhLaHP4oMu2Qjs7O1bcPwEGAErKEckpB5KiAAAAAElFTkSuQmCC",loading:"data:image/gif;base64,R0lGODlhGAAYALMPACgoKOnp6cnJyaamppmZmVhYWGdnZ3d3d4aGhgEBAdnZ2UNDQ/b29r29vbGxsf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUU5MTZGNDMxQ0E4MTFFMkE1Q0NEMTFGODU0MkUzNzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUU5MTZGNDQxQ0E4MTFFMkE1Q0NEMTFGODU0MkUzNzUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRTkxNkY0MTFDQTgxMUUyQTVDQ0QxMUY4NTQyRTM3NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRTkxNkY0MjFDQTgxMUUyQTVDQ0QxMUY4NTQyRTM3NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUFAA8ALAAAAAAYABgAAATMMMlJq710GQQAMgBmLYMSKMuirMQiSocZnOlqH68h06qtFJhPomASEDoEwQpYMFQWM2fhEJoADkyBwDVxMBgBp6igVBAm0C8D8YqtBFWDWlHFABo2MQLMGLwkCFoCbAkAKQt1IoaLEh2Of4WOVQUDBANiL4ENAjgJJAOViRYADoJAhZagpxgGgg11BqAtLwWbgxQABLMaiQAGLrUNXGguJA4EVB4DDQ7AmE8DDtIDHQ4N18200dIO1dfMq3YI0dSkDQMckI1NHb+i6vARACH5BAUFAA8ALAAAAAABAAEAAAQC8EUAIfkEBQUADwAsAQABABYAFgAABJbwySkPoYtq6gILEzhsmsd8YQCS4YlK6roVmeEpY0gdE0AQNQRLolBMDoMBcEiUjHzJQYFJUSwW0QtVQCkoBwbqg1A0PgBo8SSj3mRqjjhPLVAI444cs1EOD/BhQwdlXA8HcXpDdQpaD0lMcw8ChRJTEg4NiQ4CDZYsmA0NDhINk5yeG6ANE6WTq0MZmKMPpa9tcweoFBEAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFQAVAAAEgvDJ+cAykhzKJzjEQABPwARONxXhIJImc6rP0r6lfGKqLfIDxe7Bk7gki0IHgSlKHI4BjRMIGKGpqaRqfWC1FK4BuwGbz+gOqfFgmwkKhaRBPws4dPdZ3m5ktXwUWUoqhHEdBQ0CDggZDYGFigICbgJxCncqBpKUEpZxAk4dipWYHREAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEn/DJKcs0C9A9FxrO8ADEQBzcBjrhWA6mlT5rS8Lmwhky+KAPQ4mgeyA6LFmqUAwEZIhGw6FMGQIMBkXaMMwkiKz2UeCKvhKFGNUAoyUDBpbwrkuK9oXuIGgIjnYTBQKEDnZOARJ+hEAzCIgPOgiEDVUzTmcPUjKNE4AzMgIKbRMCDwoSBp2lCq2mC6hpaKKukbF2BKICerFEdQsGgJ8cEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFACH5BAUFAA8ALAEAAQAWABYAAASU8Mk5zyw0a9ecHM6AABrFNd3nrEMpFWf6gKz7eq10gPmCTaiJwbYgEEgSgaBhkxQHA8ujoRQ0HwUolFT1XAnagoV6lRgG4GE5A2hTkGuKQvEglAeMAMM+VzCvCgyCUn1lgnkTc1ZNBnoMXg9KV0ONARRqDwoBAnYSmg+YJXQBAXQSpJahGZ+lE6imTXQKSK1rcGYuEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFACH5BAUFAA8ALAEAAQAWABYAAASV8MlJ5amYkiaadI3zLJlkcEL3NaxYPqj6gO0rcQ5ChUWWSj2MYTIYkB4EhUJgkwwcOYlAqbjYoK4H1dOcQaVMQvfgeEpIx25lwVY/APCHTqs2DAiD4YTZxBdJfHI2BUV3AEgSCk0LflYkihJzGYwEhxV6FAMPDAFnQRRDnWcPAQymohlWoiSlpg9WJZqdrAwPml1pTREAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEi/DJKQ2iOFOhhGxCo2Gc0n1C2hjjU54PqBbZMXGihDjhxE6mloT2cDgAGIVQ4mjkHsplxdlwPH5SyYAqMUWzVpsEmS2bywfHwGoIuL9Co4OmcAek8sHEnV1bgVeBGQULWnoUPwEMCocGBAMEhS2KDAx3AI8DkJIalJYPmJqbcYqXjwQGZEsHBEOcGBEAIfkEBQUADwAsAAAAAAEAAQAABALwRQAh+QQFBQAPACwBAAEAFgAWAAAEk/DJSSUyNc+hnlqPoAiENh2dlIrKaKrTF7auhnlhKTV1YUuHTPBRaDRAj0Eg8JoUBQLKktkMQRuSabTqgEYR1KpF0NhKkOK0mhFgDNSOR5BBTw+MWAmdUTXgN3QBNy8ORghSZz4Vgw5xJ2cEAwQ3BwMOby8LkQOSAEmNly8Fm5yelo0DihoAB5EEppdDVQALN4MZEQAh+QQFBQAPACwAAAAAAQABAAAEAvBFADs=",loadingCancle:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzBFMjYzRTUxQ0IwMTFFMkE5RkRDMDFGNUY3NTA2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzBFMjYzRTYxQ0IwMTFFMkE5RkRDMDFGNUY3NTA2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMEUyNjNFMzFDQjAxMUUyQTlGREMwMUY1Rjc1MDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMEUyNjNFNDFDQjAxMUUyQTlGREMwMUY1Rjc1MDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmI2XfsAAADqSURBVHja7FTLDYMwDI1puwQr5MCJKZCyB3cklsg9GzAAEjAEezBFhRtHISr/T9VD1VgyJP68ZzsBQET2TQFP8McEaZoGJ7F6pdTMeN9KaNv2nR3iODYLbaeX82k7nO6g67oRiBCC6VgDBABYluUIhx5hGM5w9sbgKrOARLgIfrWDQXCvgLUOVgmiKGJ2HEarqhoFJklicod8zjkriuL0iLY6OHS/jxCgrn5mtDb8lADrunabPM8fpMPe+vASAc20aZrpgT6tusOlGIpdk60PLciy7EYLKWW/dIO0P5gU2vu/qSf4QYKXAAMAJ5qBE+5PPaUAAAAASUVORK5CYII=",hand:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjI3OEJEQkYxQ0U3MTFFMjg5NDZFNzJBMTc5RTBBMzMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjI3OEJEQzAxQ0U3MTFFMjg5NDZFNzJBMTc5RTBBMzMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMjc4QkRCRDFDRTcxMUUyODk0NkU3MkExNzlFMEEzMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMjc4QkRCRTFDRTcxMUUyODk0NkU3MkExNzlFMEEzMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjEL5KQAAAHBSURBVHja5FRNywFhFGVmkM9EEaWQEik1Fqws/AWJn2Dl/8haKTsW/ANljaQslLLwka98NjNOpvTkfeadUXo371k83bndOXPuufcZfT6f130DjO5L+EOi0Wg0GAxUyzhqdj6fX6/XYDDIsmytVlssFo1G43w+z2Yzh8Ph9/u1KspkMsViURRF+dHn8+G0WCzVarVQKHygqFQqCYIwHo+Px+MrGY1GcTqdzg882mw2OMPhMOheSbvdTvY+nU7ViWCKJEmxWOx0OklPrNdrtCbHt9stnU6Xy2V1ot1uB4O8Xq/b7RafQEfJZBLB/X4/HA5YY7PZTL7CxuNxOdput5g0JNhsNqPRGIlE8PFUKiWrgAQ5QNcejycQCGCsqKcQ8TxfqVSsVmu/30d1NpuVaHC5XGAxmUytVgtfpUxtuVxyHIfBJxKJer2+3+9hitL6YaFQT28N9AzDhEIhGAF1l8vFYDBQRWFLu90uKed9j3q9HkwFF4rgJTl7EhC7Wq1U9qjT6UAzLBCVIW+Z+kI2m01MEIGgAK1EQLvdFpTxZvNvRPBoOBxS+8IQcD+0XlpgMpnkcrmfefIak9D/53+2RjwEGAAlkHhWHev9/QAAAABJRU5ErkJggg==",rotate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjM2M0UyRTcxQ0U3MTFFMjgxRDNEQkM4N0Q3NTg2QkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjM2M0UyRTgxQ0U3MTFFMjgxRDNEQkM4N0Q3NTg2QkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMzYzRTJFNTFDRTcxMUUyODFEM0RCQzg3RDc1ODZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMzYzRTJFNjFDRTcxMUUyODFEM0RCQzg3RDc1ODZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlX779gAAAJXSURBVHja3JQ5a6pREIbzqbigoqBeNyI2pghEAnZiJZZ2/gMLQZBgoYUEXIJgYyD+gYhYxcJGtDKQH6CIImKhuIAGFHHfl9yXyPV6DZoUKS6ZYjhHzzxn5p05H2EwGM6+w0hn32T/H4hy7I/RaNTpdCaTCYVCWa1W6/X617vVajV4BoPxOQgx1WpVoVCYzWa5XD6fz2k0Gn58fHxMJpMmk+n5+RlbMpm8H0UcdA0n6vX67e2tQCCIx+OlUqlQKFxeXl5fX+t0OuQokUiAttvtfD5/n3Wo0XA49Hq9r6+vgUAAFKSGLXw6nQady+WiWFx2c3OD+05lpNfrZ7MZSsAa8R6Ph0qlLhYLv99/d3fH4XB2J/v9Pi47CtpZLpfTarVisVilUkEjsFwuFyT7avszmUyr1cLCarUul8tsNnt/f48t8kJ2yPGrIIfDgRgsNBoN2ux2u5VKZT6fh3aQ1ul0HmMdglgslsVi2Sa1NQj89PQUiUQwTSQSCZJXKpXPQegFhCAIYrPZNJtNeOTi8/l4PN763cBC1h9ZpH11Go0GWo6bUQK80WiEPz8/Z7PZ0Gv9x8B6eHg4CrLZbEwm8+XlBY8ABSKATqfDq9VqeIzfDiQUCkOh0NEngmvRl0Qi0W63RSLRwblutwsEFlKpNBgM9nq9gwNkjP92hXbIZLKrqys8js2/ViwW397eoDooyAWjeEpsDHQ0GsULWH0w5IhROEE57BpYsVjsIwjtu7i4CIfDg8Hg2ED+LW1r4/EYg4dm7+pKpVLlchkjPp1OT3zYiJ/78f8twABFT5G5Yf+a5QAAAABJRU5ErkJggg==",zoom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzI2NDFENzExQ0NBMTFFMjhDOUNGQ0NDOTYzODI4REUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzI2NDFENzIxQ0NBMTFFMjhDOUNGQ0NDOTYzODI4REUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMjY0MUQ2RjFDQ0ExMUUyOEM5Q0ZDQ0M5NjM4MjhERSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMjY0MUQ3MDFDQ0ExMUUyOEM5Q0ZDQ0M5NjM4MjhERSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjUXtsUAAAHTSURBVHjazJTHakJREIZzc63YS2xYsKx05cYXEHwBfQb3PpgbwRdw60oXtoWoWBAL9i7mQyGERMNNWeRfXA4znO/M/GfuEZLJ5NNf6Pnpj/T/QLK70cPhMBgMlsslC4VCodPpnE4ni++BVqsViFQqFQgEjEbjbDZrNpu5XA6cVqt9BBLD4fCHWuRyeSaT4fxOp1Ov17fbrdvtTiQSpVLpdDqJoijJo/1+n06nQTQajcvlQkXn87larbZaLeJkpZodj8fppd/v04UgCFD46vX6Xq83nU7JSgX5/X4oarWawyFOJpP5fL7b7TQaDXGyUs2mF7ygKTafryKITSqVitKi0ajUiqjCZDJh6of48XgkTlYqaDQacUcc/nyVeNVt7fV6y+UylUoCFYtFs9nMBMES3ykYDNpsNpfL1e1277LuzNFwOIzFYlarFYPokUUkEgmFQuv1+uWqQqHAncpksq9AaLFYMERs8Hg8ZNnD3dGawWDgGIfDYbfbP7ME6e8RPw30zWbDGrOy2azP53sb9DsVPVKlUuEe+OPwiH6xkgjz9W0QqtVqsGjqxrrN6g/fI56B8XhssVgY3bdyHr5HXyufz+OOUqnkB/wVCLXb7X//Zr8KMADSBu6sAZizOwAAAABJRU5ErkJggg==",flipVertical:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mzc5RkM3NzYxQ0Y0MTFFMkFGQzk4NzFDMzc4MTVBMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mzc5RkM3NzcxQ0Y0MTFFMkFGQzk4NzFDMzc4MTVBMTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzlGQzc3NDFDRjQxMUUyQUZDOTg3MUMzNzgxNUExMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNzlGQzc3NTFDRjQxMUUyQUZDOTg3MUMzNzgxNUExMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoWGg/MAAAFCSURBVHja3JTNboMwDMftaVyKVlrYCU68Ae/Ci/MQE1JRCuok1gNCnuMExgQEJnGaUaIA8S9/fwDmeQ5H2AscZIeBXqc3Xde1bcvzppvneb7v87wMSpIkjuOdEsqyrKpqGcSUoigQkPQgQuQZkN8gkKz0JUuALMtWQWxBEOyRQ+4csYXXUCTovYR6IGo3lHsYFRJtgKL3SPbooSMD8TPBoDxGOYeo73snKArFGa2z4AxJpOEo7XarXKArhzac7TKEDdDb+Qw/9TGx2AFDesAG7MyRfzqtVAn/0NlsX88n6BzIhNNiGyGms+ZFm4E+H495OrYStgSq68Y0r9QKx8sCLdH0lhN0r5XeRxYCQ3bpl7gFkTOQuoNtOrQlI3HTeZl8bQCX4OICNU2z8+t3gZRSaZruBPHmVdCH2H/5Zx8G+hZgAJcamqB3G0N7AAAAAElFTkSuQmCC",flipHorizontal:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUVBRDRDOTkxQ0Y0MTFFMkI0OUU5NThEQzI4NTFGNDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUVBRDRDOUExQ0Y0MTFFMkI0OUU5NThEQzI4NTFGNDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RUFENEM5NzFDRjQxMUUyQjQ5RTk1OERDMjg1MUY0MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RUFENEM5ODFDRjQxMUUyQjQ5RTk1OERDMjg1MUY0MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pnl92swAAAFKSURBVHja3JTJjoMwDIbxqBw6SKVAT3DiDXgX3l9cRkhFLKIjekHIk9gJoXQhB07jILPFX37bAcjz3NnDvpydbDfQYXkzjuMwDMJvhrmu63me8K9BSZLEcWwpoSzLqqpegwSlKIogCKJLFIWXMAxOvv99PA73++/t1nVt07RN3bRd2/d9lmVL0LsagRhkSA75Sp7h4fUnEIhZKkhPpzhyqPBg1TVAMcBEMJnRjAJECxBKkloUlo+FWLkG8S1SU8sDPjDmM2u0UwScnJFDUCEHqIIrpR9qhHIAeZ2Tfj4rsUptlZW6RWSk2RAbIFw2Ho2nxFSN0E4RzUe9qUxiYPTZ1Agck5rqDhdbooC1gGNZbN7JWpFOEFbpb9VIBZnNrLCyj6KZT4znr7+u6zRNxcU0Tdequi4+7tn881kcPPkt6Ifsv/yzdwP9CTAAzDedWzss4SgAAAAASUVORK5CYII=",compare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAYFBMVEVTU1O6urqrq6tmZmawsLCzs7NxcXFwcHCvr6+oqKiamppcXFxXV1dVVVVzc3Otra1qamp4eHhfX1+1tbWlpaWioqKdnZ2VlZWQkJCKioqEhIRtbW1iYmJZWVl+fn55eXlv0MifAAAAo0lEQVQoz7XQyQ6CMBCA4Q7dgUJb9k3f/y0dhBSxejCG/9KkX+YwQ/5p0Fn0l1GsAW8o5knIaY6Byilgagyg4VmZzxoDFiDZQGVGFFImn0CKaYd4QvwERH6BpRAiglrz3HYymmD3tjIWeivfYKQNx82rmz0BH6htKgRInH6FtnCu5itArcoAJTB2HBEOaPcjmg10gLlPMcYXv77dRM6l4MklPQAAZAfZanJzfwAAAABJRU5ErkJggg==",close:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARCAIAAAAt9wkYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0I3NzA1RDAxQ0Y3MTFFMkJGMTU4MTc4OEQ2N0MzQjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0I3NzA1RDExQ0Y3MTFFMkJGMTU4MTc4OEQ2N0MzQjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQjc3MDVDRTFDRjcxMUUyQkYxNTgxNzg4RDY3QzNCOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQjc3MDVDRjFDRjcxMUUyQkYxNTgxNzg4RDY3QzNCOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUW1owAAADqSURBVHja5FWxCoQwDL2W+x4X/QmHujvXzV0XadHN31HUn2gR/KD2AgWRAytETpTLEF5eSfqaaEvyPH/dw97W2rtIMcY8uytKKQeiKPKTP5fSdZ0DSZKEYQhAa72SdV0japIsy3D9XPdjjIHv+96FUkpPFqV0VwrnHD3dpmm+GCHEwdEJ2VVpTlhVVdtaEB6m2H2j9oTN87yVAuFhikclviuw8TAMWykQAonuCvJeWZZlmiaHy7IE37Yt+HEc4zgOggBREzmgVUdRFI4B4BhYwg2IpGl65ZXq+ZmvfoM838MfP4fPGNBHgAEAi7gyuvHuhZcAAAAASUVORK5CYII=",searchBtn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARBAMAAABQu4N8AAAAGFBMVEVnZ2dYWFhfX19qampUVFTl5eVjY2NbW1ua0D9wAAAAaUlEQVQY03WKwQ2AIBAE/ViADxsgsQJbsAA0GagAOyC27z0O1wfMJZvs7E17n6EXM1Hlr+kORJtUb6dgQWpVPhVSkQ8OYeOydOT9nOH/49RcyTW3Ko8F8kuDc1n5mvwKNslrMC1/9Bn5FxqpUThYQLEuAAAAAElFTkSuQmCC",rotateIndicatorBG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAAC5CAMAAACoRNVtAAABX1BMVEUAAACPj48AAAAAAAAAAACMjIyPj48BAQEAAAAAAAAAAAAAAAAAAABdXV2EhIRvb2+Ojo6Pj4+Pj48AAAAcHBwAAABERESPj48AAACPj497e3uPj482NjaPj48ICAiPj49aWlqMjIyPj48QEBAAAACPj4+Pj49ycnKOjo5UVFQDAwOPj4+Pj4+Ojo6Pj4+Pj4+GhoZ6enqPj4+Pj4+Pj4+Dg4OPj49kZGQhISGMjIwAAAAxMTGJiYmBgYGLi4uPj49lZWWOjo6Pj4+Pj4+Pj48ICAiPj4+Li4t8fHx3d3ePj4+Pj4+Pj48+Pj6Ojo6Ojo4AAACKioqOjo6Pj4+KioqKioqOjo6Ojo4AAACMjIyAgIBra2tAQECHh4eJiYmLi4t+fn6MjIwpKSkjIyNLS0tubm6FhYVTU1NhYWGOjo46OjoAAAAAAACEhIRra2toaGhbW1t/f39LS0tOTk5sbGzAc0kEAAAAdXRSTlMAzD4WBMLIMTkOPCcgca6Exg1HBkc0XCYSBpmxVCIMCW4Sn0IqvpSKXkkZqqVtUkGymWg5w6uaZ0ovLSm6p5x6eWQ+LB8eGxadk4uEf1lNNAq+u7eFfnRZCbajgTG1qqKdkU1KYXtyZ11WHhQIjnNtUlFPPlvso/l/AAAH2UlEQVR42tWd+VcSURTH7/eJI2ILgxEQIYKBFJsJLbRRYFBqmlnaXrbv+/9/mqB65uAs2Cz386seznv3vPnMfffdmSHnUFUKBIglsTZNjRNLqhGKjxBLCvN09SqxZGOJJiaIJVtZOjZGLCnmKBokloShhgRLO2aAhhAs7dgAvgrB0o4R4JUQ+4ghV4CPQrC04zLwWAiWdswDo0KwtGMSwCHB0o4KgMMs7diBxn6WdlyFxkGWdlyBxhGWdpyHxgGWdlwCuNoxC3C14zrA1I4JgKsdUwBXO9YArnZ8C3C1YxngasdFgKsdSwBXO+bA1Y4qwNWOMYCrHasAVzsWAK523AC42nEL4GrHIsDVjmFwtWMG4GrHBsDVjhGAqx2vAFztuAxwtWMe8JsdqyrFA9YK1LbtqLYoECfHyJRqgTELv6/Ath1bWTU+FiDnaKH5znwkHcCmHdVlZXUi5Ow1sYzkcREdNy1Q27NjbR2vok7fddV1KLMzoX1mBWo7dkw33TkxqwGYuyHGpowL1DbsuJoEwkdF8C45TROA8kCErhoWqC3bMbGh9P/nBDlOume+U0fF2F2DArVVO7aL0HgqxDFyGHkRhi+L0AmDArUlOybKCjTWDomgg17U797uPxfnJg0K1OZ2jBXR44UQcXKFRPK39qZFcGRwgdqSHa8o6DHr4m6kofxZC4fERGCghMztmCqhz9yMmxl9Gb9Zey2C8QEFanM7FsLoo3kxdJNcIyG3zddnxIR+YmZ2XJASuiy96AoxmWBdOLwzMVgETOy4Wccf7jvoRfMb5s7EoAQY2rFzGn9Zey6Ck+Qqcnz6xCAHQztW6pC8ll50jVQYku2JQXcRMLBjN49tXPek1FGARCYGMqbbeDT7IrqvH9yV3D9/mBFR8gApCZkYJJYwmLXZo8F9dzOL2I5yQ4SmyAMWwpD0E4OxLHbn6eHpHP7hgRBXyRM2d67p6Wuww0UhzpFHnMYunDo4/e3hu6mpbixSvhTGYEafSS+6Tqc+MJj7Z86NBOgv6UhewQCmhXhPnlGBjpNHQxO6lGRhuT94770okZKWjhzojNTOxXVB82KAPKSb0wtyFyrhHelkaJw8ZWV7IG+IqIGmY0lfeHFQmjineX3SuOwnF5YfDgwyuT8jPyTMaoZqcZsXP5DnRH6vlrMWLrtM0leF65addCQWlqmu9xRtbdMq/YxRiCh5TsRmOqL53clCnf3U1/quPqVAY84HYU/17/42burNfsHL+8OxeRl0iywo0Lju/fl70X7ine+51MMVo7YjV24/yUlN27ywRw+cPHjm+PmR8QC5RjpW1cZ869+iYihg4wcUSNyZQSJWLdy5JMc8dEIi81/HZ5BItbQx34Oe4YrM85A4NYPEQmtTG7MCA+RSt9234cgMEqmqYZz1RehhmiD/7wzSMTlmyzwXYnKYHqX/NAM1FpHesMmMEPYcBcmwM5B+voU9IGwOnSDZywzUX0tk63EYPXwc9T7hR/evv3xz/Pz7qYBcgO1fqzzZn4Kv1nqfCxevvzxz/OHI+OTuv9vQFpAUokeGkaydOnLw85eHJ+LW97Ldxsr8bekal7wuGZ17Ovvpzfer8Zs0LJ3VlbJ2GSuAM3dT88W89xtrrVKWJtp7DmN/Me89n6m9fbX1OIe9Z476xewO6VRrc2Pr8egw+bpuMXtDdohdkk96fVeH2Jv6pQCWt9vp3fxdXve+mtGp26zD+CboRJs2q18+Wek9yvZrjv3eQO+J9AZjtdLrn+Xy9zhpzcopaDeJHtP+GHrezqmGH057B5y2zz0TUatnSfflZe0ZqfBwJ3iXPS+wJ0rYhmLl3FT22XnrmLLN02r/PK/UUOz0CPilGUY2VVvvzPBHC1KPZezCqdn9Wj/MeKbbXilfUjCYOQ8zsCqGRu5pPSFzS9dA9cBwpNOj+JcXXnVnbOFfrp0VxzYV7IYmzof5HTvpQ970xFQgkc3srToG8qjf+Vup+6ATaaGuC/lkT+BF6JHPA3WykHjULJDVh7xPWu+d+0fFub+3zoICydpZEXR7yczrQ/6XHAyfeIiVIHnqeg94W9GFXFIyuecnyop3z3Smk7qQG7Te6+sFjaRnjZrNASGXbJg+NUDppkftsTWDkGu8tVLErq17kbqr6wYh12hZOjpQlzxI3RcNQi57ZMyf2ozk3E7dVwxDrpEe7EY93by7qXunbhByndhNglqpu5m6n5YhN7/TmtZSO1n3UveCWcg1lgzcqKOguJS6xxSzkGuUbR3wxUqupO6JIvDUOOQaFXM37kwM7jnezr6BWz9MQq5RM3ejLjG4E3U2dV/F4juzkGukzN2oSwyU1kQoTo6hliKBsREyJTFErahWcvTFE9UMvbeU5a3r3GiOWqWAD9qrswDX9zgt+e/9MFaZ5/tWngrfdyHV+L6BasE/dXS7JBS2b1ujda5uJDrN1Y2a2Lm6URM7VzcSrXB1I9EqVzcSddi6kUjh6kaiJFc3amLn6kaiZa5uJLrC1Y1EEa5uJGqwdSN12bqRyEdNpHZJcnUjUZ6rG4maXN2oiZ2rG4kiXN1I1GbrRsqwdSNRmKsbiYpc3cj6S5tNvt83LfD9qizjb/m2+X5BWeX73WqqQw2ydGPvG+1jLN1ItMj3y/gbS7SPpRuJNufpBEs3ElUjFGfpRqJYm6Z4upFUlQJOuvEngp7208ni9ZwAAAAASUVORK5CYII=",rotateIndicatorPointer:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAADxCAYAAACEXZTsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTQ0RjM2N0YyNDJFMTFFMjk1QkFBRDIwRTU4OTdBRDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTQ0RjM2ODAyNDJFMTFFMjk1QkFBRDIwRTU4OTdBRDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NDRGMzY3RDI0MkUxMUUyOTVCQUFEMjBFNTg5N0FEOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NDRGMzY3RTI0MkUxMUUyOTVCQUFEMjBFNTg5N0FEOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Psfyr6YAAArZSURBVHja3J1bbyNJFcfL7cT25D6Jc2EmziYZVqBhGFZCCBADgn0cHuYFaSUekGbeQbvwlskH2BeyCAkeeED7AUBoQPuOhBBCgoWZZYUyuV8mk/iSxHZ8ycVuTsVtuTfEdlXXOdXVXVJPOnH78vP/1L9Ona7uidi2zcLULBayFjqgHpGDfhOJqL7P0DL8s8RYmf/yU8YuZJ68dOX3Tt2kR9MX9wZs/FvZdH4v+KoQQpt2gPbDAjTj/PzUiD6ECHQjbEB9YQNKhGEcGoWtn28pxm7yLxFsOBZkoJTL6saolbI0hhunGac2B61Ag4xNhAoILC5J7XZagRKtkAt0H7rd3Im1FApsyE24wwuSudgsY8OwG6Wybmqg6WvkIlWJGmj26h+SrX7UFwqFBgKu0BtX/wCyTFI6nXaFYq30J3AKWe48zg0UdYCWGrPYwABNsmusGQh65xpZt8UIrJsSaKbDSEvmdL4A3STMui2dhuCybrKczheFbhCORb4AxQMIFHVn2VdbLwDFGu+dwLZuKqBbrENFCQis+UbxxMLuR1RAqW4HfI7I6aiAprsdMNLqR4FQaLbbAQNhU4jKun1TKN4qafWZDgSuzKYEDhpJNOw9voT4OSiAbgu+rvVmI+wimMZAAZQSPXCCwOkogGZEDxwhcDpfgQYISsO+AiXCplCcYF6EDcRrBOOiB0P2OjzYsPkElnVjA6UkXzMyh3xWz/Ir3JptErkf+Q40glwB8h2o33CFUrJPSBgONC37hBhy+oMJ1MdaUwLhBtY9NNKwe551R00Cmvb6xDnEARYTaNbrEycRnc4IhYYQp+OYQDNen9iPuMIEEyjl9YkJxPTHCIViBvYhSJovz8p5auDVA+MNdXqXFBclWn6r47JulH5kDFASKQXCAppWfQEs6zZGob6wASUMCzlloJhBQDcd21YdP27cuizVXS6D7vUTKIWkMl/ppNyPMICmsYBGESZ7GECzWEBDCCmQUQr1GRJyaAolENIfoxTqRZiKqwIlGe6pkOYyaM9XsKgCoVl2s91SnOypAs1gA40pOp1xQIOKKZBxQKrWbVwfivuoUATTsl1ZdzLiE9AEI1gz6iyDHuGfbelSMH1A6P2n2VSuYDESaFQhBTISaNAnhVJUQDd8UmiaCiiucAWLVyCLUiG+DLrHWXYmuwzaK9AUUyhkCFh3dL51BUtcB9AsI263PS7htEzrP83mdRm0V6AUNdCAR6fzCjRDDZRoXEoQKiBtCvU0Zsq0DSx0NN662MOiBOLLmKOMvlmfbwywUsugLRMNwTXYSZe1jAbysgzaMtEQmq3fQ9ZtNFAibAolNCjEy7OTuoBgfLjZ3xgm4qKfVRZomum9a2DkjuQVLF6AtLYJybCTBZrVDSRr3cYr1B82hWQLJsYrFCNUiLvMuG4gfgXLsLMMWuTzygClGME9RETanERZSwZohvnUJiX6USCAhiWu1euhALIZq2UZe7HO2CdrjH0MP9eh8xW/CZ8NOsNX4PHvwTf5bdGJYr/EvKhHsg91bQDy/HeM/fFfjL2EXzds2666Hi7CtgvbRz+LRPgX9B5rgKFl3RYWEHzr9U8Z+8NTxj4EmH8AyH+vwHym/dy2t9nlfZDZrxtPx7FuUSB+W8+xTge8YOz3v2TsL7C7CiCvRF4UoGzYfgu7v+p0HMTl4Ggj3GLdwtTC6D9pxv4JX/Pf+C58xteynR6gPoQff+1i3UIqKQNBrJxDn/kIduu8zyiY2S9gq3XIuoUWZCgDgTrPnzN2DLsZUOfUKw2otNFJpSFBp7NUDWGVsf84uzmEIefPAtaNolDbpPTvrTDDuCn4i3YPxAUXNYkCtZs22MuNsYXfR/4MASjbAUjofJHQwFr+4IP2fr64GC2VSrVIJGIBVF2pyrOw0HaNXL0OL/3++2jTh612RYz5+fkhZx/jFGWy3QOnp6dN9SoYQLvtHrh7926zfw0iAH2x3QPVajWDCbTd7oE7d+7cc3bHEIC+2+6Bk5OTJlCZFCiZTL517949vthoHPpR3CvJ06dPIRlg32r3eKFQaA4LVdKQA4jeR48efd95rTkFdX7SKU9Lp9N6Qs5R6atPnjz5Bs9QAHDKgzo/6jaNWFtbS2MC8bHmqNMBEHY/ePz48ddh900ZKID5Ifz4cadjarVaGRTioXbOuvy/KzITvB3W4UpIPg7dv3//ncXFxS88e/bsT/A7n+Ctt8vvAITnh+/C9p1ubwyWLaSOLBDvR/e7HTQ2NvYWKPXlTCbz8fr6+icPHjz49/Ly8urU1FTp4cOHw9Fo9EsA+bZlWW+LTsHBsrMUQJuiB4I60YmJia/xrfk3AHQ/LtXHXJbdFciSVMiXBpadFbFsWaAdv4AODg6EBlVZoG2/gMCysxQhV4LtUDcMWPZJNpvloXbWaYruBciXsAPLFjYEL0Daw65SqYQLCCaPwg7nBeiVbqB8Pp+lVGhTN9D+/r6wZXsB0j64rq6uZihDrtypMkNg2YWjo6MzUcv2AqTVumWSUhUgbU4na9nGK1Qul6Us23ig4+PjrIzDGR9yYNnpUIUcWHZOBxCP5zQ1zMXFRR5Cjts1r0nUKYG0DLCitWwsIPIUCCw7LetwKkDkSSpk2TmdCpE7HaQ8Ukmp8UCuLFuLQtwUKP/Ld9tl2Vr60CmldZ+fn+cLhQKvY1cXFhbqOoBIw+7s7CzjRR1jgVxJaUUnEJl1uwojWoHIBlew7LQfQGTpD1h2zi+gOgGPvbKyknWGBa2mwDPhAwLLPjo5OeGnHU9lLVsViMTpvGbZWEDokz3IsqXrCEYDQbhJ1xGMDrnDw8N0qELu4OAg52fIvUK27vry8rJny8YA4hnxPqJlH4Mp1LxaNgYQagoke/qRCggtSVXJsjGB0JwOLDsdKiDIso1QCM26X79+rZQlYAHtMcGza90s++XLlzkVy8YCunCgVOsIR9Vqte6lMIINhBJ2GJaNCaQ8e3Vl2UYAKQ+uxWIxHSqFIMtWdjij+tDe3p5RIbfHuiw/7lgVse36ysrKoZO5G6FQTSWngyw7C7Zdd7Js2wQgpX6kWhihAvKc07my7HIogMCyPZ9tMDLkIMvOmQi05dnzd3bSJobcvlNjkLXs2tra2pFj2acmAdW9hB1Ydg4228mybZOAPPUjL4v8dAJJOx1YdjpUQK5adtVEIOmQy+Vy4Qo5sGxPS2B0AfEzesIXuYNlX7gs+8xEICnrhgw7V6tdFowqGJZNASTVjzCzbEog4fpCqVQ6wHQ43xUCyz4MgkLC9QWw7HQQgISte3t7OxB9KC3SJ8Cyz8Gy+e1z6uBwpyYD2SIFE7DsLEChqkMFJBR2orfkCAwQxulHnUBdrbtYLKJm2dRAXesL2WwWNSn1XSEKy6YESnf6oPy2UxsbG3nYrYFlnwUBqKNKPCmlsGxqoG0By66GAqhSqeQo+o9vIVcoFDJBBGqrUKZ1x5VyKIB2dnayQexDuesUqNfr3LL57Q8vsC2bGujafqRy5YkJQJu6smzfFIIsOxdkoP+rL+Tz+XSQgbY7ZNnhUAiy7FyQTYHX3Uouy65ubW0VqSxbB9Bnwo7asrUDudbElYMM9OqawkigFdp0WXYmDArturLsbKj6EDgcSWHE3Xo0APH69eU9uXd3d/k+A8s+DzKQW6UK9RvpAuIZQyRsQKFSKLQhVw2bQmXqN4o4JdnQNIuFrIUO6H8CDADtKO5SoZAASgAAAABJRU5ErkJggg==",arrowTop:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAdCAYAAADsMO9vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjNFMkVGMDEyQzI0MTFFMjg3QzRFMzA4RUMzNUU1M0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjNFMkVGMDIyQzI0MTFFMjg3QzRFMzA4RUMzNUU1M0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCM0UyRUVGRjJDMjQxMUUyODdDNEUzMDhFQzM1RTUzRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCM0UyRUYwMDJDMjQxMUUyODdDNEUzMDhFQzM1RTUzRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlvCjVAAAAD/SURBVHja1JjRDYQgDIbZgBEYwREcgREYxREcoSMxwo3gCHc+0MQQPCgUKCT/G8r3GW0RpfoNfceHaLXYQPhvyFISJoJ/Shjp8NudKwGPucKcJeFFS9hC+KeElQLvCOBx3Mrw0yVOBnjMORoeGOExIBEeKuYP664UGIpEl67dAj9dwjDA10o0bz1KuyulmlCqV1PXpsK7Tv2jSsJ2hK+VsD1u3NpJ2dcaCc++JvXj2hnL9N5aLGBUZWAsGiAJvknCC4GvkfC4Tchd8Bn8G7iFNXMPVJdYzzoS+bf/Sr4NThB8TuK1lB4CD6NiiaPkh0XaSRpKQOlkiceASa6fAAMADgHRdvHjSZ0AAAAASUVORK5CYII=",arrowBottom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAdCAYAAADsMO9vAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzg4RUFEREQyQzI0MTFFMkJGRTVENTM1RUFERUEyNjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzg4RUFEREUyQzI0MTFFMkJGRTVENTM1RUFERUEyNjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODhFQUREQjJDMjQxMUUyQkZFNUQ1MzVFQURFQTI2MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDODhFQUREQzJDMjQxMUUyQkZFNUQ1MzVFQURFQTI2MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl7tKzkAAAEVSURBVHja1JjREYQgDES5CizhSqAES7gSUoolUAIlUcKVQAmRD5hhPBXDkRgzk79V3uK4Roz5LZ86pJ6Mnpoyk28Jl9SYW4uJAl+4liMhVCItJrbwpWErtKnjjvBOE0fwmFltLTyCL/2tLxAom9c8Y4plY0NDuOuaGT5eZAoldVCJCQo81qmkwUQ3fClHNDEPhJ+J8I4SpWcNA+CHrylpgm2tD/GRAjN8zEysLxUwwlupZHAX7umkE+9N+NhhY2KkxHXIa7PPJVdNUOGHz1//mLgdvncnfYdepDwxv1XB96TJiPRiKRgAD+bmgifD944eXaOBlj8pqT87FhOq4Vujx9DRQPpIRNtJH8kEK/wLEc2TaxVgABhX1Dief8wFAAAAAElFTkSuQmCC",arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAwCAYAAADtoXHnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTkwNjJDNTkyQzI0MTFFMkI0NzZFM0NEMTRCQUU4NzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTkwNjJDNUEyQzI0MTFFMkI0NzZFM0NEMTRCQUU4NzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTA2MkM1NzJDMjQxMUUyQjQ3NkUzQ0QxNEJBRTg3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTA2MkM1ODJDMjQxMUUyQjQ3NkUzQ0QxNEJBRTg3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps3mm0sAAAEHSURBVHjaxNhhDcMgEIZhMgOVMAmVMAmVgJRJQAKSJmESJoHRhSVkNIM7oC/J/WrSJ2nhA86EEMyk4WM9Yi3Fk0noDoZUr1jrbNRlYA7bWag9APO6j0Zr4Lf8KHRrBMNncg1A1/TP2sB9NneicrDzn15VYAe6pBe1gM8iIBSoBCyDQYn2gQrUd4NCdAwoQJ1g8d+qb2tArQC0Td+sgo4HK+g2BfyDSuLNiqPlAJWAThWgP6gkT716m8hQSbzpwQw9D8zQ88A4LoYY5OdFJhK2ZLBwwGIQC3xsa8M2cey4gh3MsCModtjGrhXIBQq7KmKXYuz6jzU6sJYO1rzC2nRYQ7Laen0LMACbElNZVX4epQAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAwCAYAAADtoXHnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0M5MkUyMEIyQzI0MTFFMkJEREE4MzFDNDE2ODE0OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0M5MkUyMEMyQzI0MTFFMkJEREE4MzFDNDE2ODE0OTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3QzkyRTIwOTJDMjQxMUUyQkREQTgzMUM0MTY4MTQ5MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3QzkyRTIwQTJDMjQxMUUyQkREQTgzMUM0MTY4MTQ5MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrqtTzoAAADVSURBVHja5NjhCYMwEAXgows4giN0BEdwhBvFETpCRsoIjuAINsIJpfgjoZf3YhN4/4QPgj6TE7leQ0pMCQJaz5QtZbdUh/ULPPOqBS4X2GfUExtsC/eMqCcaM9EjMwPe7GXrCx494TUTjvZ8lYJoFhYGHP4CngrKw7WntQDW7uCZAbvWpdgLQ4EDo6dLYNe6vAf8kBsv+PY2C7p9MvBy0FZBt8KH/9rgIPy4Aj+YNQ1GBvhzvcEvUPCrIvxSTLmFwwcdlJEOZXhFHdPRBpKQ0etbgAEA5TXHBKbv1IkAAAAASUVORK5CYII=",fivePointedStar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAUCAYAAADRA14pAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUY4RUQ3MDQzRTA1MTFFMjk0NEY4RkZDQjhEODM4QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUY4RUQ3MDUzRTA1MTFFMjk0NEY4RkZDQjhEODM4QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRjhFRDcwMjNFMDUxMUUyOTQ0RjhGRkNCOEQ4MzhBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRjhFRDcwMzNFMDUxMUUyOTQ0RjhGRkNCOEQ4MzhBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkpRrF4AAAGOSURBVHjaYvz//z/DSAIsIKKsrIyQOm0ofRWfoq6uLjB99uxZqphnbGwMpqdMYaSKeTk5/yEeJgKEEmMgCWDAzGMi0sBwKKYWGDDziPGwHhBrQLEeFRw3oOYxkZBc0NmUJr8BMY+JyOQCA2FUSn4DZh6s0FIAYg4g5oby+YCYGYhlgVgVSb0aECcC8WMg/gvEn6DiX4H4BxA/GOzmwTysC8RLoAYRAvOwiIEMjkFy4KA1D5akNwOxORDfJCNJgfSYQc1gGOzmIefhG1BDt5BgGD6HDErz0Autj0DsD8QtQIyvzfkfqiYAqgcXGHTmYSul/wFxLRAfxWPgYaiaf0SE8qAyD1e1xAPEpngMNIeqIRYMGvNwedgBiNnxGAiSsyfBgYPGPFwe9kLLN5FAHIGWH7xJcOCgMQ9Xb8kNSh8D4mik+vAkEC8FYiskNcSAQWMethhWh7ZsmqHJ4gGS3AOoWDNUjRoRjhtU5mGLYU0gdgLiQzgs/APEdUC8B4i1gPgWAQcOKvMYR9oQD0CAAQAKvKHlERqdgwAAAABJRU5ErkJggg==",lock:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAB2dnZ3d3d3d3d5eXl8fHxzc3N0dHR5eXl5eXl+fn53d3dzc3NxcXF2dnZ0dHR9fX13d3d9fX2pDWFRAAAAE3RSTlMAqXCZJy6vvllLNWXZooyCFXsZospBZQAAAG9JREFUGNN9z0sOgCAMBFAEWql89f6HNdKAxSCzYJK3YEAt41JyHyoYnYtYBoz5OXOUBsiNIJASdyK5krmz2PIh7DUh+GbaABw1AEYref04qTb7ot0GJJrgqWfoJ3gVxuWQfFJDj7oH+5fI9JD6yw3ZiwMeFNafHgAAAABJRU5ErkJggg==",filter:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAmVBMVEUAAABwcHBDQ0N4eHh5eXl6enpOTk5sbGxgYGBsbGxgYGBPT098fHxzc3NlZWVjY2NPT09JSUlfX19/f39sbGxvb29qampmZmZjY2NkZGRgYGBoaGhcXFxwcHBra2tSUlI/Pz9xcXF4eHhvb29vb293d3dnZ2dubm5xcXFeXl5hYWFZWVllZWVVVVVfX19UVFRQUFBGRkZ8fHylyMz5AAAAM3RSTlMAuRnRth4boZF4UjTRyIphORcP0aaYmJWGhH1taV9eJgjRwLqqp6KYgYB3cGlXSUM5IxRjGaTQAAAAlElEQVQY05XP2Q6CMBCF4SNF1BaQXRFZ3Pf1/R/OMU1b0ju+m5n8F5MMBnhsR0bmyMhE7Cjdbi9jsIbBbnJ+/JVKnr9Uq8NCubTUtIQtQER6RU8XUH0xedwIONI7LFUFl0Y4IaGKszncMRB7JLaieEdRJKxY5kVxKnV8/qPlfEwOFC9Toh9ssw1LAF43Tc2h8fyL4X5A1wgjdDdVWwAAAABJRU5ErkJggg==",brokenImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkZCM0M0MkM0OTg2MTFFMjkyRUJDMzk3ODcyM0MwOEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkZCM0M0MkQ0OTg2MTFFMjkyRUJDMzk3ODcyM0MwOEUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRkIzQzQyQTQ5ODYxMUUyOTJFQkMzOTc4NzIzQzA4RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRkIzQzQyQjQ5ODYxMUUyOTJFQkMzOTc4NzIzQzA4RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pne+/t8AAA/4SURBVHjazFp5XFXV2n7OzAwyCCIYKGgOOIJSamlf1xRMszJkULNQBjWHnH637pifDXbTMBE1za5DpjnkmHNaV0UxxQEERQEREUFQOOdwOMO+71rsczxHOXCsP75v+Xt/e7H23ms/z3rf9Q7rKMGT7TmSaPzftNskO0j0jjwsCAKk+P/V2pOMIVE4+oLc3g0vLy/XmpqaUQ0NDS2ugMlkYlcJ6xuNRvO4hPXFMX7PSix/QyJBg1qjMBga5PX12toBzz23RSTxuqiJxt9NQKlUqugS5eTk9NTLaDAYODFrYYSsr5wAQ9jYgAf369EhOBgFBYW+Xbp0zqThQFETrZKwS0Cr1dpc7TUJraJ59c3AmiPQnLB3TQYTtDoN5Ao55HpDWF5e3tRu3botd5SE3JEVVcqlkClUv8OkjaKYbK8CCREAMzmZDK6Sh2jr5QqJfwCuXS/qdOXKlandu3d3iIRDBGS0OheLKjFu0VEE+bo1o4ZHe4KtqlkrEnaD902PxsT7JhPrA1KpDKXlFfjhg0B0DfNE+/btUVZW1ik/P39q165dzSTYntjeHAm5I66KPoPSynrkXy5BQ4g3H2cA9KR+nd6IhkYjGg1GMh3RtgX+oigWW2siaqSBRgNDDqjkcHNzQn15LaoeqPljLi4uCAoK4iRIE9NIE1/RcDt7JOQtAOfr2rSJJZDLJJA6K+Ht4QKNTo86jQ5+3q4ICfBAp0AvhLX3QhsPZzirZFDIpFApZCRyqJQyboINBFqt1aPivhoDurVDJ3r+g6//g3p1I07l34WLc5Pn1Ol01iQ6kiamkyaW2SMhaSGQ+RKJP9tYSsRCtA/3g5NKgQXxUegR5kOgDKQFA9eEwWjimjEJoovl7hJcC3q6V1unQ2T3ILzQw98y58pduWjQC5j0p07w8HAlp6Ej5dACqFTQaDSMBNvwN0USrFWQbGMkWgpkzFfHss7gwYOR8eXSpo8tHoeqej0+GN8fUqUU2Vfv4sKNe8i/VYMbFQ9Req8eZdVqlNMq36nR4G6tFpUPtCijv6+U3EdoB18O/vTJX+Df1o/PmTKqF05cKkd5TYO4ycE9lLUmiFBoQUHBdBFbAMkbJCp7GhhI4JewGJCeno4VK1bwwT07f0Ds6Dew6XgJTuWWwJ1UzsyktdZI++IukfmfyI6IHxqC4qJChIZ14ff6R0Ui+8xZ1OiA6zfLEfVsoN157twppz1mLO7QoUOGWROE8zvJY3YvJR++Wy6Xx6SmpWFlVpbNJDu3bcHo18fi6OVqZGw9g/Y+rtzm7TWd3oQ79zUYHt0JycPCcPN6ATqGP2vzTGRkP5w9m8P72w/mwEUp4YtjYmtLtmggG2nnqYJSJkBnEFBRUZH90ksvfS/iXSK3Bk+XdQz8u8nJWLtmDR8/N2oULpWW4u0LF/DaG29h25bv8PrYcbQpo7B4czaC/dyaJcHA365S47XB4Rx8cdEj8PNCQjD3+efht2kTcnLOoW/fPvjtt/N4cWgk+r7zHdooG6EwPkBjgxZVtfUYGqbAgI4qNBilCA4O9nrCC4ngvyVJmjBhAtavX89v7ho6FGGhoejSqRPuqtWYf+0a3ngrHtu3SjDmzTgyj3745/rTCPa11QQDX16twdihXTA1hq38VQLfld9L9vfH38eMgY7sPOfVVxG5ezfOn7+Afn1749xvF1CyPh5RM/egnW8o3F3kqKh8iIF95Ojtb0BVnR4KhcJoTUBK4NmX/83AJ40fbwO+f9euuFpVxWXyiBH4NDyc32MaYJp4rX8A/jd5MGo0Rkhlcrg6qyCXK/CwwYiJwyMwZ3QX3CjMswH/RVwcCqqrUXDvHvwpaDESrP12Phd9+vTi/bNLR+J+nZryJAOc3d1pIz+Dnj170v0+LNAZbAiIK58YHx+PjRs22IAveUBqpLxG29iIGzU1NiTejEvA1s0bMaKXDz5MGoBKWh0NZfHVagPihjyL9OGhHHynLt1twBfV1qKePIye0oiyhw9tSFy4cBG9e0Xw/q+fjsB9ihFqHeE1NUJHWTGtPsuSjY8TSIyOjsbmzZubJhk9GkN79bKAtyR3zZB4Kz4J329aj2ERbTB3bB9cLq3Fq9GhmPKnZ3D96mUL+Hf8/GzAW7JWkUQI7YkKWkDWci9ehrOTkvePfPQyjGRqSvJ2JjF7NWex1gSEGTNmWAa25OXRjpdxeSJDtSbRuTMfG5c4gZN4JcIbuz6KRforISjMu4jwrhEW8EsJ3OPgzU0hfmt/YaFlbN6c2fz6S949ykBYVJfSVWbJox4nkEzmI/z88898YBFt1Pe+/x5hbdrATaWyT2L4cHwaFvaIxOZNCPUEishVduneZMtv+/q2CN5ZqURHLy+sOnQIk86d42MrlmfgHws/wZH8OnyyPR9uLkqemkikEh6hnyBAA2sZiRdffFE4ceJEU8Sl8D1n27bWScTEPCIRn4j58+cjTHSVDHxGQgJutAJ+7dGjmHPlCh/LylyG1PTpOF5Yj1X7LiE80B2+HipKXZRcEzIZ14LwuAZgJkFpwx8i8dlnnzWB9/ZGRmIiB1/XEvjDhy3gV61YjpS0aThVpMG3B/MQFuAGbzclXFlyKKXUm1a/WQ1YVVYWEudEdTISs7dudYjEwo4d+ViCpycyyB07BD4/v+k7K77C5NR05JQ2YOOxqwj1d4OnqxJOlMk6U8rNUjYrDTRPwExi586dH/ft21e4dOkSH1tdXo73f/ihVRJTiMS35L2+TEpqAt/MYUBz4FdlZWJK6lRcvK3Dlp8L8QwFRU8XBZzI8zBxJRIsxkhb04C5jRkzZs8Waj169EBubm7TR27fdkgTXeidoqcAv3pVFianpCGvwoDtv1xDBx9nAi8n4FKLuFDWK5DZmwmQFoQWCbAWFxeXfezYsT0s+p0+fdqiidktaEJPMcMs9sB/ffCgBfya1SuRPDkFhfcM2HX6Otr7usDdVcELIGtxUsk5THsasFuRUcZ3kYLGyAEDBuDMmTPo378/VpMmJKSJL5mNU7GhMZlaTadV9MFnKK9fTTnPvIICPrZh3QYkTkzkx2+XCqWICArhh3EGk45qASOvkxUyJ6o4neHuZEAbVzlVdVp+AOAwAVdXV0s/KiqKm1MvsvFVpImHK1diAYEqp6jY0hkgC4VB9MFP9Hp8TLkPa5s3bkZcQhyWHv0cH+9ciQnRMxHeNgK+bu3h79ER/u4S1BDW65X5KKnMxa9Fh+Ekm4pgylgFqeA4AXOrr6+nwtuNJ1PLli3D9OnTsZns3J9kQCunTozAf0g+Fv9OJNfKwN9uvI1Zs+cCFDKWHZ4Glu7YnMCYmkotuQ913YGON4MRE9WHn3I8vgdaJcDAs3bx4kUOnjWWerHMpdRSBNonEEnyHgkrozZu3IjY4bGIT4rHzl07kbAqAf4Sf/I0LjQPbVSTFAb65+HtAa82nhSFPaEQJFAZZTYHaQ4RUKvVlv6pU6fwPBUgEI8FPiApceDg0ihW4Aniae2/WH98AvQ6PSa8OwE/TfsJ07ZOQwjl/q5k7yb2j1bEQ+GGNrT8zMPc01ZCa2qwS8Du6TTlRr3Z9eTJk82C1zh4Nsc+XUYyluR9cWxi8kSsWbkGgwMG4/ORi3Gz7CY0dTrIG1VQGJRQa7QoqS0hl3wTRTXFCPBQPZ0GduzYEU25Ucz58+cxcOBAh8Bbn4frWyABURPJqckQqOZNTkvGX0Y+QPK/kxHuG0Yu2t22mK8rhyZQa02g5T2wb9++0SNGjBjL0onIyMim4EbCDoiK7YB3Ec//9pCMIilnm//xYEdyixVCViQmp0/mh8Ip01IgjBeQtCYJ4X7hcLcioWnUwKh/VMOwWGCXAPn9KSwdJ5uXmM3GDL6UXmwk1yo3FxQssFCFpNJqEUgxgZ2JryM5RsIONMucnaGh5wWK0oIYL5izuUP50evkVtksX5CkTk/lRQq/ThKQuCoRnf07W0gIBnLVgr51E6JJUlg6fujQIcmwYcMs4BewjejhAXm7dpBRlOWnYRRQZAQQlZXwpfp2pQie7xmSWQwcESt3coIkNBRG6pvoXV6Q0LvVlHaMEeMCI5H2XhrXxNSZU0ktlJpnjmsi4eTOV99gMtjdY1IRfCoDf+DAAQv415gqSO5TzaqiYlpJKYTSxwfOAQFwpcxTTl7Ku6ICq1haIE62cOHCJgcgkmhHQGVVVXCj551pAdj7Skq1najeVlNFN1p8jrVps6Zh2RdfIS4iDptSN6GwrBC19bWtEiCLENKY1vfv3y+JoYySNTbxXGbH9CE3ir4GAivQCjGTUVJO00Axwa2oCKvpmbXiRD/t+QmvxL6CKe9MQdvAtjhOY6ww/JzSj1rShPsLL6CRCJnIpFhuL6OFMNBcoyhNYebEDi/fe386acKAmXNnwjjViPFLx0OikrSqgczVq1dbwL9L8jdmay+/DO/YWMgpZWCr7xwYCA8iZCguhoK80xor8Af2HODg913bB792fqi6XcXHj4uu04PI6nJy4NmtG1yCgrgW5LQ/PGifuY4di7eY9sS5Zs2bhTkz5iCpTxJ+nPkjhBqhdRMyn0hAPJZmW86TkjdnZj5UGrrQ1YtS5cbLlyEcP86Bm8Hv3bUXw2KHIWV9CmJHxaL/wv7wCfTBrZu3+P0TojadqL5QHzsGr4gIuAQH83nZ/F79+vHnelmBWrehaUf1DOpJu54cSHVpiwTWHjlyBFOmTOEDtIewm/1gu2gRpJTvtCFX6k2izs6Gds8evlm/EV/eRiVnzKsx+Cb7G/6RSfMmIcAzAIsOLEJQSBCuXbtmIcH2k4Qieu2uXXw+bwKulMtxc8EC5IrpCT/wpey3qroKZdoypGxMQdzbccgcl9niLzDsKH2NwHZyaqp4mg/hryQHSSq2bhUKPvxQOEL9t8V7TLZv3y440oqKiizvDCb5hSR3wgSh+tgxYT/1M63mHBAdbXceSj/4VavVnhH3/izLGZFI4mv2QFp6umXCv5CcIqGSRpho9aG9e/cKT9Nu3bpleXcQyVmSk4+BHzhokKPT2RCQm8MzNWY9Quby5clKqqC+XLoUH7F8nuS6eP7IT8vI3KjYYd2r5LlK2C8pVsFFsP5tTU8Ba9CgQf5BQUG9q6urJT7kRn+le/8kSReFtSFDhoAqQNa9e/jw4fMKhcL0RNImlQosM6as+E4zvy8+0kRdXd0Od3f30fPmz8di8ZjE3CjI4WXyTidOnNhJudIJR39sXbx4ca85c+aMr6qqkvr5+dncG0qLcZQWhdoVAr1OTGIdauz3geZ+oemTk5PzRb9+/YbMnj0bS5Ys4YO7qSQcOXIkMjIyvpsxY8bBp/3FOCEhIZLqgbTi4mJpKEVn1l6g2HCcvFpNTc15b2/vTDHbwFMQWNfSxl7B7Irig5CVlWW2v5l/5H9y0Ptvsv2YnZ0thISEmOf8kUT5O+dr1TtlWW2ePwTeat6xJIY/Ct5M4L8CDADd5n9SL0lNMwAAAABJRU5ErkJggg==",brokenImg_small:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUZFMjU2OUM0QjI4MTFFMkJDMkU4RUREMjg3OEVCMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUZFMjU2OUQ0QjI4MTFFMkJDMkU4RUREMjg3OEVCMjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RkUyNTY5QTRCMjgxMUUyQkMyRThFREQyODc4RUIyMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RkUyNTY5QjRCMjgxMUUyQkMyRThFREQyODc4RUIyMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuqVBnIAAATpSURBVHjarFV9TNRlHP/87v04zuMEhDsQEATithNEjRcnIqSHprxo09VUEC3zj5zNLG211lpuDVtzOWvWrOZcm6tpBkvI0HaKpFlwJcIhd8DxKl2Hx8u9cff0/R1YHqNWW8/2+T3P8/09z+f7fb7P5/v7cfir7ScI8d+an1BH6HrUyBgLWbSfDE6C79/A55qYGuzrfqBUhr9Je1NnE4tmRSB2e9yiWx2/QyEXg3fs9njh9/vh8U73Xp8PzB/AuMuLLYXp86wWy5G4+IVCj8dzhvZ3PCSaTcz9eM+Bguc/R4RaBlW4FPPkEigV0uBYLBDA4ZrCKn0cPqq7g3CFEmWr08VWq/UVnU4nGh0d/Yw47oYQa7TaWLfbJVmi4bC+SI/yXC3UCjECFHYgwCjSAPwCCaoMqai/cBYvnauGZ9wzvVejEfX22g5mL80U3Ouy8OR3uJmc6FvN5uas9PQwfm4bGcYXzZPotPRBKuIwRUf3QYIju3Ow/YnHYbxxC3k5y1HbdAtfX2zCA8dv0EYpkLRAPrYid+UbxPeegB5Zza2t13jS7w0G1BcWYmF0DMqyOMjnR8E0MI4Oux8HK3OwrSgbsvZODFZVQWm+hw35y5G1Kh9n2+S40jEBj3tS+mdSjUajkw+6yWBg7bt2sV8qK9nFwkJeL6zTamY1DXY2OMXY0swMZlCr2N0dO5hp505mq65m66RitnqZjplHGDt+wUQxMjfte5FXhSAjI+Mm7+Ci2cznBK6pKSQlJKCuaA1SF6Vh7aIRFOnTEN83hOObyjAeCATz3n//Pho8Prz29lFcahmETBKqAkFkZOST5KH+nf5+nLh8GUqRCG6SVXz8QlwqLkZW6mNId4yhZmMpxsgeVAaR5tbW4qqxEY6YtbAOOKBRhYUScxzHX22pra+v7RxFU1NfHyT3EokmLg7GigocLSnBGJ1EQqT24WGsoTXGpmvwLliJ/v4hxKnFkMrEIcRBuRG5l7qPKfKaiMhIob+xEa+uXw8nx0Eik2GMXsokEtgHBlDc0IC2ti5IYpJh6weyE5Lh9jJEhruDApurQPi6943a7UJyBM2pU8iYMfJNQdhGeOv9D3Bd/B2ePZgCmWD66yJVClGcvh1fpn2KuYj5s0hEKhXKaVBA4OUSeGThJ4RdL+zDjRsmnDz8Ia6aGiEXhkEukFOx+ENzPFMgYYMOx76wqChBudOJ3WQbJ8gJfBrmzThQEU4T8vKWYHG3Dos1abhp/QHXu4ywTw6FEhMpf8pvNWp1yia7Hc+Fh4OLj0eEVhv8ouzlhcmTyuWQkQxjY2ODka8rKUCufTUqsrfA4XyACc9EKHFPT88Vyml+NU0O5edDRQqIzczET3RRL/MRk2Z1ZVux1+WCglQRXVAA/ebN+EooRGn5WizrXoqt2Vsx4hwJJR4aGkrkB3pCAklLq9fjm7o6HKb5rzYLVryrw7ZjTyG5ZAM2d3eD2WxI2rgRKTk5UPOpOUOXHJeBtOi00AqhVCS39/QM8sPjhGPTkmFztaeplKPoXbNGw+ZT/0xV1ewlroclLaI0WGiQZ+rs/HlJamoE74zK1pGQmHjC1tvreDQIs8VikIhEhtzTp1G9Zw/2HzhQS/sb//HnZTKZUlpaWnqot9y+fTuJTNK54HK5Xj9//jybnJw89Hdr+Ii52T++/6v9IcAACHxjGrCZJqsAAAAASUVORK5CYII=",maxBtn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAARBAMAAABQu4N8AAAAHlBMVEVYWFhmZmZpaWliYmJUVFRbW1tfX1/l5eVra2szMzOUEp7mAAAAaElEQVQY02PowA4YlLADnOKCMCA5EwgmwngI8XIQQIgbQ4EhWHwyiAUWN4QC43KQnskgFgjA1UPFQSxhIGBIgwGw+DQgIxkkhyEOBQyhMAC2dyqQEYZFHM5jwASsYHFSgQsGcECIYwIACZtXpfywXDUAAAAASUVORK5CYII="},A.share={weibo:{disabled:!1,name:"",limitLang:"zh-CN,zh-TW",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAACfklEQVQ4ja2ST2iTBxjGf++Xr0va2qqt02ntEkxo025DqUpjdeAOdj0YxIPgxYOKePHmwag77bDL0IlMKgoeeqgIQrapSOtFpFOc4GWb1n+kNqLWKNqmSZs03/fs4CplXjbcc3oP7/vjfZ/3gQ+U/dvGZ0f5POjSBeSGn3Ol6zsm/xNg4gQ/SGwyY5mEB+ycv4+L7wF+Wh4Org5VbwfWApeaHw5fBrhxCOezJrqAx8AuIFWu0OnOHR6Jtn4VMDsjKWxmJqkHiAFUnlQ3acn0cQJaAWw2Y01VgP3vNsjG4ruBk8Bc6J/AMeBrHC10GkqnardmI848byXwK7DXBRiNtm4DTkkyM0N/F5Lazey0JJlv5uWCi7yXwZTVFktmLJCYtNuRWPhj1/0dqLN5tdQkNxPs7CTwyRI0NUX5zh2K59NUMhmAa07jdLLp5sjEi2Os+cil3rKx+GlJu0Pru6zhyPfKuwHr7+9XLpezZDKpjo4O08yMXh/6xgrpn2Vmr3xpS/jRveuzt798umGjvEJBY2NjikQiAuQ4jlzX1dDQkCTJy08q2/aFsrG4srH41VmTHKAuuH6dnJoa+vr61NzcTG9vr3p6eqhUKhoYGHjrSSiIVVUJQFJ5LmBg5u6wyfdpbGy0RCJBPB63wcFBHMex7u5uzMwKZ8+hYtEAX3Dk3Z9+i0SbRqOt914dPKzym3E/lUqppaXFTyQSSqfTvlcoavz4j362pV2j0dZSNhbfMzc7BnBhebhuVaj6gNXX7wl9uWGxG/4UfJ9KZoTp6zdQPl8Cfsl73rftmQd/vAeY1dHFSwMrg6FVDYFAG1ALVMpS5n65dGvHsyf5f8b+f9FfksATEF5LDZgAAAAASUVORK5CYII=",api:function(e){return{url:"http://service.weibo.com/share/share.php?title="+e.title+"&url="+e.url+"&pic="+e.pic,wSize:{h:500,w:620}}}},t:{name:"",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAADL0lEQVQ4jXWTS2hcVQCGv3PuuffOTJJxEslkNElRm5hoRZOKjyKKSEWwqNWFWLsQqRbc1UfVLLoRXbgqiCh0IYoPaCnWWqlQN6mpIPXRaqkk9ZGOJS+SmQzjZO7j3HOOi4jFhR/8m3/5/3xC+H4YPLhzX//9j+zq6S1XfClBAI7/8k+nrWV1aXFubvLLT5JjH+xTwUNPvbHx8WdefPaW6+j0PSwObRyZsWhr0NaROkdqITaOyBhWK339Ybl/7+8gxYa3Plt9YeuW0om5OlFmcc4yWAjYNdLH7b1d5D1JtZVwtFrjSLWOEAIpBT6CXy78WleFru6SdNBopTgc2wa7eWlsgKmFJm/+eImldsqNPQV2DJW5u6/IxLeztBJLIiAf5PLKGEsr1cRxwmh3gYnNg7x2epbPZ2v/TnF6ocHB6UX23zPMxPgAz0/9hhCCzDohE21oRpp2onn6hgpfVescnF4kSzQ7h8u8Oj7AplKe2lrC3skZ7qhcwWBe0Y5SkkxIqbWhESVEUcLm3iKHp+eJ4pQnR/rYMz7IY0Nl3rlvlNBZLjbW+G6hwdiVnURxSpZlQqba0mglxLGmK/BYaETE7ZThYoix6w92+B7lUBHHmno7xXOOONboDCnraynzzTYrrYiZWotrijmaUcJwTxepMXhSMvVnnZN/LLPSjNhYKjC9/Be1VkQ91kI561htJxjj+PjnSxhreP3eUU5WV3jgwxn6i3l+mG+AEDx8fYWru3Icn1nAGAfOCiU8wZo2eL7i7e8v0tcR8MpdI4wdmKSVGZaXW3i+x45NA7y77WZ2f/ETLevwlMQ4nBICIuNQykM7x547hzhwtoq2jo+234on4barShRDn+eOn+PTC0soXwHg0tQpqQSpBBUosJat1/byxLGzdHaGnKiuUAwV75+f48xSk2ZqUDl/XQ0HRidWSavbTnoFP/DIedCT96mupeApjszWLoslPPycd1ky55Btk0h37tQhbTNyoWJDqYOltqazEFDI++TyAUHoE+Z8wlARBoowVHi+xDiDO//NYYEf5PxHd++XN23ZLrpKFZwDIdbzP7hmbc6c+fpQdvS9l/8GEfOFXVv7AEQAAAAASUVORK5CYII=",api:function(e){return{url:"http://v.t.qq.com/share/share.php?title="+e.title+"&url="+e.url+"&pic="+e.pic,wSize:{h:500,w:620}}}},qZone:{name:"QQ",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAACD0lEQVQ4jbWQvWsTcRyHn7vf5bVJ2kaSplXQKL5QUUPzBzhUXBQcFRw6CAFBpzooFKRQkCIBxa3SoSCoOHXIInQSFBELRShC1b7Q1qTBNJdLTO5ydz8H29BgDTj42b7wfR4+fOB/xsjFs0Yunu30o3SAo8Dqznk4fGmrtN+f2kF+S0TCIREJh4Cb/9TAyMUDwKrnYCIGkuZGobjTot5RoM/GzgAx4KrWHcp4+k8jrXXsHzq2Xp0CXgLF7ivFTy1B4dWAqyAdQEP97VNUlej5xzjlHLI2D0B1pYS0baQEXBegAawpxecHksBc8OSFpLfvLGrgFLVnT7EWPlCtOViWxGpIjk8ebTU1t3TMrcoyMKwA5GeiCWDOn4gMBgZ6ABDx66CqfB4Zb4Prm2Ua+coiMJwYKeVbG6xP9USB18GB7vSu5OvYMscmkm3wz039I3DxUKZc+mPElSeRhOoR3/suT7KUuYPXr+DzKXQFBSIVwvBUcJtO/5Hblfwuo+0V2Kab1IQHM/+GEzOzALhmEdncpr70CPdLFdtsJoG/CWRKBAX1tffUvr3F3K4B4OvtQtUEEoFtyhTwbn+B5aa9rsBYK9PYNqrAQ8Cpbup3/b3hkKoJbMtN72XaBI7lpoyNkgNMA/fPPTDzAAv3fNO1gj4O3ABSe5nWiPOjXi/wAhgbylqL7JP5Ue8gMAFcG8paFsAvetnTGCl2Yn0AAAAASUVORK5CYII=",api:function(e){return{url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+e.title+"&pics="+e.pic+"&url="+e.url,wSize:{h:650,w:620}}}},fanfou:{name:"",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQ4jaWTXy4DURTGf9OOCkljTBNCiEksgB3oEliBLmF2oHYwVmC6Auyg3psYPJGIIqm0aXVkpI3SHA/HmDKtB77k5px7c+53/hvrlyLdIX/CfBbM1jtEnwS+A34HqlHa2MpCMa8HwH2ANwFzykgMdgvJ581Z8FbAMmFj5jtZpaNyygDDDkSe3qFUgEMn7bnyGVF9AEEPwpF0bRPM+OIuqjyNYCsPz0OYy05OKWEJRIpXIiIiXlOkdKu635aJKDdEqInYgUgmzr/Sgc0ZTeU0Us8x7gaw/6jnJzIAxyGU6hp69QWK14nBeV9luQFeU/Wg94PgN/htWMuBk4Nt6w8EXksLWl7WQp/3tSMxzHGfSoXEW0yyt6T6zs132xSBu6DtAzgJVdZfJ0c4NoWDlspqBN6qDthJqOEfrevbF+xAe0pNZ8C5SM9A3HfrTOS4q2/uvc6BkT8TicZso5MDZ1rDHy0aaH2qEQwB47/r/AEuq9/lRZUysAAAAABJRU5ErkJggg==",api:function(e){return{url:"http://fanfou.com/sharer/image?u="+e.url+"&t="+e.title+"&img_src="+e.pic,wSize:{h:550,w:650}}}},tieba:{name:"",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQ4jaWTy2sTURTGfzOdSbFNpQRbX1DjYyPFlYyuogtFEcFtBSldFhc1IMFFQYpd+CjYhW4UXAkiRPSPUEEqiNKmPhKSSUIbzYM0bRaZV3JchMRE46b9Nvdwzz0/Pu53rxIyTGEH0gDefgxua/jMqTRqr0YibnNvvkhsxQLATDmYKacnpCfg2ZNNXj6v8vB+GTPlMHU1R/h6viekC1DZqLfr4UCzVSo29xxX2nWntFaRzbjMzRbx+1UeP93H4kKJi5eGGD/RTzgSoPPc2CH9DyFkmCIiEn1RkWMHEhIyTIktWyIiUqvVpaVU0pbJiTWZnFiTTNoREZGQYUrbQfCoj/0HNfaOamTSLgODCosPyvTpEL4Z4HW0yreYQ2WjTv6X13bRBhindxGOBCjkPY6P+5iZzpOM2+i6SrlU587dEZbe1yCos2ek7987ALh8xc/PnMetGwV+fLUBsKwGH97VmI0UWHg0SjbtcviIr3cKyYTLzHSeL5+b+XseaFpzXV1xmL9dYiyod450A95Et1hdtvG8v6LSoLrV4NOSRTbt9o4RQNPBthooqoLjgDQEG1BUBYBarUFu3fs/4NrUMLn1OvHvDruHVM6eH2g6e1WlutngpNHPuQuD3fZa72A7ChmmKDv9zr8BrHscNfGR3bQAAAAASUVORK5CYII=",api:function(e){return{url:"http://tieba.baidu.com/f/commit/share/openShareApi?title="+e.title+"&url="+e.url+"&pic="+e.pic,wSize:{h:600,w:630}}}},renren:{name:"",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAC10lEQVQ4jXWTTWhUVxTHf/M+nSTjTCax+dAkxk5lGo2ttMUGBJt0FEFUsJa0i0JXQpFu7KLFgIsKUgpdlRYMFApZKtRNrYkLKYUKFiWQtgq1nUAmkGgMiZN5M++9e+/pIvURIv3DWdxz7v93uPdwUmySndk56O04esbJFYec3EuviY4jXZ2dUU+mbzbmfhqX+mJ5s2ddKcv2d42O5Y5cC/3PZ2T8VkVERMJYy/itimy5MC3Zw1eq3o6jZzbaHICU7aVbXr84pYffPvi02IZZ1ZhmGwDPsTDNNo32DPHp/S3+3xcvOzdfPRxMf/keYrQFkB44+616a+RgUGjDPAphvkZlNU66VFZjmF9DVzVBcRuU3jnt7xodA7DsXHHI3n/yw3p3HuYCWIogUDSUSQANZaCm4HEIcwGNrizpF0fHrPS2XsfvOfZR2L0VlgKoKxDAGCIjCSAyAsaA0lA1GGMIX+7y3IcjH1hO274RZblQ06AADSihVMgmgFIhC0qSGlVF7Pu4L7xxzLL81k4TGVAGjIAROtsdju9uTQDHd7fS2e4kdZRBa7CbuwpWynZsQgXarEeoKR3IPzfl0oE8hHrDPQWApYPH81ao/iMLfdtdJk70PQeYONFH33Z3/QlGsBsxOlgsW3p55menFoISero97pwbSEznr89y/vpscr5zboCebg+U4K41iB/99iN2rjiUOTkpg1/fl4VaJM+0UI0kf2pS8qcmZaG6IV+LZM9Xv0vuyLUwle7ot/TKg9v6n6mJfWFER5ObdBu+dI/lMMVymGL40r0k39HksjeOaZSvfCH1xbINoJ7cvVFe6T306/yW3j39Gd789DYPH6xBtgl8h6XyU77/pcIrOzOc/eYPpn64erX+5+WPQSSVoFOW7fe/+1m68P6FuuV5qiWNTnsA2EGEW6vj69pa/f53n0SVG+OJbfNvP1tnN7/3kL21fxBArfx19//W+V9oRmy7yi+Z7gAAAABJRU5ErkJggg==",api:function(e){return{url:"http://widget.renren.com/dialog/share?link="+e.url+"&title="+e.title+"&pic="+e.pic,wSize:{h:600,w:650}}}},douban:{name:"",limitLang:"zh-CN",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABj0lEQVQ4jZ2TzSuEURTGf/edUT42XiJFMY2o2RA1ioXUKDtssaEs/AHMzlZZTllMFnY2FsxOzAIxoRTJ1/iYKPmenWy8cyzueM1FwlmdTs95es5zn6uaIx2yc73Lf6q5shFF2JZ/bbsVtiU03SN/rdB0jxC2xQtwdJ9kfGkCBEAQ+V6UUsrtj26TIOScIBAorwcBETHAYM4O705AAQq874DWmiAbI4u/urptqovE1bZJ4GQcAM6fUnTP9H27GBucxV/qw3EcfW4ugWgDeHx+4uDmGCylZebU43Maf6nP8MglUFm0XVBMoKIePJ+2Abuw2MAaBF5Lt3VltRyMbv7ogdfjcXsjSCF/O8vD8wAEJlvIz8tHoXh5feFwdAuAzmgv8dMVfaKVowAgfrZKKn2Jr6Sa04cLXnG0UVl1qfQl8eSK4Y9laFMwtx8DYCg4oEEWDAX7AZjbW3BnHzaEbYlsRP8c5ch6VBjLRnktlaC8qAxEyIj8mEQrO187T+gou985gw6HCKivT/iJDZSiqaqBNySK8rrw6ad1AAAAAElFTkSuQmCC",api:function(e){return{url:"http://shuo.douban.com/%21service/share?href="+e.url+"&name="+e.title+"&image="+e.pic,wSize:{h:350,w:600}}}},facebook:{name:"Facebook",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAvVBMVEUAAAD///8OkPMPlPQMivEKhfAHfuwFd+oEcugCbOUVp/0To/sRmfYXq/7h8f0Ige36/P7s9f3G5/3b6vsSnvgSnfh0rfAdfugdqPsYpvsZo/ZKqvVmr/MhpfNEovMqmfN1svIXkPIWl/AJge4eh+0MeuUIbuHy+f7Y6/yl2vzb6/u53/vb6fpTufqZ0PltwPlCsfmw1fiKxvgUnvh3wPdet/ctpPZ/u/Vvs/RdrvQ0ofQvku4ckesXheccduSckMFkAAAAAXRSTlMAQObYZgAAAKBJREFUGNNFyFcWgkAQRNFqwyiKJMEsGcw5x/0vyx7mqPenXjcK4xYb42fQKAy+d1Pq93r9prpdz/MO25njrFwXLNbZ2SGija7HwLMsnSbWYj3kAEqFo2XcVaHComBPhh9EslFlN8Mmy5gOZcM0hRiRZPtmkph4CSEe1x3Zl1HKCSCrsZDmqdwMrM5CanfloqBpWocfPICSq0eOvw4t36o+GHANGQygnDcAAAAASUVORK5CYII=",api:function(e){return{url:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.url)+"&t="+e.title,wSize:{h:436,w:626}}}},twitter:{name:"Twitter",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAllBMVEUAAAAcmu98gIMdme58gINGjsBgh6MUnPceme1gh6Jkhp5phpgSnfoXnPURnfsXm/Qhmekjl+chl+hgiKNeiKRtg5Jlhpt3gogUnPgcmvAUnPgYnPMRnPsemewVnPUmluI1k9I7kcsplt8xlNg0ktJFj8E1kdFSi7Fhh6JFj8E9kMhWiq0dmu4cmvAXm/USnfobm/ENnv8KO1KbAAAALHRSTlMA/QP6BVIl/vhAHA/38e3iwpyRUDIVCQjy7+TZz8y0p5KEe3NsX05JRzksIGD09Y0AAACcSURBVBjTZY4HDsMwCEVxbGfv2b13sZ3e/3IlSdtE6pOQHh8JgB+iER+zqEYbsYsSoO7kRCMB51CH2/xBgffaVQBBhC6qxR1IlzrZexeNjLeHbo2/cVGbCJXiWvZBjJwjKsbQKSkQIBPOCErWor9dr1qmlGLcSBi4phwZc3U2tEHlH+cclcma4dNnHhvHmaVy8rRX3Gz4w5o68fU3RC4LI5L0wcgAAAAASUVORK5CYII=",api:function(e){return{url:"https://twitter.com/intent/tweet?url="+e.url+"&text="+e.title,wSize:{h:350,w:600}}}},pinterest:{name:"Pinterest",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAq1BMVEUAAADkABfmASPkAB7////kABTmBCbmASDkABv97O/nGjnnDy/lARv61tv60NfuU2rsNFHpHz3tFzfnCCrvAiTwASPiASH73uP5xs73ucLqPljqKkfoFjTmCyz+9ff2prH0k6LzkJzxc4fvZ3zsRF7mAB7jAAv++fv++fr97/H86Oz86Ov74uf62d72rrn2qbT1nqz0m6jygJPyfY7xe4ztTGXtSmLrPFfsLUuclYq1AAAAAXRSTlMAQObYZgAAAL1JREFUGNM9jteywjAQQ73FLXY6aSShw+29/v+X4UmA87SakVYSE8u8LPOluBEpDKjoqhcE4D0ALWZd1eZv3Tx3qa6ryU/mm5PtNuYPNEX4p+DAn1Ke/Ib3oIXIEboX2CU9OJsQZWJE87TRK/4FbG1JTiiE+A0fVgOppkHtQkTuOHrsQPb8DiGSoS6/fjgZh/a+N8epVp32HNs7m3oq5mF+bV2aDqauLtMhfpVSUph+oWgPUulj8N/4H102X2eAaAyI9S5e9gAAAABJRU5ErkJggg==",api:function(e){return{url:"https://pinterest.com/pin/create/button/?url="+e.url+"&media="+encodeURIComponent(e.pic)+"&description="+encodeURIComponent(e.title),wSize:{h:350,w:600}}}}},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)==e});const O=new Map;if(!x.firefox){const e=new Proxy(T.CanvasRenderingContext2D.prototype.drawImage,{apply:function(e,t,i){let a=i[0];a&&a.src&&(t.canvas.dataset.src=a.src);return e.apply(t,i)}});T.CanvasRenderingContext2D.prototype.drawImage=e;const t=new Proxy(T.URL.createObjectURL,{apply:function(e,t,i){const a=i[0],r=e.apply(t,i);return O.set(r,a),r}});T.URL.createObjectURL=t}function j(e,t,a,r){S(e,((n,o)=>{if(n)try{saveAs(n,(A.saveNameAddTitle?i.title.replace(/[\*\/:<>\?\\\|]/g,"")+" - ":"")+y(e,t,a,o))}catch(i){k(e,t,a),r&&r()}else k(e,t,a),r&&r()}))}function Y(e,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t(e.target.result)},i.onerror=function(e){t(null)}}async function F(e){let t=(i=e,O.get(i)||null);var i;return t?new Promise((e=>{Y(t,(t=>{e(t)}))})):""}var P=i.createElement("span");function _(e,t){return e?e instanceof RegExp?e:t?new RegExp(e,t):e instanceof Array?new RegExp(e[0],e[1]):"string"==typeof e?(-1!=e.indexOf("*")&&-1==e.indexOf(".*")&&(e=(i=e).source?i.source:"^"+i.replace(/[()\[\]{}|+.,^$?\\]/g,"\\$&").replace(/\*+/g,(function(e){return"*"===e?".*":"[^/]*"}))+"$"),new RegExp(e)):void 0:e;var i}function H(e,t,a){var r;if(!e||!t)return r;a=a||i;var n,o=typeof e;return"string"==o?r=(n=e).startsWith("./")||n.startsWith("//")||n.startsWith("id(")?function(e,t,a){return a=a||i,t=t||a,a.evaluate(e,t,null,9,null).singleNodeValue}(e,t,a):t.parentNode.querySelector(e):"function"==o&&(r=e(t,a)),r}function Q(){i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()}function V(e){var t=e.getBoundingClientRect(),i=T.getComputedStyle(e),a=parseFloat,r=t.top+a(i.paddingTop)+a(i.borderTopWidth),n=t.right-a(i.paddingRight)-a(i.borderRightWidth),o=t.bottom-a(i.paddingBottom)-a(i.borderBottomWidth),s=t.left+a(i.paddingLeft)+a(i.borderLeftWidth);return{top:r,right:n,bottom:o,left:s,width:n-s,height:o-r}}function J(){var e=i.documentElement,t=z(i),a="BackCompat"==i.compatMode;return{h:a?t.clientHeight:e.clientHeight,w:a?t.clientWidth:e.clientWidth}}function X(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:"scrollX"in t?t.scrollX:"pageXOffset"in t?t.pageXOffset:i.documentElement.scrollLeft||z(i).scrollLeft,y:"scrollY"in t?t.scrollY:"pageYOffset"in t?t.pageYOffset:i.documentElement.scrollTop||z(i).scrollTop}}function q(e,t){var a,r=(e="on"+e)in(t=t||i.createElement("div"));r||(t.setAttribute||(t=i.createElement("div")),t.hasAttribute(e)||(a=!0,t.setAttribute(e,"return;")),r="function"==typeof t[e],a&&t.removeAttribute(e));return r}function K(e,t,a){var r,n=["","-webkit-","-o-","-moz-","-ms-"],o=(a=a||i.createElement("div")).style;if(!o)return!1;for(var s=0,l=n.length;s<l;s++)if(r=n[s]+t,o[e]=r,o[e]==r)return r}function $(e,t,i){function a(){return"data-"+t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}if(void 0===i){if(e.dataset)i=e.dataset[t];else{var r=a();e.hasAttribute(r)&&(i=e.getAttribute(r))}return i}e.setAttribute(a(),i)}function ee(e){console&&console.error&&console.error(e.message+"\n\n"+(e.stacktrace?e.stacktrace:"")+"\n\n",e)}function te(e,t){var i,a=Array.isArray(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&(i=e[r],!t||"object"!=typeof i||null===i||i.nodeType?a[r]=i:a[r]=te(i,t));return a}function ie(e,t){if(!$(e,"pvFlashing")&&0!=e.offsetHeight){$(e,"pvFlashing","1");var i=e.style.outline,a=e.style.outlineOffset,r=e.style.opacity,n=e.style[se.cssTransform],o=0,s=Date.now();t=t||1200;var l=setInterval((function(){var c="none",d=0,p=.3,h="";o%2==0?(c="5px dashed rgba(255,0,0,0.95)",p=.95,d="1px",h="scale(1.1)"):Date.now()-s>t&&(clearInterval(l),c=i,p=r,d=a,h=n,e.removeAttribute("data-pv-flashing")),e.style.outline=c,e.style.outlineOffset=d,e.style.opacity=p,e.style[se.cssTransform]=h,o++}),80)}}P.style&&(P.style.visibility="hidden",P.style.whiteSpace="nowrap"),x.firefox||x.opera||x.ie||E.supportGM||function(){i.addEventListener("picViewer-return-unsafeWindow",(function(e){T=e.detail}),!0);var e=i.createElement("script");e.textContent="("+function(){var e=i.createEvent("CustomEvent");e.initCustomEvent("picViewer-return-unsafeWindow",!1,!1,t),i.dispatchEvent(e)}.toString()+")()",i.head.appendChild(e)}();var ae,re,ne,oe,se={cssTransform:function e(t,a,r){!1!==r&&(r=!0),t=t.toLowerCase();var n,o=["","-webkit-","-o-","-moz-","-ms-"],s=(a=a||i.createElement("div")).style;try{for(var l=0,c=o.length;l<c;l++){var d=!0;if((n=(o[l]+t).replace(/-([a-z])/g,(function(e,t){return t=t.toUpperCase(),d&&(d=!1,r||(t=t.toLowerCase())),t})))in s)return n}}catch(e){}if(r)return e(t,a,!1)}("transform"),cssCursorValue:{zoomIn:K("cursor","zoom-in"),zoomOut:K("cursor","zoom-out"),grab:K("cursor","grab"),grabbing:K("cursor","grabbing")}},le={easeInOut:function(e,t,i,a){return-i/2*(Math.cos(Math.PI*e/a)-1)+t}},ce=function(){var e,t=[],r=[];function n(){Date.now();for(var i=0,a=t.length;i<a;i++)(0,t[i])()&&(t.splice(i,1),r.splice(i,1),i--,a--);0==t.length&&(clearInterval(e),e=null)}var o=function(s,l){if(!/NodeList|HTMLCollection/.test(Object.prototype.toString.call(s))&&!Array.isArray(s)){if(!(s instanceof HTMLImageElement)){var c=i.createElement("img");c.src=s,s=c,c=null}var d,p,h,u,m,g,f;d=l.ready,p=l.load,h=l.error,u=l.loadEnd,m=l.abort,g=l.timeout,(f="number"==typeof l.time?l.time:0)&&setTimeout((function(){v||(y=!0,M(),s.src=A.icons.brokenImg_small,g&&g.call(s,{target:s,type:"timeout"}),v=!0,u&&u.call(s,{target:s,type:"timeout"}))}),f);var v,y,b=s.src,w={img:s,abort:function(){v||(y=!0,M(),s.src=A.icons.brokenImg_small,m&&m.call(s,{target:s,type:"abort"}),v=!0,u&&u.call(s,{target:s,type:"abort"}))}};if(s.complete)return/^data/.test(s.src)||"number"==typeof s.width&&s.width&&s.height?setTimeout((function(){y||k("load",{type:"load",target:s})}),0):setTimeout((function(){y||k("error",{type:"error",target:s})}),0),w;if(s.addEventListener("error",I,!0),s.addEventListener("load",z,!0),d){var x=r.indexOf(b);-1==x?(r.push(b),S.startTime=Date.now(),t.push(S)):t[x].startTime=Date.now(),e||(e=setInterval(n,66))}return w}function k(e,t){switch(e){case"load":M(),k("ready"),p&&p.call(s,t),v||(v=!0,u&&u.call(s,t));break;case"ready":if(!d||S.done)return;S.done=!0,d.call(s,{target:s,type:"ready"});break;case"error":M(),h&&h.call(s,t),v||(v=!0,u&&u.call(s,t))}}function S(){return!(!v&&!y)||(0!=s.naturalWidth&&0!=s.naturalHeight?(k("ready"),!0):void 0)}function z(e){y||k("load",e)}function I(e){y||k("error",e)}function M(){s.removeEventListener("load",z,!0),s.removeEventListener("error",I,!0)}a.forEach.call(s,(function(e,t,i){e instanceof HTMLImageElement&&o(e,l)}))};return o}(),de=function(e,t,i){var a;ae||(a="DOMMouseScroll",q("wheel")?a="wheel":q("mousewheel")&&(a="mousewheel"),ae=a),e.addEventListener(ae,(function(e){var i;if("wheel"!=e.type){for(var a in i={},e)i[a]=e[a];i.type="wheel",i.deltaX=0,i.deltaY=0,i.deltaZ=0,i.deltaMode=1,i.preventDefault=e.preventDefault.bind(e),i.stopPropagation=e.stopPropagation.bind(e);var r=0,n=0;"number"==typeof e.axis?2==e.axis?n=e.detail:r=e.detail:void 0===e.wheelDeltaY||0!=e.wheelDeltaY?n=-e.wheelDelta/40:r=-e.wheelDelta/40,i.deltaY=n,i.deltaX=r}t.call(this,i||e)}),{passive:!1,capture:i||!1})},pe=function(){var e,i={mouseleave:"mouseout",mouseenter:"mouseover"};return function(a,r,n){e||(e={mouseleave:q("mouseleave"),mouseenter:q("mouseenter")}),!e[a]||"mouseenter"==a&&t.chrome?r.addEventListener(i[a],(function(e){var t=e.relatedTarget;this.contains(t)||n.call(this,e)}),!0):r.addEventListener(a,n,!1)}}();function he(){this.init()}function ue(e,t){this.img=e,this.data=t,this.init()}function me(e,t,i,a,r){this.loaded=!1,this.img=e,this.actual=!!i,this.src=t?t.src:e.src,this.data=t||we(e),this.initPos=a||!1,this.preview=!!r,this.isImg="IMG"==this.img.nodeName.toUpperCase(),this.init(),t&&this.isImg&&(this.img.src="https"==location.protocol?t.src.replace(/^http:/,"https:"):t.src)}function ge(e,t,i,r,n){if(ge.all.find((function(t,i,a){if(e.src==t.data.src||e.img==t.data.img)return!0})))return!1;"popup"===t&&(oe&&oe.cancel(),oe=this),this.args=a.slice.call(arguments,0),e.src==e.imgSrc||e.srcs||(e.srcs=[e.imgSrc]),this.data=e,this.buttonType=t,this.openInTopWindow=r,this.waitImgLoad=i,this.initPos=n||!1,this.init()}function fe(e){"undefined"!=typeof ClipboardItem?S(e,((e,t)=>{if(e)try{navigator.clipboard.write([new ClipboardItem({[e.type]:e})])}catch(e){console.error(e)}}),!0):c(e)}function ve(){this.init()}he.prototype={init:function(){this.addStyle();var e=i.createElement("span");this.gallery=e,e.className="pv-gallery-container",e.tabIndex=1,e.innerHTML=I('<span class="pv-gallery-head"><span class="pv-gallery-head-float-left"><span title="'+s("picInfo")+'" class="pv-gallery-head-left-img-info"><span class="pv-gallery-head-left-img-info-resolution" title="'+s("resolution")+'">0 x 0</span><span class="pv-gallery-head-left-img-info-count" title="'+s("picNum")+'">1 / 1</span><span class="pv-gallery-head-left-img-info-scaling" title="'+s("scaleRatio")+'">100%</span><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-head-left-img-info-description" title="'+s("picNote")+'"></span><div class="pv-gallery-range-box"><input type="range" id="minsizeW" min="0" max="100" value="0" title="Width" /> <span id="minsizeWSpan">0px</span> <input type="range" id="minsizeH" min="0" max="100" value="0" title="Height" /> <span id="minsizeHSpan">0px</span><select id="pinSize"><option value="" disabled selected>'+s("size")+'</option><option value="0">'+s("all")+'</option><option value="512x512">'+s("bigSize")+'</option><option value="0-256x0-256">'+s("iconSize")+'</option></select></div><span class="pv-gallery-head-left-lock-icon" title="'+s("lockSizeTip")+'"></span><span class="pv-gallery-head-left-filter-icon" title="'+s("urlFilterTip")+'"></span></span></span><span title="'+s("exitCollectionTip")+'" class="pv-gallery-head-command pv-gallery-head-command-exit-collection"><span class="pv-gallery-head-command"><span>'+s("exitCollection")+'</span></span><span class="pv-gallery-vertical-align-helper"></span></span><span title="'+s("loadAllTip")+'" class="pv-gallery-head-command pv-gallery-head-command-nextPage"><div class="pv-gallery-head-command"><span>'+s("loadAll")+'</span></div><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-container"><span class="pv-gallery-head-command pv-gallery-head-command-collect"><span class="pv-gallery-head-command-collect-icon"></span><span class="pv-gallery-head-command-collect-text"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-collect"><span title="'+s("collectDetailTip")+'" class="pv-gallery-head-command-drop-list-item pv-gallery-head-command-drop-list-item-collect-description"><span>'+s("collectDetail")+'</span><textarea data-prefs="description" cols="25" rows="5"></textarea></span></span></span><span class="pv-gallery-head-command-container"><span title="'+s("playSlide")+'" class="pv-gallery-head-command pv-gallery-head-command-slide-show"><span class="pv-gallery-head-command_overlayer"></span><span class="pv-gallery-head-command-slide-show-button"><span class="pv-gallery-head-command-slide-show-button-inner"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-slide-show-countdown" title="'+s("countDown")+'"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-slide-show"><span class="pv-gallery-head-command-drop-list-item" title="'+s("slideGapTip")+'"><input class="pv-gallery-head-command-drop-list-slide-show-interval" data-prefs="interval" step="1" min="1" type="number" value="5" /><span>'+s("slideGap")+'</span></span><span class="pv-gallery-head-command-drop-list-item"  title="'+s("slideBackTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-backward" data-prefs="backward" type="checkbox" /><label for="pv-gallery-head-command-drop-list-item-slide-show-backward">'+s("slideBack")+'</label></span><span class="pv-gallery-head-command-drop-list-item"><input id="pv-gallery-head-command-drop-list-item-slide-show-random" data-prefs="random" type="checkbox" /><label for="pv-gallery-head-command-drop-list-item-slide-show-random">'+s("slideRandom")+'</label></span><span class="pv-gallery-head-command-drop-list-item"  title="'+s("slideWaitTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-wait" data-prefs="wait" type="checkbox" checked="checked" /><label for="pv-gallery-head-command-drop-list-item-slide-show-wait">'+s("slideWait")+'</label></span><span class="pv-gallery-head-command-drop-list-item"  title="'+s("slideSkipErrorTip")+'"><input id="pv-gallery-head-command-drop-list-item-slide-show-skipErrorImg" data-prefs="skipErrorImg" type="checkbox" checked="checked" /><label for="pv-gallery-head-command-drop-list-item-slide-show-skipErrorImg">'+s("slideSkipError")+'</label></span></span></span><span class="pv-gallery-head-command-container"><span title="'+s("typeTip")+'" class="pv-gallery-head-command pv-gallery-head-command-category"><span>'+s("type")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-category"></span></span><span class="pv-gallery-head-command-container"><span title="'+s("commandTip")+'" class="pv-gallery-head-command pv-gallery-head-command-others"><span>'+s("command")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-others"><span class="pv-gallery-head-command-drop-list-item" data-command="enterCollection" title="'+s("viewCollectionTip")+'">'+s("viewCollection")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="psImage" title="'+s("onlineEditTip"," "+A.gallery.editSite+" ")+'">'+s("onlineEdit")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="downloadImage" title="'+s("downloadImageTip")+'">'+s("downloadImage")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="postImagesToAria2" title="'+s("post2Aria2")+'">'+s("post2Aria2")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="exportImages" title="'+s("exportImagesTip")+'">'+s("exportImages")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="copyImages" title="'+s("copyImagesUrlTip")+'">'+s("copyImagesUrl")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="cookie">Cookie</span><span class="pv-gallery-head-command-drop-list-item" data-command="scrollIntoView" title="'+s("findInPageTip")+'">'+s("findInPage")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openInNewWindow" title="'+s("openInNewWindowTip")+'">'+s("openInNewWindow")+'</span><span class="pv-gallery-head-command-drop-list-item">'+s("rotate")+' <select id="galleryRotate"><option value="0">0</option><option value="90">90</option><option value="180">180</option><option value="270">270</option></select></span><span class="pv-gallery-head-command-drop-list-item" title="'+s("autoRefreshTip")+'"><label data-command="scrollToEndAndReload">'+s("autoRefresh")+'</label><input type="checkbox"  data-command="scrollToEndAndReload"/></span><span class="pv-gallery-head-command-drop-list-item" data-command="urlFilter" title="'+s("urlFilterTip")+'">'+s("urlFilter")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="addImageUrls" title="'+s("addImageUrlsTips")+'">'+s("addImageUrls")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openImages" title="'+s("openImagesTips")+'">'+s("openImages")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="operate" title="'+s("fiddleTip")+'">'+s("fiddle")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="viewmore">'+s("viewmore")+'</span><span id="pv-gallery-fullscreenbtn" class="pv-gallery-head-command-drop-list-item" data-command="fullScreen">'+s("enterFullsc")+'</span><span class="pv-gallery-head-command-drop-list-item" data-command="openPrefs">'+s("openConfig")+'</span></span></span><span class="pv-gallery-head-command-container"><span title="'+s("headSearchTip")+'" class="pv-gallery-head-command pv-gallery-head-command-search"><span>'+s("headSearchTip")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-search"><span class="pv-gallery-head-command-drop-list-item" id="headSearchAll" data-command="headSearchAll">'+s("headSearchAll")+'</span></span></span><span class="pv-gallery-head-command-container"><span title="'+s("share")+'" class="pv-gallery-head-command pv-gallery-head-command-share"><span>'+s("share")+'</span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-head-command-drop-list pv-gallery-head-command-drop-list-share"></span></span><span title="'+s("closeGallery")+'" class="pv-gallery-head-command pv-gallery-head-command-close"></span></span><span class="pv-gallery-body"><span class="pv-gallery-img-container"><span class="pv-gallery-img-content"><span class="pv-gallery-img-parent"><img title="'+s("refreshWhenError")+'" class="pv-gallery-img_broken" src="'+A.icons.brokenImg+'" /></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-img-controler pv-gallery-img-controler-pre"></span><span class="pv-gallery-img-controler pv-gallery-img-controler-next"></span><span class="pv-gallery-scrollbar-h pv-gallery-img-scrollbar-h"><span class="pv-gallery-scrollbar-h-track pv-gallery-img-scrollbar-h-track"><span class="pv-gallery-scrollbar-h-handle pv-gallery-img-scrollbar-h-handle"></span></span></span><span class="pv-gallery-scrollbar-v pv-gallery-img-scrollbar-v"><span class="pv-gallery-scrollbar-v-track pv-gallery-img-scrollbar-v-track"><span class="pv-gallery-scrollbar-v-handle pv-gallery-img-scrollbar-v-handle"></span></span></span><span class="pv-gallery-sidebar-toggle" title="'+s("switchSlide")+'"><span class="pv-gallery-sidebar-toggle-content"></span><span class="pv-gallery-vertical-align-helper"></span></span><span class="pv-gallery-sidebar-viewmore" title="'+s("viewmore")+'"><span class="pv-gallery-sidebar-viewmore-content"></span><span class="pv-gallery-vertical-align-helper"></span></span></span><span class="pv-gallery-sidebar-container" unselectable="on"><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-content" ><span class="pv-gallery-sidebar-controler pv-gallery-sidebar-controler-pre"></span><span class="pv-gallery-sidebar-controler pv-gallery-sidebar-controler-next"></span><span class="pv-gallery-sidebar-thumbnails-container"></span><span class="pv-gallery-scrollbar-h pv-gallery-thumb-scrollbar-h"><span class="pv-gallery-scrollbar-h-track pv-gallery-thumb-scrollbar-h-track"><span class="pv-gallery-scrollbar-h-handle pv-gallery-thumb-scrollbar-h-handle"></span></span></span><span class="pv-gallery-scrollbar-v pv-gallery-thumb-scrollbar-v"><span class="pv-gallery-scrollbar-v-track pv-gallery-thumb-scrollbar-v-track"><span class="pv-gallery-scrollbar-v-handle pv-gallery-thumb-scrollbar-v-handle"></span></span></span></span></span><span class="pv-gallery-maximize-scroll"><span class="pv-gallery-maximize-container"></span></span><span class="pv-gallery-tipsWords"></span><span class="pv-gallery-urls-textarea"><textarea></textarea><span class="pv-gallery-urls-textarea-close"></span><span class="pv-gallery-urls-textarea-download">'+A.icons.downloadSvgBtn+"</span></span></span>"),i.documentElement.appendChild(e);let r=Bricks({container:".pv-gallery-maximize-container",packed:"data-packed",sizes:[{columns:2,gutter:10},{mq:"600px",columns:3,gutter:10},{mq:"800px",columns:4,gutter:10},{mq:"1000px",columns:5,gutter:10},{mq:"1130px",columns:6,gutter:12}]});this.bricksInstance=r,T.bricksInstance=this.bricksInstance,this.hideScrollStyle=i.createElement("style"),this.hideScrollStyle.textContent="html {-ms-overflow-style: none; scrollbar-width: none;}html::-webkit-scrollbar { width: 0 !important; height: 0 !important; }",this.hideScrollStyle.type="text/css";var o=this,c=i.createElement("style");this.hideBodyStyle=c,c.textContent='body>*:not([class^="pv-"]) img,body>img{display:none}';var p=e.querySelector("#minsizeH"),h=e.querySelector("#minsizeW");this.sizeInputH=p,this.sizeInputW=h,h.oninput=function(){o.changeMinView()},p.oninput=function(){o.changeMinView()},e.querySelector("#minsizeWSpan").onclick=function(){var e=t.prompt("Width:",h.value);e&&(h.value=e,o.changeMinView())},e.querySelector("#minsizeHSpan").onclick=function(){var e=t.prompt("Height:",p.value);e&&(p.value=e,o.changeMinView())};var u=e.querySelector("#pinSize");u.addEventListener("change",(function(e){let t=e.target.value.split("x");if(2!==t.length)return o.lockMaxSize=null,p.value=0,h.value=0,o.changeMinView(),f.style.filter="",void(f.title=s("lockSizeTip"));let i=t[0].split("-"),a=t[1].split("-"),r=parseInt(i[0]),n=parseInt(i[1]||0),l=parseInt(a[0]),c=parseInt(a[1]||0);p.value=l,h.value=r,n&&c?(o.lockMaxSize={w:n,h:c},f.style.filter="brightness(5)",f.title=n+" x "+c):(o.lockMaxSize=null,f.style.filter="",f.title=s("lockSizeTip")),o.changeMinView()})),this.pinSize=u,this.sizeMap={};var f=e.querySelector(".pv-gallery-head-left-lock-icon");f.onclick=function(){var e,i;o.lockMaxSize?(o.lockMaxSize=null,o.changeMinView(),f.style.filter="",f.title=s("lockSizeTip")):((e=t.prompt("Max Width:",h.max))&&(i=t.prompt("Max Height:",p.max)),i&&(o.lockMaxSize={w:e,h:i},o.changeMinView(),f.style.filter="brightness(5)",f.title=e+" x "+i));o.lockMaxSize?(E.setListItem("maxSize",location.hostname,o.lockMaxSize),o.curDefaultSize={h:p.value,w:h.value}):(E.setListItem("maxSize",location.hostname,""),o.curDefaultSize=""),E.setListItem("minSize",location.hostname,o.curDefaultSize)};var v=i.createElement("span");this.maximizeTrigger=v,v.innerHTML=I("-"+s("returnToGallery")+'-<span class="pv-gallery-maximize-trigger-close" title="'+s("closeGallery")+'"></span>'),v.className="pv-gallery-maximize-trigger",z(i).appendChild(v),e.querySelector("#galleryRotate").addEventListener("focus",(function(e){M["head-command-drop-list-others"].classList.add("focus")})),e.querySelector("#galleryRotate").addEventListener("blur",(function(e){M["head-command-drop-list-others"].classList.remove("focus")})),e.querySelector("#galleryRotate").addEventListener("change",(function(e){o.galleryRotate=e.target.value,o.fitToScreen()}));var b=A.gallery.sidebarPosition;-1==["top","right","bottom","left"].indexOf(b)&&(b="bottom"),this.sBarPosition=b,this.selectedClassName="pv-gallery-sidebar-thumb_selected-"+b;var x="v",k=!1;"top"!=b&&"bottom"!=b||(x="h",k=!0),this.sBarDirection=x,this.isHorizontal=k;var S="pv-gallery-",M={};this.eleMaps=M,["head","head-left-img-info","head-left-img-info-description","head-left-img-info-resolution","head-left-img-info-count","head-left-img-info-scaling","head-command-close","head-command-nextPage","head-command-slide-show","head-command-slide-show-button-inner","head-command-slide-show-countdown","head-command-collect","head-command-exit-collection","head-command-urlFilter","head-command-drop-list-category","head-command-drop-list-others","head-command-drop-list-share","head-command-drop-list-slide-show","head-command-drop-list-slide-show-interval","head-command-drop-list-collect","head-command-drop-list-search","body","img-container","img-scrollbar-h","img-scrollbar-h-handle","img-scrollbar-h-track","img-scrollbar-v","img-scrollbar-v-handle","img-scrollbar-v-track","thumb-scrollbar-h","thumb-scrollbar-h-handle","thumb-scrollbar-h-track","thumb-scrollbar-v","thumb-scrollbar-v-handle","thumb-scrollbar-v-track","img-content","img-parent","img_broken","img-controler-pre","img-controler-next","sidebar-toggle","sidebar-toggle-content","sidebar-viewmore","sidebar-viewmore-content","maximize-container","tipsWords","sidebar-container","sidebar-content","sidebar-controler-pre","sidebar-controler-next","sidebar-thumbnails-container"].forEach((function(t){M[t]=e.querySelector("."+S+t)}));["img-container","sidebar-toggle","sidebar-viewmore","sidebar-container","sidebar-thumbnails-container"].forEach((function(e){M[e].classList.add(S+e+"-"+b)}));["sidebar-toggle","sidebar-toggle-content","sidebar-viewmore","sidebar-viewmore-content","sidebar-container","sidebar-content","sidebar-controler-pre","sidebar-controler-next","sidebar-thumbnails-container"].forEach((function(e){M[e].classList.add(S+e+"-"+x)}));var C=new this.Scrollbar({bar:M["img-scrollbar-h"],handle:M["img-scrollbar-h-handle"],track:M["img-scrollbar-h-track"]},M["img-content"],!0);this.imgScrollbarH=C;var R,L=new this.Scrollbar({bar:M["img-scrollbar-v"],handle:M["img-scrollbar-v-handle"],track:M["img-scrollbar-v-track"]},M["img-content"],!1);this.imgScrollbarV=L,R=k?new this.Scrollbar({bar:M["thumb-scrollbar-h"],handle:M["thumb-scrollbar-h-handle"],track:M["thumb-scrollbar-h-track"]},M["sidebar-thumbnails-container"],!0):new this.Scrollbar({bar:M["thumb-scrollbar-v"],handle:M["thumb-scrollbar-v-handle"],track:M["thumb-scrollbar-v-track"]},M["sidebar-thumbnails-container"],!1),this.thumbScrollbar=R,o=this;var N={rule:{shown:!0,count:0,description:s("advancedRulesTip"),name:s("advancedRules")},tpRule:{shown:!0,count:0,description:s("tpRulesTip"),name:s("tpRules")},scale:{shown:!0,count:0,description:s("scaleRulesTip"),name:s("scaleRules")},force:{shown:!0,count:0,description:s("noScaleRulesTip"),name:s("noScaleRules")},scaleSmall:{shown:A.gallery.showSmallSize,count:0,description:s("smallRulesTip",A.gallery.scaleSmallSize),name:s("smallRules")}};this.imgStatistics=N;var B,D="";for(var U in N)N.hasOwnProperty(U)&&(D+='<span class="pv-gallery-head-command-drop-list-item" title="'+(B=N[U]).description+'"><input type="checkbox" data-type="'+U+'" id="pv-gallery-head-command-drop-list-item-category-'+U+'" /><label for="pv-gallery-head-command-drop-list-item-category-'+U+'">'+B.name+"</label></span>");M["head-command-drop-list-category"].innerHTML=I(D);var G={getMatched:function(){let e=this.all||this.get();for(let t=0;t<e.length;t++){let i=e[t];if(i.src==o.src)return[i,t]}return null},check:function(){var e=this.getMatched();this.favorite=e?e[0]:null,this.tAreaValue(),this.highLight()},tAreaValue:function(){this.textArea.value=this.favorite?this.favorite.description:o.eleMaps["head-left-img-info-description"].textContent},highLight:function(){M["head-command-collect"].classList[this.favorite?"add":"remove"]("pv-gallery-head-command-collect-favorite")},add:function(){this.favorite={src:o.src,thumbSrc:$(o.relatedThumb,"thumbSrc"),naturalSize:o.imgNaturalSize,description:this.textArea.value},this.get();var e=this.getMatched();e&&this.all.splice(e[1],1),this.all.unshift(this.favorite),this.highLight(),this.save()},remove:function(){this.get();var e=this.getMatched();e&&(this.all.splice(e[1],1),this.save()),this.favorite=null,this.highLight()},save:function(){E.setItem("pv_collection",encodeURIComponent(JSON.stringify(this.all)))},get:function(){var e=E.getItem("pv_collection")||"[]";try{e=JSON.parse(decodeURIComponent(e))}catch(t){e=[]}return this.all=e,e},enter:function(){if(0!=this.all.length){this.mMode=!0;var e=this.dropListButton;e.textContent=s("exitCollection"),$(e,"command","exitCollection"),this.headButton.style.display="inline-block",M["sidebar-thumbnails-container"].classList.add("pv-gallery-sidebar-thumbnails_hide-span");var t,a=i.createElement("span");this.container=a;for(var r="",n=0;t=this.all[n++];)r+='<span class="pv-gallery-sidebar-thumb-container" data-description="'+t.description+'" data-natural-size="'+JSON.stringify(t.naturalSize).replace(/"/g,"&quot;")+'" data-src="'+t.src+'" data-thumb-src="'+t.thumbSrc+'"><span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-thumb-loading" title="'+s("loading")+'......"></span></span>';a.innerHTML=I(r),M["sidebar-thumbnails-container"].appendChild(a),this.selected=o.selected,o.select(a.children[0]),o.thumbScrollbar.reset(),o.loadThumb()}else o.showTips(s("noCollectionYet"))},exit:function(){if(this.mMode){this.mMode=!1;var e=this.dropListButton;e.textContent=s("viewCollection"),$(e,"command","enterCollection"),this.headButton.style.display="none",M["sidebar-thumbnails-container"].removeChild(this.container),M["sidebar-thumbnails-container"].classList.remove("pv-gallery-sidebar-thumbnails_hide-span"),o.select(this.selected),o.thumbScrollbar.reset(),o.loadThumb()}},textArea:M["head-command-drop-list-collect"].querySelector("textarea"),dropListButton:M["head-command-drop-list-others"].querySelector('[data-command$="Collection"]'),headButton:M["head-command-exit-collection"]};this.collection=G,this.collection.textArea.addEventListener("focus",(function(e){M["head-command-drop-list-collect"].classList.add("focus")})),this.collection.textArea.addEventListener("blur",(function(e){M["head-command-drop-list-collect"].classList.remove("focus")})),M["head-command-drop-list-collect"].addEventListener("input",(function(e){var t=e.target;G.favorite&&(G.favorite[$(t,"prefs")]=t.value,clearTimeout(G.saveTimer),G.saveTimer=setTimeout((function(){G.save()}),500))}),!0),M["head-command-drop-list-collect"].addEventListener("keydown",(function(e){e.stopPropagation()}),!0);let W=e.querySelector(".pv-gallery-urls-textarea");this.urlsTextareaCon=W,this.urlsTextarea=W.querySelector("textarea"),e.querySelector(".pv-gallery-urls-textarea-close").addEventListener("click",(function(e){W.style.display=""}),!0),e.querySelector(".pv-gallery-urls-textarea-download").addEventListener("click",(function(e){if(!o.urlsTextarea.value)return;let t=new Blob([o.urlsTextarea.value],{type:"text/plain"});saveAs(t,(i.title||"PicviewerCEPlus")+".txt")}),!0);let Z=E.getItem("slideShowInterval")||5e3;var O={opts:{interval:Z,wait:!0,backward:!1,skipErrorImg:!0,run:!1,random:!1},run:function(e){this.opts.run&&("loadEnd"!=e&&this.stop(),"click"!=e&&"select"!=e||this.getEle()?this.opts.skipErrorImg&&o.imgError&&!o.isLoading?o.select(this.getEle()):this.opts.wait?"select"==e||"loadEnd"!=e&&(o.isLoading||!o.img.complete&&!o.imgError)||this.go():"loadEnd"!=e&&this.go():this.exit())},getEle:function(){return o.getThumSpan(this.opts.backward,null,!0,this.opts.random)},go:function(){this.stop();var e=this.opts.interval,t=this;this.timer=setTimeout((function(){t.setCountdown(0),clearInterval(t.countdownTimer),o.select(t.getEle())}),e);var i=Date.now();this.countdownTimer=setInterval((function(){t.setCountdown(e-(Date.now()-i))}),100),e&&e!==Z&&(Z=e,E.setItem("slideShowInterval",e))},stop:function(){this.setCountdown(this.opts.interval),clearTimeout(this.timer),clearInterval(this.countdownTimer)},exit:function(){this.opts.run=!0,this.switchStatus(),this.stop()},setCountdown:function(e){M["head-command-slide-show-countdown"].textContent=(e/1e3).toFixed(2)},switchStatus:function(){this.opts.run=!this.opts.run,M["head-command-slide-show-button-inner"].classList[this.opts.run?"add":"remove"]("pv-gallery-head-command-slide-show-button-inner_stop")},check:function(){this.opts.run?this.run("click"):this.stop()}};O.setCountdown(O.opts.interval),this.slideShow=O,M["head-command-drop-list-slide-show-interval"].value=parseInt(O.opts.interval/1e3)||5;let j=e.querySelector(".pv-gallery-head-left-filter-icon");function Y(){let e=prompt(s("urlFilterTip"),o.urlFilter||location.hostname)||"";e!=o.urlFilter&&(o.urlFilter=e,E.setListItem("urlFilter",location.hostname,e),o.urlFilter?(j.title="Filter: "+o.urlFilter,j.style.filter="brightness(5)"):(j.title=s("urlFilterTip"),j.style.filter=""),o.urlFilterReg=null,o.changeMinView())}j.onclick=function(){Y()},this.urlFilter="",this.lockMaxSize=!1;var F=E.getListItem("urlFilter",location.hostname)||!1,P=E.getListItem("maxSize",location.hostname)||!1;F&&(o.urlFilter=F,j.title=o.urlFilter,j.style.filter="brightness(5)"),P&&(o.lockMaxSize=P,f.style.filter="brightness(5)",f.title=P.w+" x "+P.h),o.curDefaultSize=E.getListItem("minSize",location.hostname)||!1,M["head-command-drop-list-slide-show"].addEventListener("change",(function(e){var t,i=e.target,a=$(i,"prefs");"checkbox"==i.type?t=i.checked:(t=parseFloat(i.value),isNaN(t)&&(t=O.opts[a]/1e3),t=t>0?t:1,i.value=t,t*=1e3),O.opts[a]=t,O.run("change")}),!0),M["head-command-drop-list-category"].addEventListener("change",(function(e){var t=e.target,i=$(t,"type");o.iStatisCopy[i].shown=t.checked,o.switchThumbVisible()}),!0),A.gallery.scrollEndAndLoad=!!E.getListItem("scrollEndAndLoad",location.hostname),M["head-command-drop-list-others"].querySelector('input[data-command="scrollToEndAndReload"]').checked=A.gallery.scrollEndAndLoad;let _,H,V=!1;async function J(){let e=o.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),t=[],i=0;for(const a of e)if("none"!==T.getComputedStyle(a).display){i++;let e="stop"!==$(a,"xhr")&&o.getPropBySpanMark(a,"xhr");e&&(o.showTips("Sending request..."),await new Promise((t=>{setTimeout((()=>{let i=function(){$(a,"xhr","stop"),$(a,"src",$(a,"thumbSrc")),t()};ye.load({url:a.dataset.src,xhr:e,cb:function(e,r,n){e?($(a,"src",e),$(a,"xhr","stop"),n&&$(a,"description",n),t()):i()},onerror:i})}),A.gallery.downloadGap||0)}))),_=0===a.dataset.src.indexOf("data")?"":a.dataset.src||"";let r=-1!==a.title.indexOf("\n")?a.title.split("\n")[0]:a.title;r=0===r.indexOf("http")||0===r.indexOf("data")?"":r,r=y(_,r,A.saveName);let n=(i<10?"00"+i:i<100?"0"+i:i)+(r?"-"+r:""),s=location.host.split(".");s[s.length-2];t.push([a.dataset.src,n]),a.dataset.srcs&&a.dataset.srcs.split(",").forEach((e=>{t.push([e,n])}))}return t}function X(){if(!(i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement)){var e=i.getElementById("pv-gallery-fullscreenbtn");e&&(e.textContent=s("enterFullsc"),e.classList.remove("fullscreenbtn"))}}o.openImages=e=>{let t=i.createElement("input");t.type="file",t.accept="image/*,video/*,audio/*",t.setAttribute("multiple",""),e&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.setAttribute("directory",""),t.setAttribute("webkitdirectory","")),t.addEventListener("change",(e=>{const t=e.target.files;if(t.length){for(var a=0;a<t.length;a++){let e=t.item(a);e=t[a];let n,s=URL.createObjectURL(e);if(0===e.type.indexOf("image"))n=i.createElement("img");else if(0===e.type.indexOf("audio"))n=i.createElement("audio"),s="audio:"+s;else{if(0!==e.type.indexOf("video"))continue;n=i.createElement("video"),s="video:"+s}n.title=e.name;var r={src:s,type:"force",imgSrc:s,noActual:!0,description:e.name,img:n};o.data.push(r),o._appendThumbSpans([r])}o.loadThumb(),o.changeSizeInputReset()}}),!1),t.click()},M["head-command-drop-list-others"].addEventListener("click",(async function(e){if(0!=e.button)return;let r=e.target,n=$(r,"command");var c;if(n)switch(n){case"openInNewWindow":l(o.src,{active:!0});break;case"psImage":{let e=rt[A.gallery.editSite];e||(e=rt[Object.keys(rt)[0]]),e&&e(o.src,!0)}break;case"scrollIntoView":{if(G.mMode)return void o.showTips(s("inCollection"));let e=o.relatedThumb,r=a.indexOf.call(o.imgSpans,e),n=o.data[r].img;if(n){if(!i.documentElement.contains(n)||"none"==T.getComputedStyle(n).display)return void o.showTips(s("cantFind"));o.minimize(),setTimeout((function(){o.navigateToImg(n),ie(n)}),0)}else i.addEventListener("pv-navigateToImg",(function(e){e.detail?(o.minimize(),setTimeout((function(){o.iframe&&o.navigateToImg(o.iframe)}),0)):o.showTips(s("cantFind"))}),!0),t.postMessage({messageID:Ce,command:"navigateToImg",index:r,to:o.from},"*")}break;case"exportImages":o.exportImages();break;case"postImagesToAria2":if(!A.gallery.aria2Host)return void o.showTips("Configure aria2 first!",1e3);H=await J(),[].forEach.call(H,(function(e){d({method:"POST",url:A.gallery.aria2Host+"/jsonrpc",data:JSON.stringify({params:["token:"+(A.gallery.aria2Token||""),[e[0]],{out:e[1]}],jsonrpc:"2.0",method:"aria2.addUri",id:Math.random()}),onload:function(e){},onerror:function(e){o.showTips("Error! Check aria2 setting!",1e3)}})})),o.showTips("Completed!",1e3);break;case"downloadImage":if(V)break;V=!0,H=await J(),o.batchDownload(H,(()=>{V=!1,o.showTips("Completed!",1e3)}));break;case"copyImages":o.copyImages(!0);break;case"cookie":w=prompt("Set Cookie",w||"");break;case"scrollToEndAndReload":var p=r.parentNode.querySelector("input");"LABEL"==r.nodeName.toUpperCase()&&(p.checked=!p.checked),A.gallery.scrollEndAndLoad=p.checked,E.setListItem("scrollEndAndLoad",location.hostname,p.checked);break;case"fullScreen":if(r.classList.contains("fullscreenbtn")){if(Q())return;return r.textContent=s("enterFullsc"),void r.classList.remove("fullscreenbtn")}if(void((c=i.documentElement).requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen&&c.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)))return;r.classList.toggle("fullscreenbtn"),r.textContent=s("exitFullsc"),r.classList.add("fullscreenbtn"),"hidden"==o.eleMaps["sidebar-container"].style.visibility||o.showHideBottom();break;case"openPrefs":ft();break;case"viewmore":o.maximizeSidebar();break;case"openImages":o.openImages(e);break;case"addImageUrls":let n=t.prompt(s("addImageUrls")+": White space to split multi-image, '[01-09]' to generate nine urls from 01 to 09, '$http://xxx' to fetch images from page","https://xxx.xxx/pic-[20-99].jpg https://xxx.xxx/pic-[01-10].png");if(!n)return;o.addImageUrls(n);break;case"operate":if(null===o.img||"none"===o.img.style.display)return;let h;if(/img/i.test(o.img.nodeName))ce(o.src,{ready:function(){o.img.style.display="none",h=new me(this);o.src;h.imgWindow.addEventListener("pv-removeImgWindow",(e=>{"none"===o.img.style.display&&(o.img.style.display="")}))}});else{let e=o.img,t=e.className;h=new me(e),o.img=null;o.src;h.imgWindow.addEventListener("pv-removeImgWindow",(i=>{null===o.img&&(e.style.width="",e.style.height="",e.style.opacity=1,M["img-parent"].appendChild(e),o.img=e,o.img.className=t)}))}break;case"urlFilter":Y();break;case"enterCollection":G.enter();break;case"exitCollection":G.exit()}}),!0),i.addEventListener("webkitfullscreenchange",X,!1),i.addEventListener("mozfullscreenchange",X,!1),i.addEventListener("fullscreenchange",X,!1);var q,K="";for(let e in A.share)A.share.hasOwnProperty(e)&&((q=A.share[e]).limitLang&&-1==q.limitLang.indexOf(n)||q.disabled||(K+='<span class="pv-gallery-head-command-drop-list-item" data-site="'+e+'" style="                        background-image:url(\''+q.icon+"');                        background-position:4px center;                        background-repeat:no-repeat;                        padding-left:24px;\">"+q.name+"</span>"));M["head-command-drop-list-share"].innerHTML=I(K),M["head-command-drop-list-share"].addEventListener("click",(function(e){if(0==e.button){var a=$(e.target,"site");if(a){var r=A.share[a].api.call(o.img,{title:encodeURIComponent(i.title),pic:encodeURIComponent(o.src),url:encodeURIComponent(location.href)});r&&t.open(r.url,"_blank","height="+r.wSize.h+",width="+r.wSize.w+",left=30,top=30,location=no,status=no,toolbar=no,menubar=no,scrollbars=yes")}}}),!0),A.gallery.searchData&&-1==g.indexOf(A.gallery.searchData)||(A.gallery.searchData=g);var ee,te=A.gallery.searchData.split("\n"),ae=[],re=M["head-command-drop-list-search"].querySelector("#headSearchAll");te.forEach((e=>{if(!ee){var a=e.match(/\s*{(.*)}\s*/);if(a)return void(ee=a[1])}let r=e.trim().split("|");if(2==r.length){var n=i.createElement("span");n.className="pv-gallery-head-command-drop-list-item",n.innerHTML=I(r[0]),n.addEventListener("click",(function(e){let i=encodeURIComponent(o.src),a=o.src.replace(/https?:\/\//i,"");t.open(r[1].replace("#b#",a).replace("#t#",i),"_blank","width=1024, height=768, toolbar=1")})),ae.push(n),M["head-command-drop-list-search"].insertBefore(n,re)}})),re.addEventListener("click",(function(e){ae.forEach((e=>{e.click()}))}));let ne=!1;M["sidebar-thumbnails-container"].addEventListener("scroll",(function(e){ne||(ne=!0,setTimeout((function(){ne=!1,o.loadThumb()}),200))}),!1),this.canScroll=!0;var oe=function(e){o.canScroll&&(A.gallery.transition&&(o.canScroll=!1,setTimeout((function(){o.canScroll=!0}),200)),e?o.selectNext():o.selectPrevious())};de(M.body,(function(e){if(0==e.deltaZ&&"TEXTAREA"!=e.target.nodeName&&"hidden"!=M["sidebar-toggle"].style.visibility){var t=e.target;if(M["sidebar-container"].contains(t)){if(0===e.deltaX&&0===e.deltaY)return;let t=o.thumbSpanOuterSize;(e.deltaY<0||e.deltaX<0)&&(t=-t),R.scrollBy(t)}else{let i=100;0!=e.deltaY?o.img&&o.img.classList.contains("pv-gallery-img_zoom-out")?(i=e.deltaY<0?-Math.max(i,-e.deltaY):Math.max(i,e.deltaY),M["img-scrollbar-h"].contains(t)?C.scrollBy(i):L.scrollBy(i)&&A.gallery.scrollEndToChange&&oe(e.deltaY>0)):oe(e.deltaY>0):(i=e.deltaX<0?-Math.max(i,-e.deltaX):Math.max(i,e.deltaX),C.scrollBy(i))}}}),!0);var le=i.createElement("style");le.type="text/css",i.head.appendChild(le);let he=M.head;var ue,ge;de(he,(function(e){he.scrollLeft+=e.deltaY,le.textContent="";let t=he.scrollLeft;t&&(le.textContent=`.pv-gallery-head-command-drop-list{margin-left:${-t}px}`,le.parentNode||i.head.appendChild(le))}),!0),pe("mouseenter",e,(function(){this.focus()})),pe("mouseleave",e,(function(){this.blur()}));function fe(e){let t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,a=t-ue,r=i-ge;if(a*a+r*r>1e4){ue=t,ge=i;let e="",n=Math.abs(r/a);switch(n>.5?e=r>0?"":"":n<=2&&(e=a>0?"":""),e){case"":o.selectNext();break;case"":o.selectPrevious();break;case"":"hidden"!=o.eleMaps["sidebar-toggle"].style.visibility&&o.maximizeSidebar()}}}o.eleMaps["img-content"].addEventListener("touchstart",(function(e){ue=e.changedTouches[0].clientX,ge=e.changedTouches[0].clientY,o.eleMaps["img-content"].addEventListener("touchmove",fe)}),{passive:!1,capture:!1}),o.eleMaps["img-content"].addEventListener("touchend",(function(e){o.eleMaps["img-content"].removeEventListener("touchmove",fe)}),{passive:!1,capture:!1});var ve,be,we=[38,39,40,37,32,9];function Ae(e){if(null===o.img||"none"===o.img.style.display)return;if(/^video$/i.test(e.nodeName)){let t=e.className,i=new me(e);return o.img=null,void i.imgWindow.addEventListener("pv-removeImgWindow",(i=>{null==o.img&&(e.style.width="",e.style.height="",e.style.opacity=1,M["img-parent"].appendChild(e),o.img=e,o.img.className=t)}))}let t=e=>{new me(e).imgWindow.addEventListener("pv-removeImgWindow",(e=>{"none"===o.img.style.display&&(o.img.style.display="")}))};e.style.display="none",ce(o.src,{ready:function(){t(this)},error:function(e){var a=i.createElement("img");a.src=o.img.src,t(a)}})}if(e.addEventListener("keydown",(function(t){if(!A.gallery.disableArrow){var i=t.keyCode,a=we.indexOf(i);if(-1!=a){var r=t.target;if(e.contains(r)&&(t.preventDefault(),t.stopPropagation(),9!=i))if(32!=i){if(!ve){var n;switch(ve=!0,a){case 0:case 3:o.selectPrevious(),n=o.simpleSlideShow(!0);break;case 1:case 2:o.selectNext(),n=o.simpleSlideShow()}e.addEventListener("keyup",(function t(i){i.keyCode==we[a]&&(e.removeEventListener("keyup",t,!1),ve=!1,n())}),!1)}}else L.scrollByPages(1)}}})),M["img-parent"].addEventListener("mousedown",(function(e){var t=e.target;if(0==e.button&&"IMG"==t.nodeName.toUpperCase()){var a=t.classList.contains("pv-gallery-img_zoom-out")||o.scaleByScreen,r=e.clientX,n=e.clientY,s=o.imgScrollbarH.getScrolled(),l=o.imgScrollbarV.getScrolled(),c=0,d=function(e){e.preventDefault(),e.stopPropagation(),++c<2||(be=!0,a&&(t.style.cursor=se.cssCursorValue.grabbing||"pointer",o.imgScrollbarV.scroll(l-(e.clientY-n)),o.imgScrollbarH.scroll(s-(e.clientX-r))))},p=function(){t.style.cursor="",setTimeout((function(){be=!1}),0),i.removeEventListener("mousemove",d,!0),i.removeEventListener("mouseup",p,!0)};i.addEventListener("mousemove",d,!0),i.addEventListener("mouseup",p,!0)}}),!0),M["img-parent"].addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}),!0),M["img-parent"].addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}),!0),M["img-parent"].addEventListener("mousemove",(function(e){e.preventDefault(),e.stopPropagation()}),!0),M["img-parent"].addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=e.target;if(0==e.button&&/^(video|img)$/i.test(t.nodeName))if(be)be=!1;else if(t.classList.contains("pv-gallery-img_zoom-in")){o.fitContains=!1;var i=void 0===e.offsetX?e.layerX:e.offsetX,a=void 0===e.offsetY?e.layerY:e.offsetY,r=i/t.offsetWidth,n=a/t.offsetHeight;o.fitToScreen({x:r,y:n})}else t.classList.contains("pv-gallery-img_zoom-out")?(o.fitContains=!0,o.fitToScreen()):Ae(t)}),!0),M["img-parent"].addEventListener("dblclick",(function(e){e.preventDefault(),e.stopPropagation();var t=e.target;0==e.button&&/^(video|img)$/i.test(t.nodeName)&&(t.classList.contains("pv-gallery-img_zoom-in")||t.classList.contains("pv-gallery-img_zoom-out"))&&(be?be=!1:Ae(t))}),!0),e.addEventListener("mousedown",(function(e){if(0==e.button){var t=e.target;"IMG"==t.nodeName.toUpperCase()&&e.preventDefault();var a,r=!0;switch(t){case M["img-controler-pre"]:case M["sidebar-controler-pre"]:o.selectPrevious(),a=o.simpleSlideShow(!0);break;case M["img-controler-next"]:case M["sidebar-controler-next"]:o.selectNext(),a=o.simpleSlideShow();break;default:r=!1}r&&(e.preventDefault(),i.addEventListener("mouseup",(function e(t){i.removeEventListener("mouseup",e,!0),a()}),!0))}}),!1),M["sidebar-thumbnails-container"].addEventListener("click",(function(e){if(0==e.button){var t,i=e.target;($(i,"src")||!(t=i.parentNode)||$(t,"src"))&&o.select(t||i,!1,!0)}}),!1),M.img_broken.addEventListener("click",(function(e){o.isLoading?o.select(o.errorSpan):o.getImg(o.errorSpan)}),!1),A.gallery.viewmoreEndless||A.gallery.scrollEndAndLoad){var xe=!1;de(M["maximize-container"],(function(e){xe||(xe=!0,setTimeout((()=>{xe=!1;let e=o.eleMaps["maximize-container"].parentNode;if(e.scrollTop/(e.scrollHeight-e.clientHeight)>.8){if(A.gallery.scrollEndAndLoad&&o.scrollToEndAndReload(),!o.haveMorePage)return;var t=o.eleMaps["head-command-nextPage"].querySelector("span");if(t.innerHTML==s("loading"))return;t.innerHTML=I(s("loading")),o.completePages=[],o.pageAllReady=!1,o.pageAction(!0,!0)}}),100))}))}o.batchDl=i.createElement("p");let ke,Se=i.createElement("input"),ze=i.createElement("input"),Ie=i.createElement("input"),Me=i.createElement("input"),Ee=i.createElement("input"),Te=M["maximize-container"];Se.value=s("download"),ze.value=s("closeBtn"),Ie.value=s("selectAllBtn"),Me.value=s("invertBtn"),Ee.value=s("compareBtn"),Se.type="button",ze.type="button",ze.className="need-checked",Ie.type="button",Me.type="button",Me.className="need-checked",Ee.type="button",Ee.className="compareBtn",Ee.onclick=function(e){if(ke=Te.querySelectorAll(".maximizeChild>input:checked"),ke.length<2)return;let t=[];if([].forEach.call(ke,(function(e){let i=e.parentNode;if("none"==i.style.display)return;let a=i.querySelector("img").src;t.push(a)})),t.length<2)return;let a=i.createElement("img");a.src=t.shift(),new me(a).compare(t)},Se.onclick=async function(e){ke=Te.querySelectorAll(".maximizeChild>input:checked"),ke.length<1&&(ke=Te.querySelectorAll(".maximizeChild>input"));var t=[],a=0;for(const e of ke){let n=e.parentNode;if("none"==n.style.display)return;a++,n.dataset.xhr&&await new Promise((e=>{let t=i=>{n.removeEventListener("getxhrover",t),e()};n.addEventListener("getxhrover",t),n.dispatchEvent(new Event("getxhr"))}));let o,s=n.querySelector("img").dataset.src||n.querySelector("img").src,l=e.nextElementSibling.title;l=-1!==l.indexOf("\n")?l.split("\n")[0]:l,l=0===l.indexOf("http")||0===l.indexOf("data")?"":l,o=0===s.indexOf("data")?"":s||"",l=y(o,l,A.saveName);var r=(a<10?"00"+a:a<100?"0"+a:a)+(l&&l!=i.title?"-"+l:"");t.push([s,r])}o.batchDownload(t,(()=>{o.showTips("Completed!",1e3)}))},ze.onclick=function(e){ke=Te.querySelectorAll(".maximizeChild>input:checked"),[].forEach.call(ke,(e=>{e.checked=!1})),Te.classList.remove("checked")},Me.onclick=function(e){ke=Te.querySelectorAll(".maximizeChild>input"),ke.length<1||([].forEach.call(ke,(e=>{"none"==e.parentNode.style.display?e.checked=!1:e.checked=!e.checked})),ke=Te.querySelectorAll(".maximizeChild>input:checked"),0==ke.length&&Te.classList.remove("checked"))},Ie.onclick=function(e){ke=Te.querySelectorAll(".maximizeChild>input"),ke.length<1||([].forEach.call(ke,(e=>{"none"==e.parentNode.style.display?e.checked=!1:e.checked=!0})),Te.classList.add("checked"))},o.batchDl.appendChild(Se),o.batchDl.appendChild(ze),o.batchDl.appendChild(Ie),o.batchDl.appendChild(Me),o.batchDl.appendChild(Ee),Te.parentNode.appendChild(o.batchDl),M.head.addEventListener("click",(function(e){if(0==e.button){var t=e.target;if(M["head-command-close"]==t)o.close();else if(M["head-command-nextPage"].contains(t)){var i=M["head-command-nextPage"].querySelector("span");if(i.innerHTML==s("loading"))return void(i.innerHTML=I(s("loadAll")));i.innerHTML=I(s("loading")),o.completePages=[],o.pageAllReady=!1,o.pageAction(!0)}else M["head-command-collect"].contains(t)?G.favorite?G.remove():G.add():M["head-command-exit-collection"].contains(t)?G.exit():M["head-command-slide-show"].contains(t)&&(O.switchStatus(),O.check())}}),!1),v.addEventListener("click",(function(e){var t=e.target;this.style.display="none",t==this?(o.show(),o.resizeHandler()):o.minimized=!1}),!0),this._resizeHandler=this.resizeHandler.bind(this),this._keyDownListener=this.keyDownListener.bind(this),this._keyUpListener=this.keyUpListener.bind(this),m(".pv-gallery-sidebar-thumb-container{"+(k?"width":"height")+":"+(k?T.getComputedStyle(M["sidebar-thumbnails-container"]).height:T.getComputedStyle(M["sidebar-thumbnails-container"]).width)+"}"),this.forceRepaintTimes=0,e.style.display="none";let Re=new Map;e.addEventListener("drop",(async t=>{t.preventDefault(),o.eleMaps["img-parent"].style.pointerEvents="",e.style.filter="";var a=[...t.dataTransfer.items].map((e=>e.getAsFileSystemHandle()));if(a.length){async function r(e,t=""){for await(let n of e){let e=t+"/"+n.name;if(!Re.has(e))if("directory"===n.kind)Re.set(e,!0),await r(n.values(),e);else if("file"===n.kind){let t=await n.getFile();Re.set(e,!0);let r,s=URL.createObjectURL(t);if(0===t.type.indexOf("image"))r=i.createElement("img");else if(0===t.type.indexOf("audio"))r=i.createElement("audio"),s="audio:"+s;else{if(0!==t.type.indexOf("video"))continue;r=i.createElement("video"),s="video:"+s}r.src=s,r.title=e;var a={src:s,type:"force",imgSrc:s,noActual:!0,description:e,img:r};o.data.push(a),o._appendThumbSpans([a])}}}await r(a),o.loadThumb()}})),e.addEventListener("dragover",(e=>e.preventDefault())),e.addEventListener("dragenter",(t=>{o.eleMaps["img-parent"].style.pointerEvents="none",e.style.filter="contrast(0.5)"})),e.addEventListener("dragleave",(t=>{o.eleMaps["img-parent"].style.pointerEvents="",e.style.filter=""})),this.shown=!1,this.initToggleBar(),this.initZoom()},addImageUrls:function(e){let t=[],a=this;[].forEach.call(e.split(/\s+/),(function(e){var i=/\[\d+\-\d+\]/.exec(e);if(i){i=i[0].trim();var a=/\[(\d+)/.exec(i)[1].trim(),r=/(\d+)\]/.exec(i)[1].trim(),n=parseInt(a),o=parseInt(r),s=a.length,l="0"==a.charAt(0);if(!(n>=o))for(var c=n;c<=o;c++){var d=c.toString();if(l)for(;d.length<s;)d="0"+d;var p=e.replace(/\[\d+\-\d+\]/,d).trim();t.push(p)}}else t.push(e)})),t.forEach((e=>{if(0===e.indexOf("$")||0===e.indexOf(""))return void a.addPageImages(e.slice(1));let t=i.createElement("img");t.src=e;var r={src:t.src,type:"force",imgSrc:t.src,noActual:!0,description:"",img:t};a.data.push(r),a._appendThumbSpans([r])})),a.loadThumb(),a.changeSizeInputReset()},rotateBigImg:function(){this.img&&(this.img.style[se.cssTransform]="rotate("+(this.galleryRotate||0)+"deg)")},showTips:function(e,t){var i=this.eleMaps.tipsWords;if(!e)return i.style.opacity=0,void(i.innerText="");i.style.opacity=.8,i.innerText=e,i.style.marginLeft=-i.offsetWidth/2+"px",clearTimeout(this.tipsTimeout),this.tipsTimeout=setTimeout((()=>{i.style.opacity=0}),t||1500)},showCompressProgress:function(e){this.showTips(parseInt(e.percent)+"% Compress "+(e.currentFile||""),1e5)},batchDownload:function(e,t){var a=this;if(A.gallery.downloadWithZip){a.showTips(s("galleryDownloadWithZipAlert"),1e5);var r,n=0,o=i.title;T.pvcepPackAddon?(o+="."+T.pvcepPackAddon.ext,r=new T.pvcepPackAddon.pack(o)):T.pvcepimg2pdf?(o+=".pdf",r=new T.pvcepimg2pdf(o)):(o+=".zip",r=new JSZip);var l=e.length;function d(e,s,c){let d=e=>{S(e,(i=>{if(i&&i.size>58){let e=s.replace(/\//g,"");v.forEach(((t,i)=>{e.replace(new RegExp(`\\.${i}$`),t)})),r.file(e,i)}else console.debug("error: "+e);n++,c&&c(),a.showTips("Downloading "+n+"/"+l,1e6),n==l&&(a.showTips(`Begin compress to ${o}...`,1e5),r.generateAsync({type:"blob"},(e=>{a.showCompressProgress(e)})).then((function(e){e&&saveAs(e,o),t()})))}))};f&&(/^data:/.test(e)||e.split("/")[2]==i.domain)?a.dataURLToCanvas(e,(i=>{a.showTips("Downloading "+(n+1)+"/"+l,1e6),i?i.toBlob((e=>{r.file(s.replace(/^data:.*/,"img").replace(/\//g,""),e),n++,c&&c(),n==l&&(a.showTips(`Begin compress to ${o}...`,1e5),r.generateAsync({type:"blob"},(e=>{a.showCompressProgress(e)})).then((function(e){e&&saveAs(e,o),t()})))}),"image/png"):d(e)})):d(e)}if(A.gallery.downloadGap>0){let p=()=>{setTimeout((()=>{let t=e&&e.shift();t?d(t[0],t[1],p):clearInterval(u)}),A.gallery.downloadGap)},h=10,u=setInterval((()=>{if(0==h--)return void clearInterval(u);let t=e&&e.shift();t?d(t[0],t[1],p):clearInterval(u)}),A.gallery.downloadGap)}else for(let m=0;m<l;m++)d(e[m][0],e[m][1]);return}let c=function(){for(let i=0;i<5;i++){let i=e.shift();if(!i){t();break}j(i[0],i[1],A.saveName)}e.length>0&&setTimeout((()=>{c()}),1e3)};c()},changeMinView:function(){var e=this.sizeInputH,t=this.sizeInputW,a=this.gallery.querySelector("#minsizeHSpan"),r=this.gallery.querySelector("#minsizeWSpan");e.title="min height: "+e.value+"px",a.innerHTML=I("H: "+Math.floor(e.value)+"px"),t.title="min width: "+t.value+"px",r.innerHTML=I("W: "+Math.floor(t.value)+"px"),clearTimeout(this.saveDefaultSize);var n=this;if(this.saveDefaultSize=setTimeout((()=>{n.curDefaultSize={h:e.value,w:t.value},E.setListItem("minSize",location.hostname,n.curDefaultSize)}),1e3),"hidden"==this.eleMaps["sidebar-toggle"].style.visibility){var o=0,s=0,l=0,c=0;[].forEach.call(i.querySelectorAll(".maximizeChild>img"),(function(e){var t=n._spanMarkPool[e.src];if(t&&!t.dataset.naturalSize&&e.naturalWidth&&e.naturalHeight){t.dataset.naturalSize=JSON.stringify({w:e.naturalWidth,h:e.naturalHeight});let a=e.naturalWidth+"x"+e.naturalHeight;if(n.sizeMap[a]=(n.sizeMap[a]||0)+1,2===n.sizeMap[a]){let t=i.createElement("option");t.innerText=a,t.value=e.naturalWidth+"-"+e.naturalWidth+"x"+e.naturalHeight+"-"+e.naturalHeight,n.pinSize.appendChild(t)}}n.filterImage(e.naturalWidth||e.sizeW,e.naturalHeight||e.sizeH,e.src)?(e.parentNode.style.display="",t&&(t.style.display="")):(e.parentNode.style.display="none",t&&(t.style.display="none")),e.naturalHeight&&e.naturalWidth&&(e.naturalHeight>o&&(o=e.naturalHeight),(e.naturalHeight<s||0==s)&&(s=e.naturalHeight),e.naturalWidth>l&&(l=e.naturalWidth),(e.naturalWidth<c||0==c)&&(c=e.naturalWidth))})),e.max=o,e.min=s,e.title="min height: "+e.value+"px",a.innerHTML=I("H: "+Math.floor(e.value)+"px"),t.max=l,t.min=c,t.title="min width: "+t.value+"px",r.innerHTML=I("W: "+Math.floor(t.value)+"px"),this.bricksInstance.pack()}else this.data.forEach((function(i){if(i){var a=n._spanMarkPool[i.src];if(a){var r=a.dataset.naturalSize,o=i.sizeW,s=i.sizeH;r?(o=(r=JSON.parse(r)).w,s=r.h,o>t.max&&(t.max=o),s>e.max&&(e.max=s)):i.noActual,n.filterImage(o,s,i.src)?a.style.display="":a.style.display="none"}}})),this.switchThumbVisible()},changeSizeInputReset:function(){var e=0,t=0,i=0,a=0,r=this.sizeInputH,n=this.sizeInputW;let o=this;this.data.forEach((function(r){if(r){var n=r.sizeW,s=r.sizeH,l=o._spanMarkPool[r.src];if(l){var c=l.dataset.naturalSize;c&&(n=(c=JSON.parse(c)).w,s=c.h)}s>e&&(e=s),(s>0&&s<t||0==t)&&(t=s),n>i&&(i=n),(n>0&&n<a||0==a)&&(a=n)}})),r.max=e,r.min=t,n.max=i,n.min=a,o.curDefaultSize?(r.value=o.curDefaultSize.h,n.value=o.curDefaultSize.w):(r.value=A.gallery.defaultSizeLimit.h,n.value=A.gallery.defaultSizeLimit.w),r.title="min height: "+r.value+"px",this.gallery.querySelector("#minsizeHSpan").innerHTML=I("H: "+Math.floor(r.value)+"px"),n.title="min width: "+n.value+"px",this.gallery.querySelector("#minsizeWSpan").innerHTML=I("W: "+Math.floor(n.value)+"px"),o.loadThumb()},initToggleBar:function(){if(A.gallery.sidebarToggle){var e=this.eleMaps["sidebar-toggle"];e.style.display="flex",e.style.height="12px",e.addEventListener("click",this.showHideBottom.bind(this),!1);var t=this.eleMaps["sidebar-viewmore"];switch(t.style.display="block",t.addEventListener("click",this.maximizeSidebar.bind(this),!1),A.gallery.sidebarPosition){case"bottom":e.style.borderRadius="8px 8px 0 0";break;case"top":e.style.borderRadius="0 0 8px 8px";break;case"left":e.style.height="60px",e.style.borderRadius="0 8px 8px 0";break;case"right":e.style.height="60px",e.style.borderRadius="8px 0 0 8px"}}},closeViewMore:function(){var e=this.eleMaps["sidebar-toggle"],t=this.eleMaps["sidebar-toggle-content"],i=this.eleMaps["img-container"],a=this.eleMaps["sidebar-viewmore-content"],r=this.eleMaps["img-controler-pre"],n=this.eleMaps["img-controler-next"];if("hidden"==e.style.visibility){var o=this.eleMaps["sidebar-container"],s=this.eleMaps["maximize-container"],l=A.gallery.sidebarPosition;for(s.style.minHeight=0,s.parentNode.style.display="none",this.hideBodyStyle.parentNode&&this.hideBodyStyle.parentNode.removeChild(this.hideBodyStyle),r.style.visibility=n.style.visibility=e.style.visibility=o.style.visibility="visible",i.style["border"+function(e){for(var t=e.split(" "),i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].slice(1);return t.join(" ")}(l)]=A.gallery.sidebarSize+"px solid transparent",e.style[l]="-3px";s.firstChild;)s.removeChild(s.firstChild);a.innerHTML=I(""),a.parentNode.classList.remove("showmore"),t.innerHTML=I("")}},selectViewmore:function(e,t){this.curImgSpan&&this.curImgSpan.classList.remove("selected"),e.classList.add("selected"),this.curImgSpan=e;var i=this._spanMarkPool[t];i&&this.select(i)},addDlSpan:function(e,t,a,r){var n=this.eleMaps["maximize-container"],o=i.createElement("p");o.className="pv-bottom-banner",o.innerHTML=I(A.icons.downloadSvgBtn+" "+s("download")),o.src=a.dataset.src,o.title=a.title||i.title,o.onclick=r;var l=i.createElement("p");l.className="pv-top-banner",l.innerHTML=I(e.naturalWidth+" x "+e.naturalHeight),l.title=o.title;var c=i.createElement("input");c.type="checkbox";c.onclick=function(e){let t=n.querySelectorAll(".maximizeChild>input:checked");n.classList.remove("canCompare"),t.length>0?(n.classList.add("checked"),t.length>1&&n.classList.add("canCompare")):n.classList.remove("checked"),e.stopPropagation()},l.onclick=function(e){e.stopPropagation(),c.click()},t.appendChild(l),t.insertBefore(c,t.firstChild),t.appendChild(o)},addViewmoreItem:function(e){if("hidden"==this.eleMaps["sidebar-toggle"].style.visibility){var t=this,a=this.eleMaps["maximize-container"];[].forEach.call(e,(function(e){var r=T.getComputedStyle(e);let n=e,o=i.createElement("span");"none"==r.display&&(o.style.display="none");let s=e=>{let a=new me(e);if(A.imgWindow.overlayer.shown&&(a.blur(!0),t.curImgWin=a,t.curImgSpan=o,!t.scrollInit)){t.scrollInit=!0;let e=function(e){if(t.canScroll&&t.curImgWin&&!t.curImgWin.removed&&!t.curImgWin.focused){t.canScroll=!1;let a=t.curImgSpan;for(;a&&(a=e.deltaY<0?a.previousElementSibling:a.nextElementSibling,!(a&&"none"!=a.style.display&&a.clientWidth>1)););if(a){let e=a.querySelector("img");t.curImgWin.remove();let r=i.createElement("img");r.src=e.dataset.src||e.src;let n=new me(r);n.blur(!0),t.curImgWin=n,t.selectViewmore(a,e.src),a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout((()=>{a.scrollIntoView({block:"center",inline:"nearest"})}),300),t.canScroll=!0}else t.canScroll=!0}};de(z(i),e,!0)}};o.className="maximizeChild";let l="",c=$(e,"thumbSrc");switch(C.getMode(c)){case"video":let t="";-1!==c.indexOf(".mkv")?t='type="video/mp4"':-1!==c.indexOf(".m3u8")&&(t='type="application/vnd.apple.mpegurl"'),l='<video data-src="'+$(e,"src")+'" muted controls loop src="'+c.replace(/^video:/,"")+'" '+t+" ></video>";break;case"audio":l='<img data-src="'+$(e,"src")+'" src="'+A.icons.video+'" />';break;default:l='<img data-src="'+$(e,"src")+'" src="'+c+'" />'}o.innerHTML=I(l);let d=o.querySelector("img,video"),p="stop"!==$(e,"xhr")&&t.getPropBySpanMark(e,"xhr"),h=async()=>{let t=await new Promise((t=>{let i=function(){$(e,"xhr","stop"),$(e,"src",$(e,"thumbSrc")),t(null)};ye.load({url:n.dataset.src,xhr:p,cb:function(a,r,n){a?($(e,"src",a),$(e,"xhr","stop"),n&&$(e,"description",n),d.dataset.src=a,t(a)):i()},onerror:i})}));return o.removeEventListener("getxhr",u),delete o.dataset.xhr,o.dispatchEvent(new Event("getxhrover")),t},u=e=>{h()};p&&(o.dataset.xhr=!0,o.addEventListener("getxhr",u)),o.addEventListener("click",(async function(a){a.preventDefault(),t.selectViewmore(o,n.dataset.src);let r=e=>{let t=i.createElement("img");t.src=n.dataset.thumbSrc,n.dataset.src=n.dataset.thumbSrc,s(t)},l=()=>{t.showTips("Loading image...");let a,n=$(e,"src");switch(C.getMode(n)){case"video":a=i.createElement("video"),a.style.width=0,a.style.height=0,a.controls=!0,a.loop=!0,a.autoplay=!0,a.volume=C.mute?0:1,n=n.replace(/^video:/,""),-1!==n.indexOf(".mkv")?a.type="video/mp4":-1!==n.indexOf(".m3u8")&&(a.type="application/vnd.apple.mpegurl");break;case"audio":a=i.createElement("audio"),a.controls=!0,a.autoplay=!0,a.volume=C.mute?0:1,n=n.replace(/^audio:/,"")}if(a){a.src=n;let e=function(){a.play(),t.showTips(""),s(this),a.removeEventListener("loadeddata",e)};a.addEventListener("loadeddata",e),a.load()}else ce(n,{ready:function(){t.showTips(""),s(this)},error:function(e){t.showTips(""),r()}})};if("stop"!==$(e,"xhr")&&t.getPropBySpanMark(e,"xhr")){return t.showTips("Sending request..."),void(await h()?l():r())}o.removeEventListener("getxhr",u),delete o.dataset.xhr,l()}));if(0===n.dataset.src.indexOf("data"))t.addDlSpan(d,o,n,(e=>(e.stopPropagation(),j(n.dataset.src,n.title,A.saveName),!0)));else{let e=!d.complete;ce(d,{ready:function(){e&&t.bricksInstance.pack(),d.width>=88&&d.height>=88&&t.addDlSpan(d,o,n,(e=>(e.stopPropagation(),j(n.dataset.src,n.title,A.saveName),!0)))}})}a.appendChild(o)}))}},maximizeSidebar:function(){var e=this.eleMaps["sidebar-toggle"],t=this.eleMaps["img-container"],a=this.eleMaps["sidebar-viewmore-content"],r=this.eleMaps["img-controler-pre"],n=this.eleMaps["img-controler-next"],o="hidden"==e.style.visibility,s=this.eleMaps["sidebar-container"];"hidden"==s.style.visibility&&this.showHideBottom();var l=this.eleMaps["maximize-container"],c=A.gallery.sidebarPosition;if(o)this.closeViewMore(),this.bricksInstance.resize(!1);else{this.img&&this.img.pause&&this.img.pause(),l.style.minHeight="100%",l.parentNode.style.display="block",i.head.appendChild(this.hideBodyStyle),r.style.visibility=n.style.visibility=e.style.visibility=s.style.visibility="hidden",t.style["border"+function(e){for(var t=e.split(" "),i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].slice(1);return t.join(" ")}(c)]="0",e.style[c]="0",l.innerHTML=I(""),a.innerHTML=I(""),a.parentNode.classList.add("showmore");var d=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)");this.addViewmoreItem(d),this.bricksInstance.pack(),this.bricksInstance.resize(!0)}},dataURLToCanvas:function(e,t){if(!e)return t(null);var i=f.getContext("2d"),a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){f.width=a.width,f.height=a.height,i.clearRect(0,0,f.width,f.height),i.drawImage(a,0,0),t(f)},a.onerror=function(){t(null)},a.src=e},blobToCanvas:function(e,t){var i=this;Y(e,(function(e){i.dataURLToCanvas(e,t)}))},showHideBottom:function(){var e=this.eleMaps["sidebar-container"],t="hidden"==e.style.visibility;e.style.visibility=t?"visible":"hidden";var i=A.gallery.sidebarPosition;this.eleMaps["img-container"].style["border"+function(e){for(var t=e.split(" "),i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].slice(1);return t.join(" ")}(i)]=t?A.gallery.sidebarSize+"px solid transparent":"0",this.eleMaps["sidebar-toggle"].style[i]=t?"-3px":"0",t?this.gallery.classList.remove("pv-gallery-sidebar-toggle-hide"):this.gallery.classList.add("pv-gallery-sidebar-toggle-hide"),this.eleMaps["sidebar-toggle-content"].innerHTML=I(t?"":""),this.eleMaps["sidebar-viewmore"].style.visibility=t?"visible":"hidden"},initZoom:function(){if(A.gallery.autoZoom&&null!=z(i).style.zoom){var e=(a=0,r=t.screen,n=navigator.userAgent.toLowerCase(),void 0!==t.devicePixelRatio?a=t.devicePixelRatio:~n.indexOf("msie")?r.deviceXDPI&&r.logicalXDPI&&(a=r.deviceXDPI/r.logicalXDPI):void 0!==t.outerWidth&&void 0!==t.innerWidth&&(a=t.outerWidth/t.innerWidth),a&&(a=Math.round(100*a)),a);e>100&&(this.eleMaps.body.style.zoom=100/e)}var a,r,n},getThumSpan:function(e,t,i,a){var r,n=t||this.selected;if(n){if(a){if(0===n.clientWidth)return;let e=n.parentNode.children;for(;n=e[Math.floor(Math.random()*e.length)];)if(0!==n.clientWidth){r=n;break}}else{for(;n=e?n.previousElementSibling:n.nextElementSibling;)if(0!=n.clientWidth){r=n;break}if(i&&!r)for(n=(t||this.selected).parentNode,n=e?n.lastElementChild:n.firstElementChild;n=e?n.previousElementSibling:n.nextElementSibling;)if(0!=n.clientWidth){r=n;break}}return r}},previous:!1,selectPrevious:function(){this.previous=!0,this.select(this.getThumSpan(!0))},selectNext:function(){this.select(this.getThumSpan(),!1,!0)},select:function(e,t,i){if(e&&this.selected!=e){this.selected&&(this.selected.classList.remove(this.selectedClassName),this.selected.classList.remove("pv-gallery-sidebar-thumb_selected")),e.classList.add(this.selectedClassName),e.classList.add("pv-gallery-sidebar-thumb_selected"),this.selected=e,this.arrowVisib(i);var a=this;clearTimeout(this.loadImgTimer),A.gallery.transition?this.loadImgTimer=setTimeout((function(){a.loadImg(e),a.selectedIntoView(t)}),200):setTimeout((function(){a.loadImg(e),a.selectedIntoView(t)}),1),this.selectedIntoView(t),this.forceRepaint(),this.slideShow.run("select")}},loadThumb:function(){if(this.selected)for(var e,t,a,r=this,n=r.isHorizontal?["scrollLeft","clientWidth","offsetLeft","offsetWidth"]:["scrollTop","clientHeight","offsetTop","offsetHeight"],o=r.eleMaps["sidebar-thumbnails-container"],s=o[n[0]],l=s+o[n[1]],c=r.selected.parentNode.children,d=0;e=c[d++];){if(0==e.clientWidth)continue;if((t=e[n[2]])+e[n[3]]<=s)continue;if(t>=l)break;if($(e,"thumbLoaded"))continue;a=i.createElement("img");let r=$(e,"thumbSrc")||$(e,"src")||A.icons.brokenImg_small;switch(C.getMode(r)){case"video":a.src=A.icons.video;break;case"audio":a.src=A.icons.audio;break;default:a.src=r}a.className="pv-gallery-sidebar-thumb",$(e,"thumbLoaded","true"),e.appendChild(a),ce(a,{error:function(e){this.src=A.icons.brokenImg_small}})}},selectedIntoView:function(e){var t=this.eleMaps["sidebar-thumbnails-container"],i=this.isHorizontal?["offsetLeft","clientWidth","offsetWidth"]:["offsetTop","clientHeight","offsetHeight"],a=this.selected[i[0]],r=t[i[1]],n=Math.max((r-this.selected[i[2]])/2,0);let o=this.thumbScrollbar;setTimeout((function(){o.scroll(a-n,!1,!e)}),0)},getImg:function(e){var t=this,a=$(e,"src");this.lastLoading=a,this.isLoading=!0;var r=e.querySelector(".pv-gallery-sidebar-thumb-loading");r&&r.style&&(r.style.display="block");var n="stop"!==$(e,"xhr")&&this.getPropBySpanMark(e,"xhr");if(n){var o=function(){$(e,"xhr","stop"),$(e,"src",$(e,"thumbSrc")),t.getImg(e)};return void ye.load({url:a,xhr:n,cb:function(a,r,n,s){if(a){if($(e,"src",a),$(e,"xhr","stop"),n&&$(e,"description",n),t.getImg(e),r&&r.length){let e=0;r.forEach((r=>{if(r==a)return;let o=i.createElement("img");o.src=r;let l=s&&s[e]?s[e]:n;ce(o,{ready:function(){let e=we(o);l&&(e.description=l),t.data.push(e),t._appendThumbSpans([e]),t.loadThumb()}}),e++}))}}else o()},onerror:o})}var s=this.allLoading;if(-1!=s.indexOf(a))return;s.push(a);var l=this.imgReady;if(l&&this.img&&l.img.src!=this.src&&(l.abort(),l.removeLI()),!a)return;let c,d=a;if(Se(a)?(c=i.createElement("video"),c.style.width=0,c.style.height=0,c.controls=!0,c.loop=!0,c.autoplay=!0,c.volume=C.mute?0:1,d=d.replace(/^video:/,""),-1!==a.indexOf(".mkv")?c.type="video/mp4":-1!==a.indexOf(".m3u8")&&(c.type="application/vnd.apple.mpegurl")):ze(a)&&(c=i.createElement("audio"),c.controls=!0,c.autoplay=!0,c.volume=C.mute?0:1,d=d.replace(/^audio:/,"")),c){"hidden"==this.eleMaps["sidebar-toggle"].style.visibility&&(c.autoplay=!1),c.src=d;let i=function(){var n=s.indexOf(a);-1!=n&&s.splice(n,1),a==t.lastLoading&&(r&&r.style&&(r.style.display=""),l&&l.abort(),t.loadImg(c,e),c.removeEventListener("loadeddata",i))};return c.addEventListener("loadeddata",i),void c.load()}this.imgReady=ce(a,{ready:function(){var i=s.indexOf(a);-1!=i&&s.splice(i,1),a==t.lastLoading&&(r&&r.style&&(r.style.display=""),l&&l.abort(),t.loadImg(this,e))},loadEnd:function(i){var n=s.indexOf(a);-1!=n&&s.splice(n,1),a==t.lastLoading&&("error"==i.type&&(r&&r.style&&(r.style.display=""),t.errorSpan=e,l&&l.abort(),t.loadImg(this,e,!0)),t.slideShow.run("loadEnd"),A.gallery.preload&&(t.preloading&&t.preloading.abort(),t.preloading=new t.Preload(e,t),t.preloading.preload()))}}),this.imgReady.removeLI=function(){r&&r.style&&(r.style.display="")}},loadImg:function(e,t,a){if(/^(img|video|audio)$/i.test(e.nodeName)){var r;this.img&&this.img.parentNode&&this.img.parentNode.removeChild(this.img),r=/^video$/i.test(e.nodeName)?{h:e.videoHeight||200,w:e.videoWidth||200}:/^audio$/i.test(e.nodeName)?{h:80,w:300}:{h:e.naturalHeight||100,w:e.naturalWidth||100},this.imgNaturalSize=r,this.eleMaps["head-left-img-info-resolution"].textContent=r.w+" x "+r.h;var n=this.eleMaps["sidebar-thumbnails-container"].childNodes,o=0;for(n=Array.prototype.slice.call(n).filter((function(e){return"none"!=e.style.display}));n[o]!=t&&o<n.length;)o++;o<n.length&&(this.eleMaps["head-left-img-info-count"].textContent=""+(o+1)+" / "+n.length+"");var s=decodeURIComponent($(t,"description")),l=A.gallery.descriptionLength;this.eleMaps["head-left-img-info-description"].title=s,this.eleMaps["head-left-img-info-description"].textContent=s.length>l?s.slice(0,l)+"...":s,this.img=e,this.src=e.src,this.isLoading=!1,this.relatedThumb=t,e.className="pv-gallery-img";var c=$(t,"thumbSrc");c&&(e.style.backgroundImage=`url(${c})`);var d=this;if(a){let e=t.querySelector("img");if(!e)return;if(e.src==this.img.src)this.imgError=!0,this.img.style.display="none",this.eleMaps.img_broken.style.display="inline-block",$(t,"naturalSize",JSON.stringify({w:0,h:0}));else{var p=$(t,"srcs");if(p&&p.length>0&&(p=p.split(",")),this.img.onload=function(){r={h:this.naturalHeight,w:this.naturalWidth},d.imgNaturalSize=r,d.eleMaps["head-left-img-info-resolution"].textContent=r.w+" x "+r.h,$(t,"naturalSize",JSON.stringify(r));let e=r.w+"x"+r.h;if(d.sizeMap[e]=(d.sizeMap[e]||0)+1,2===d.sizeMap[e]){let t=i.createElement("option");t.innerText=e,t.value=r.w+"-"+r.w+"x"+r.h+"-"+r.h,d.pinSize.appendChild(t)}d.fitToScreen()},p&&p.length>0){var h=p.shift();$(t,"srcs",p.join(",")),h&&($(t,"src",h),this.img.src=h)}else this.img.src=e.src}}else if(this.imgError=!1,this.eleMaps.img_broken.style.display="",!$(t,"naturalSize")){$(t,"naturalSize",JSON.stringify(r));let e=r.w+"x"+r.h;if(d.sizeMap[e]=(d.sizeMap[e]||0)+1,2===d.sizeMap[e]){let t=i.createElement("option");t.innerText=e,t.value=r.w+"-"+r.w+"x"+r.h+"-"+r.h,d.pinSize.appendChild(t)}}A.gallery.transition?setTimeout(u,0):u(),this.eleMaps["img-parent"].appendChild(e),this.fitContains=A.gallery.fitToScreen,this.fitToScreen({x:0,y:0}),this.previous&&(this.previous=!1,this.imgScrollbarV.scrollBy(999999)),this.collection.check()}else this.getImg(e);function u(){e.style.opacity=1}},fitToScreen:function(e){this.rotateBigImg();var t=this.eleMaps["img-content"],i=t.clientHeight,a=t.clientWidth,r=this.img;if(!r||!r.classList||!r.parentNode)return;r.classList.remove("pv-gallery-img_zoom-in"),r.classList.remove("pv-gallery-img_zoom-out");var n=r.style;n.width="",n.height="";var o=r.parentNode.style;o.width="",o.height="";let s=90==this.galleryRotate||270==this.galleryRotate,l=s?{w:this.imgNaturalSize.h,h:this.imgNaturalSize.w}:this.imgNaturalSize;var c={h:t.scrollHeight,w:t.scrollWidth},d=c.h>i||c.w>a;s&&d&&l.h<i&&l.w<a&&(d=!1);var p="100%",h=!1;if(!this.fitContains||e&&0==e.x&&0==e.y&&l.h/l.w>2.5)h=!0;else if(this.scaleByScreen=!1,this.imgScrollbarV.hide(),this.imgScrollbarH.hide(),d){if(r.classList.add("pv-gallery-img_zoom-in"),c.h/c.w>=i/a){let e=i-10;s?(n.width=e+"px",n.setProperty("width",e+"px","important")):(n.height=e+"px",n.setProperty("height",e+"px","important")),o.height=e+"px",o.setProperty("height",e+"px","important"),p=e/l.h}else{let e=a-10;s?(n.height=e+"px",n.setProperty("height",e+"px","important")):(n.width=e+"px",n.setProperty("width",e+"px","important")),n.width=e+"px",n.setProperty("width",e+"px","important"),p=e/l.w}p=(100*p).toFixed(2)+"%"}else if(A.gallery.fitToScreenSmall){if(l.h/l.w>=i/a){let e=c.h-10;e=e<0?c.h:e,n.height=e+"px",p=e/l.h}else{let e=c.w-10;e=e<0?c.w:e,n.width=e+"px",p=e/l.w}p=(100*p).toFixed(2)+"%"}if(""==n.width&&""==n.height&&this.imgNaturalSize.h&&this.imgNaturalSize.w){let e=this.imgNaturalSize.w+"px",t=this.imgNaturalSize.h+"px",c=l.w+"px",d=l.h+"px";if(i<l.h&&a<l.w)if(this.scaleByScreen)this.scaleByScreen=!1;else if(this.scaleByScreen=!0,r.classList.add("pv-gallery-img_zoom-in"),l.h/l.w>=i/a){let i=a-10,r=l.h/l.w*i;s?(t=i+"px",e=r+"px",c=t,d=e):(e=i+"px",t=r+"px",c=e,d=t)}else{let a=i-10,r=l.w/l.h*a;s?(e=a+"px",t=r+"px",c=t,d=e):(t=a+"px",e=r+"px",c=e,d=t)}n.width=e,n.height=t,o.width=c,o.height=d}h&&(this.imgScrollbarV.reset(),this.imgScrollbarH.reset(),d&&(this.scaleByScreen||r.classList.add("pv-gallery-img_zoom-out"),e&&(this.imgScrollbarH.scroll(t.scrollWidth*e.x-a/2),this.imgScrollbarV.scroll(t.scrollHeight*e.y-i/2))));var u=this.eleMaps["head-left-img-info-scaling"];u.textContent=""+p+"",u.style.color="100%"!=p?"#E9CCCC":""},_dataCache:{},_spanMarkPool:{},filterImage:function(e,t,i){if(!e||!t)return!0;if(e<this.sizeInputW.value||t<this.sizeInputH.value)return!1;if(this.urlFilter&&i){if(i=i.replace(/^(data:[^;]*;).*/,"$1"),!this.urlFilterReg)try{this.urlFilterReg=new RegExp(this.urlFilter)}catch(e){}if(this.urlFilterReg&&!this.urlFilterReg.test(i))return!1}return!this.lockMaxSize||!(e>this.lockMaxSize.w||t>this.lockMaxSize.h)},getSrcBySpanMark:function(e){let t=this._spanMarkPool;return Object.keys(t).find((i=>t[i]===e))},getPropBySpanMark:function(e,t){let i=this.getSrcBySpanMark(e);if(i)for(let e=0;e<this.data.length;e++)if(this.data[e].src==i)return this.data[e][t]},_appendThumbSpans:function(e,t){var a=this.iStatisCopy;void 0===t&&(t=this.selected?Array.prototype.slice.call(this.imgSpans).indexOf(this.selected):0);var r,n,o=this.sizeInputH,l=this.sizeInputW,c=this.eleMaps["sidebar-thumbnails-container"];if(-1!=t&&(r=this.data[t]),!e){if(r){this._spanMarkPool[r.src];if(r.sizeW<l.value){var d=this.gallery.querySelector("#minsizeWSpan");l.value=r.sizeW,l.title="min width: "+l.value+"px",d.innerHTML=I("W: "+Math.floor(l.value)+"px")}if(r.sizeH<o.value){var p=this.gallery.querySelector("#minsizeHSpan");o.value=r.sizeH,o.title="min height: "+o.value+"px",p.innerHTML=I("H: "+Math.floor(o.value)+"px")}}c.innerHTML=I(""),this._dataCache={},this.eleMaps["maximize-container"].innerHTML=I("")}var h=this,u=e=>{var a=h._spanMarkPool[e.src];if(!a){a=i.createElement("span");try{if(e.noActual&&e.img&&e.img.naturalHeight&&e.img.naturalWidth){a.dataset.naturalSize=JSON.stringify({h:e.img.naturalHeight,w:e.img.naturalWidth});let t=e.img.naturalWidth+"x"+e.img.naturalHeight;if(h.sizeMap[t]=(h.sizeMap[t]||0)+1,2===h.sizeMap[t]){let a=i.createElement("option");a.innerText=t,a.value=e.img.naturalWidth+"-"+e.img.naturalWidth+"x"+e.img.naturalHeight+"-"+e.img.naturalHeight,h.pinSize.appendChild(a)}}a.className="pv-gallery-sidebar-thumb-container",a.dataset.index=t,a.dataset.type=e.type,a.dataset.src=e.src,a.dataset.srcs=e.srcs?e.srcs.join(","):"",a.dataset.description=encodeURIComponent(e.description||e.img&&(e.img.title||e.img.alt)||""),a.dataset.thumbSrc=e.img&&(e.img.currentSrc||e.img.src)||e.imgSrc;let r=e.img?(e.img.title||e.img.alt||"").slice(-80):"";r&&(0===r.indexOf("http")||0===r.indexOf("data")?r="":r+="\n");let n=e.src.replace(/^blob:.*/,"").replace(/^(data[^;]+).*/,"$1...");a.title=r+(n.length>150?n.slice(0,110)+" ... "+n.slice(-30):n),a.innerHTML=I('<span class="pv-gallery-vertical-align-helper"></span><span class="pv-gallery-sidebar-thumb-loading" title="'+s("loading")+'......"></span>'),a.addEventListener("contextmenu",(function(e){if(e.preventDefault(),e.stopPropagation(),a.classList.toggle("ignore"),(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&h.lastMark&&h.lastMark!==a&&h.lastMark.parentNode===a.parentNode){const e=Array.from(c.children);let t;for(t=e.indexOf(h.lastMark)<e.indexOf(a)?h.lastMark.nextElementSibling:a.nextElementSibling;null!==t&&t!==h.lastMark&&t!==a;)t.classList.toggle("ignore"),t=t.nextElementSibling}h.lastMark=a}))}catch(e){}h._spanMarkPool[e.src]=a}if(a.dataset.naturalSize){let t=JSON.parse(a.dataset.naturalSize);e.sizeW=t.w,e.sizeH=t.h}0==e.sizeW&&0==e.sizeH&&e.img.complete?a.style.display="none":this.filterImage(e.sizeW,e.sizeH,e.src)?a.style.display="":a.style.display="none",c.appendChild(a),h.addViewmoreItem([a]),!n&&r&&(e.src==r.src||e.img&&e.img==r.img)&&(n=a,h.select(n,!0))};h=this;(e||this.data).forEach((function(e){e&&e.type&&(a[e.type].count++,u(e))})),(e||this.data).forEach((function(e){e&&(h._dataCache[e.src]=!0)}));var m,g,f,v=this.gallery;for(var y in a)a.hasOwnProperty(y)&&(f=a[y],(m=v.querySelector("#pv-gallery-head-command-drop-list-item-category-"+y)).checked=f.shown,0==f.count?(m.disabled=!0,m.parentNode.classList.add("pv-gallery-head-command-drop-list-item_disabled")):(m.disabled=!1,m.parentNode.classList.remove("pv-gallery-head-command-drop-list-item_disabled")),(g=v.querySelector('label[for="pv-gallery-head-command-drop-list-item-category-'+y+'"]')).textContent=g.textContent.replace(/.*/i,"")+""+f.count+"");if(this.imgSpans=c.children,this.thumbScrollbar.reset(),this.bricksInstance.pack(),!e&&(!n||"none"==n.style.display&&!r)){for(var b in this.imgSpans)if(this.imgSpans.hasOwnProperty(b)){var w=this.imgSpans[b];if("none"!=w.style.display)return void this.select(w,!0)}!n&&this.imgSpans.length&&(n=this.imgSpans[0])}this.select(n,!0)},load:function(e,a,r){if(this.shown||this.minimized)return a&&t.postMessage({messageID:Ce,command:"sendFail",to:a},"*"),void(this.minimized&&(h(s("closeFirst")),ie(this.maximizeTrigger)));var n=this;a&&(t.postMessage({messageID:Ce,command:"getIframeObject",windowId:a},"*"),i.addEventListener("pv-getIframeObject",(function(e){n.iframe=e.detail}),!0));var o=!!e.target,l=this.unique(e);e=l.data;var c=o?l.index:-1;if(!(r&&this.data.length>=e.length)){if(this.clear(),this.data=e,this.show(r),this.from=a,this._appendThumbSpans(null,c),this.urlFilter){var d=this.eleMaps["sidebar-thumbnails-container"].childNodes;0===(d=Array.prototype.slice.call(d).filter((function(e){return"none"!=e.style.display}))).length&&this.showTips("No images match the filter")}this.runOnce(),this.switchThumbVisible();var p=this.getPage(),u=this.eleMaps["head-command-nextPage"].querySelector("span");this.haveMorePage=!!p.pre||!!p.next,this.haveMorePage?(u.style.color="#e9cccc",u.parentNode.parentNode.style.display="inline-block"):(u.style.color="",u.parentNode.parentNode.style.display="none")}},haveMorePage:!1,clear:function(){this._dataCache={},this.allLoading=[],this.iStatisCopy=te(this.imgStatistics,!0),this.selected&&(this.selected.classList.remove(this.selectedClassName),this.selected.classList.remove("pv-gallery-sidebar-thumb_selected")),this.selected=null,this.img&&(this.img.style.display="none",this.img=null),this.eleMaps.img_broken.style.display="",this.eleMaps["sidebar-thumbnails-container"].innerHTML=I(""),this.eleMaps["head-left-img-info-resolution"].textContent="0 x 0",this.eleMaps["head-left-img-info-count"].textContent="1 / 1",this.eleMaps["head-left-img-info-scaling"].textContent="100%",this.imgScrollbarV.hide(),this.imgScrollbarH.hide(),this.thumbScrollbar.hide(),this.thumbVisibleStyle.textContent=""},unique:function(e){var t;e.target&&(t=e.target.src);for(var i,a,r,n=[],o=0,s=e.length;o<s;o++)a=(i=e[o]).src,o+1<s&&i.img&&"IMG"!=i.img.nodeName&&a==e[o+1].src?(e.splice(o,1),o--,s--):-1==n.indexOf(a)?(n.push(a),t==a&&(r=o)):(e.splice(o,1),o--,s--);return void 0===r&&(r=0,e.target&&e.unshift(e.target)),delete e.target,{data:e,index:r}},keyDownListener:function(e){if(27===e.keyCode)A.imgWindow.close.escKey&&this.close()},keyUpListener:function(e){if(e.ctrlKey||e.metaKey||e.altKey)return;const t=e.key||String.fromCharCode(e.keyCode);if(e.target==this.gallery)switch(t.toLowerCase()){case"r":var i=this.img,a=i.style[se.cssTransform],r=a.replace(/rotate\([^)]*\)/i,""),n=-1!=a.indexOf("rotate")?a.replace(/.*rotate\(([-\d\.]+).*/i,"$1"):0,o=Math.PI,s=parseFloat(n)+(e.shiftKey?-90:90)*o/180;(s>=2*o||s<=-2*o||-.1<s&&s<.1)&&(s=0),i.style[se.cssTransform]=" rotate("+s+"rad) "+r;break;case A.floatBar.keys.actual:case A.floatBar.keys.current:if(e.shiftKey)return;ce(this.src,{ready:function(){new me(this)}});break;case A.floatBar.keys.download:if(e.shiftKey)return;j(this.img.src,this.selected.title,A.saveName)}},show:function(e){if(this.shown=!0,this.addStyle(),ne=!0,!e){var a=i.documentElement.style;this.deOverflow={x:a.overflowX,y:a.overflowY},a.overflow="hidden",this.gallery.style.display="",this.gallery.focus(),t.addEventListener("resize",this._resizeHandler,!0)}i.addEventListener("keydown",this._keyDownListener,!0),i.addEventListener("keyup",this._keyUpListener,!0),A.gallery.loadMore&&this.eleMaps["head-command-nextPage"].click(),this.changeSizeInputReset();var r=this;if(A.gallery.autoOpenViewmore){var n=this.eleMaps["sidebar-toggle"];setTimeout((function(){"hidden"==n.style.visibility||r.maximizeSidebar()}),1)}},close:function(e){if(!this.lockGallery&&(this.img&&this.img.parentNode&&this.img.parentNode.removeChild(this.img),this.hideBodyStyle.parentNode&&this.hideBodyStyle.parentNode.removeChild(this.hideBodyStyle),i.removeEventListener("keydown",this._keyDownListener,!0),i.removeEventListener("keyup",this._keyUpListener,!0),this.shown=!1,this.minimized=!1,!e)){ne=!1,this.gallery.blur(),this.gallery.style.display="none";var a=i.documentElement.style;this.deOverflow&&(a.overflowX=this.deOverflow.x,a.overflowY=this.deOverflow.y),this.slideShow.exit(),this.collection.exit(),t.removeEventListener("resize",this._resizeHandler,!0);var r=i.getElementById("pv-gallery-fullscreenbtn");r.classList.contains("fullscreenbtn")&&(Q(),r.textContent=s("enterFullsc"),r.classList.remove("fullscreenbtn"))}},curPage:i,getPage:function(){let e=0,t="",i="",a=this.href.match(/(.*[a-zA-Z0-9\/][\-_](?:p|page)?)(\d+)(\.html?$|\/?$)/i),r=this.href.match(/(.*[\?&]p(?:age)?=)(\d+)($|[#&\/].*)/i);a?(t=a[1],e=a[2],i=a[3]):r?(t=r[1],e=r[2],i=r[3]):this.href=this.href.replace(/\/$/,"");var n=this.curPage;let o=n.querySelector("a.prev")||n.querySelector("a#prev")||n.querySelector("a#leftFix")||n.querySelector("a.prev_page")||n.querySelector(".prev-page>a")||n.querySelector(".prev>a"),s=n.querySelector("a.next")||n.querySelector("a#next")||n.querySelector("a#rightFix")||n.querySelector("a.next_page")||n.querySelector(".next-page>a")||n.querySelector(".next>a");if(!o&&!s){let e=n.querySelector("div.wp-pagenavi");if(e){let t=e.querySelector("span.current");o=t.previousSibling,s=t.nextSibling}else{let e=n.querySelector("div.article-paging>span");e&&(o=e.previousElementSibling,s=e.nextElementSibling)}}if(!o||o.href&&!/javascript:/.test(o.href.trim())||(o=null),!s||s.href&&!/javascript:/.test(s.href.trim())||(s=null),!o||!s){let a=n.querySelectorAll("a");if(!o){let r,n,s;for(let o=0;o<a.length;o++){let l=a[o];if(l.href&&!/javascript:/.test(l.href.trim())){if(r&&n&&s)break;r||/(\s|^)[1]?[]|^previous( page)?\s*$|/i.test(l.innerHTML)&&(r=l),n||"&lt;"==l.innerHTML&&(n=l),s||(""==l.innerHTML?s=l:1==e?-1!=l.href.indexOf(this.href.replace(/.*\/([^\/]+)$/,"$1").replace(/[_-]\d+/,""))&&(s=l):l.href.replace(t,"").replace(i,"")==e-1&&(s=l))}}o=r||n||s}if(!s){let r,n,o;for(let s=0;s<a.length;s++){let l=a[s];if(l.href&&!/^\s*javascript:/.test(l.href.trim())){if(r&&n&&o)break;if(r||/(\s|^)[1]?[]|^next( page)?\s*$|/i.test(l.innerHTML)&&(r=l),n||"&gt;"==l.innerHTML&&(n=l),!o)if(""==l.innerHTML)o=l;else if(l.href.replace(t,"").replace(i,"")==parseInt(e)+1)o=l;else if(-1!=l.href.indexOf(this.href)&&/^[\/\?&]?[_-]?(p|page)?=?[12]\/?(\?|&|$)/i.test(l.href.replace(this.href,"")))o=l;else{let e=l.previousElementSibling;!e||"B"!=e.nodeName&&"SPAN"!=e.nodeName||/^\d+$/.test(l.innerText)&&parseInt(l.innerText)==parseInt(e.innerText)+1&&(o=l)}}}s=r||n||o}}return o||(o=n.querySelector('[rel="prev"],[rel="previous"]')),s||(s=n.querySelector('[rel="next"]')),{pre:o,next:s}},completePages:[location.href],href:location.href,pageAllReady:!1,loadingImgNum:0,loadingImgs:[],pageImgReady:function(){var e=this.eleMaps["head-command-nextPage"].querySelector("span");clearTimeout(this.readyTimeout),this.readyTimeout=setTimeout((()=>{this.pageAllReady&&this.loadingImgNum<=0&&(e.innerHTML=I("<font color='red'>"+s("loadedAll")+"</font>"),setTimeout((function(){e.innerHTML=I(s("loadAll"))}),1500))}),1100)},pageAction:function(e,t){var a=this.getPage(),r=this;if(this.eleMaps["head-command-nextPage"].querySelector("span").innerHTML==s("loading")){var n=function(){e&&A.gallery.loadAll&&!t?(r.curPage=i,r.href=location.href,r.pageAction(!1)):(r.pageAllReady=!0,r.pageImgReady())};if(e&&!a.next||!e&&!a.pre)n();else{var o=e?a.next:a.pre;if("A"!=o.nodeName){var l=o.querySelector("a");if(l)o=l;else{for(;(o=o.parentElement)&&"A"!=o.nodeName.toUpperCase(););if(!o)return}}var c=o.getAttribute("href");-1==r.completePages.indexOf(c)?(r.completePages.push(c),r.href=b(c),r.addPageImages(r.href,(i=>{i&&(r.curPage=i),A.gallery.loadAll&&!t?setTimeout((()=>{r.pageAction(e)}),1):n()}),!0)):n()}}},addPageImages:function(e,t,a){let r=this;d({method:"GET",url:e,headers:{Referer:+e},cookie:w,overrideMimeType:"text/html;charset="+i.charset,onload:function(n){let o=i.implementation.createHTMLDocument("");o.documentElement.innerHTML=n.responseText;let s=o.querySelectorAll("img"),l=i.querySelector(".pv-gallery-container"),c=i.querySelector(".pv-gallery-preloaded-img-container"),d=o.querySelector("base"),p=d?d.href:null;function h(e){e.onerror=null;var t=we(e);a&&r.loadingImgNum++,t.xhr?ye.load({url:t.src,xhr:t.xhr,cb:function(n,o,s,l){if(n){if(ce(e,{ready:function(){(t=we(e)).src=n,s&&(t.description=s),a&&r.loadingImgNum--,r.data.push(t),r._appendThumbSpans([t]),r.loadThumb(),a&&r.pageImgReady()},error:function(){a&&r.loadingImgNum--,a&&r.pageImgReady()}}),o&&o.length){let e=0;o.forEach((t=>{if(t==n)return;let a=i.createElement("img");a.src=t;let o=l&&l[e]?l[e]:s;ce(a,{ready:function(){let e=we(a);o&&(e.description=o),r.data.push(e),r._appendThumbSpans([e]),r.loadThumb()}}),e++}))}}else a&&r.loadingImgNum--,a&&r.pageImgReady()},onerror:()=>{a&&r.loadingImgNum--,a&&r.pageImgReady()}}):(e.src=t.src,setTimeout((()=>{ce(e,{ready:function(){t=we(e),a&&r.loadingImgNum--,r.data.push(t),r._appendThumbSpans([t]),r.loadThumb(),a&&r.pageImgReady()},error:function(){a&&r.loadingImgNum--,a&&r.pageImgReady()}})}),0)),c||(c=i.querySelector(".pv-gallery-preloaded-img-container")),c&&c.appendChild(e)}s=Array.prototype.slice.call(s).filter((function(t){if(l.contains(t)||c&&c.contains(t))return!1;if(t.getAttribute&&t.getAttribute("src")){let i=t.getAttribute("src");0!==i.indexOf("http")&&(i=b(i,e,p),t.setAttribute("src",i))}if(be(t,!0),!t.src||t.getAttribute&&!t.getAttribute("src"))return!1;if(!t.src.trim())return!1;var i=we(t);return!(!i||!i.src)&&(!r._dataCache[i.src]&&(r._dataCache[i.src]=!0,!0))})),A.gallery.downloadGap>0?(r.loadingImgs=r.loadingImgs.concat(s),r.loadIntv||(r.loadIntv=setInterval((()=>{let e=r.loadingImgs.shift();e?h(e):(clearInterval(r.loadIntv),r.loadIntv=null,r.changeSizeInputReset())}),A.gallery.downloadGap))):s.forEach((function(e){h(e)})),t&&t(o)},onerror:function(e){t&&t(null)}})},runOnce:function(){if(this.selected){var e=T.getComputedStyle(this.selected);this.thumbSpanOuterSize=this.isHorizontal?this.selected.offsetWidth+parseFloat(e.marginLeft)+parseFloat(e.marginRight):this.selected.offsetHeight+parseFloat(e.marginTop)+parseFloat(e.marginBottom),this.runOnce=function(){}}},minimize:function(){this.close(),this.maximizeTrigger.style.display="block",this.minimized=!0},navigateToImg:function(e){e.scrollIntoView();var i=V(e),a=J();t.scrollBy(i.left-(a.w-i.width)/2,i.top-(a.h-i.height)/2)},switchThumbVisible:function(){var e,t=this.thumbVisibleStyle,i=[],a=this.iStatisCopy;for(var r in a)a.hasOwnProperty(r)&&((e=a[r]).shown?e.count:i.push('.pv-gallery-sidebar-thumb-container[data-type="'+r+'"]'));t.textContent=i.join(",")+"{display:none !important;}",this.thumbScrollbar.reset(),this.arrowVisib(),this.loadThumb()},forceRepaint:function(){clearTimeout(this.forceRepaintTimer);var e=this;this.forceRepaintTimer=setTimeout((function(){x.opera&&(e.forceRepaintTimes%2==0?t.scrollBy(0,1):t.scrollBy(0,-1),e.forceRepaintTimes++)}),333)},resizeHandler:function(){this.thumbScrollbar.reset(),this.fitToScreen(),this.loadThumb()},_isLastSpan:function(e){if(0==this.selected.clientWidth)return!1;if(!e)return!0;var t=this.eleMaps["sidebar-thumbnails-container"].children,i=[];[].forEach.call(t,(function(e){"none"!=T.getComputedStyle(e).display&&i.push(e)}));var a=Array.prototype.slice.call(i).indexOf(e);if(-1!=a&&i.length-a<A.gallery.scrollEndAndLoad_num)return!0},arrowVisib:function(e){var t=this.eleMaps["img-controler-pre"].style,i=this.eleMaps["img-controler-next"].style,a=this.eleMaps["sidebar-controler-pre"].style,r=this.eleMaps["sidebar-controler-next"].style,n=this.getThumSpan();n?(i.display="",r.display=""):(i.display="none",r.display="none"),A.gallery.scrollEndAndLoad&&e&&(!n||this._isLastSpan(n))&&this.scrollToEndAndReload(),this.getThumSpan(!0)?(t.display="",a.display=""):(t.display="none",a.display="none")},simpleSlideShow:function(e,t){clearInterval(this.slideShowInterval);var i=this,a=setInterval((function(){var t=i.selected;e?i.selectPrevious():i.selectNext(),t==i.selected&&r()}),t||800);function r(){clearInterval(a)}return this.slideShowInterval=a,r},reload:async function(){var e=await this.getAllValidImgs();e.target={src:this.selected.dataset.src},this.close(!0),this.load(e,null,!0)},reloadNew:async function(){var e=await this.getAllValidImgs(!0);e.length&&this._appendThumbSpans(e)},getAllValidImgs:async function(e,n){var o,s=[],l=i.querySelector(".pv-gallery-container"),c=i.querySelector(".pv-gallery-preloaded-img-container"),d=/.*?url\(\s*["']?(.+?)["']?\s*\)([^'"]|$)/i,p=z(i),h=[];function u(e,o){if(/^iframe$/i.test(o.nodeName)){if("pagetual-iframe"==o.name)return e;if(!o.src||o.src&&("about:blank"==o.src||-1!=o.src.replace(/\/[^\/]*$/,"").indexOf(location.hostname)))try{a.forEach.call(o.contentWindow.document.querySelectorAll("*"),(function(t){e=u(e,t)}))}catch(e){r(e.toString())}return e}if(/^img$/i.test(o.nodeName))e.push(o);else if(/^svg$/i.test(o.nodeName)){if(!(0==o.clientHeight||o.classList&&o.classList.contains("pagetual")))try{let i=o.querySelectorAll("image");if(i.length)a.forEach.call(i,(function(t){let i=t.href&&t.href.baseVal;i&&(t.src=b(i,t.ownerDocument.URL,t.ownerDocument.baseURI),e.push(t))}));else{const i=(new XMLSerializer).serializeToString(o),a=`data:image/svg+xml;base64,${t.btoa(unescape(encodeURIComponent(i)))}`;o.src=a,e.push(o)}}catch(e){r(e)}}else if(/^canvas$/i.test(o.nodeName)){if(0!=o.clientHeight)try{o.src||(o.src=o.toDataURL("image/png"))}catch(e){}!o.src&&o.dataset.src&&(o.src=o.dataset.src),o.src&&e.push(o)}else if(/^a$/i.test(o.nodeName)&&D.test(o.href)){let e=o.href;if(/[&\?]url\=/.test(e)){e=e.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{e=decodeURIComponent(e)}catch(e){}}o.src=e,h.push(o)}if(o.shadowRoot){let t=o.shadowRoot.querySelectorAll("*");for(let i=0;i<t.length;i++)e=u(e,t[i])}if(n&&!A.floatBar.listenBg)return e;if(!o.className||!o.className.indexOf||-1==o.className.indexOf("pv-")){let t=getComputedStyle(o).backgroundImage,a=/^(audio|embed|iframe|img|input|script|source|track|video|svg|canvas)$/i.test(o.nodeName);if("none"!=t){let r=d.exec(t);if(r){if(!a){let i=r[1].replace(/\\"/g,'"');o.src=i,e.push(o),a=!0,t=t.replace(d,"$2"),r=d.exec(t)}for(;r;){let a=r[1].replace(/\\"/g,'"');(o=i.createElement("img")).src=a,e.push(o),t=t.replace(d,"$2"),r=d.exec(t)}}}if(t=getComputedStyle(o,"::before").backgroundImage,"none"!=t){let r=d.exec(t);if(r){if(!a){let i=r[1].replace(/\\"/g,'"');o.src=i,e.push(o),a=!0,t=t.replace(d,"$2"),r=d.exec(t)}for(;r;){let a=r[1].replace(/\\"/g,'"');(o=i.createElement("img")).src=a,e.push(o),t=t.replace(d,"$2"),r=d.exec(t)}}}if(t=getComputedStyle(o,"::after").backgroundImage,"none"!=t){let r=d.exec(t);if(r){if(!a){let i=r[1].replace(/\\"/g,'"');o.src=i,e.push(o),a=!0,t=t.replace(d,"$2"),r=d.exec(t)}for(;r;){let a=r[1].replace(/\\"/g,'"');(o=i.createElement("img")).src=a,e.push(o),t=t.replace(d,"$2"),r=d.exec(t)}}}let r=getComputedStyle(o,"::before");if(t=r.content,t&&"none"!==t||(r=getComputedStyle(o,"::after"),t=r.content),t&&"none"!==t&&(t=t.replace(/[ '"]/g,""),t&&1==t.length)){let a=function(e,t,i){if(!t||!f)return!1;let a=Math.min(e.clientWidth||e.offsetWidth,e.clientHeight||e.offsetHeight);if(!a)return!1;f.width=a,f.height=a;var r=f.getContext("2d");r.clearRect(0,0,f.width,f.height),r.font=i.font||i.fontSize+" "+i.fontFamily,r.strokeStyle=i.color||"black",r.fillStyle=i.color||"black",r.textBaseline="top";let n=r.measureText(t);return r.fillText(t,(f.width-n.width)/2,(f.height-parseInt(i.fontSize))/2),f.toDataURL("image/png")}(o,t,r);a&&"data:,"!=a&&((o=i.createElement("img")).src=a,e.push(o))}}return e}C.gallery?o=C.gallery():(o=Array.from(p.querySelectorAll("*")).concat([p]).reduceRight(((e,t)=>u(e,t)),[]),[].forEach.call(i.head.querySelectorAll("link[rel*='icon']"),(e=>{D.test(e.href)&&(e.src=e.href,h.push(e))})),[].forEach.call(i.head.querySelectorAll('meta[itemprop="image"]'),(e=>{D.test(e.content)&&(e.src=e.content,h.push(e))})),o=(o=o.reverse().sort(((e,t)=>e.offsetParent&&!t.offsetParent?-1:!e.offsetParent&&t.offsetParent?1:0)).concat(h.reverse())).filter((function(e){if(e.parentNode){if("icons"==e.parentNode.id||"pagetual-preload"==e.parentNode.id)return!1;if(e.parentNode.classList&&e.parentNode.classList.contains("search-jumper-btn"))return!1;if(e.classList&&e.classList.contains("pagetual"))return!1}return!(l.contains(e)||c&&c.contains(e))}))),await $e(0);var m=this;for(const t of o){let i=/^IMG$/i.test(t.nodeName);if(i&&be(t),t.src&&(!i||!t.getAttribute||t.getAttribute("src"))&&(!e||!m._dataCache[t.src])){var g=we(t);if(g){if("data:,"===g.src)continue;0===g.imgSrc.indexOf("blob:")&&(g.src==g.imgSrc?(g.imgSrc=await F(g.imgSrc),g.src=g.imgSrc,g.srcs=[g.imgSrc]):(g.imgSrc=await F(g.imgSrc),g.srcs=[g.imgSrc])),0==g.sizeH&&0==g.sizeW&&(g.sizeH=t.naturalHeight,g.sizeW=t.naturalWidth),s.push(g),m.data.push(g)}m._dataCache[t.src]=!0}}return s},scrollToEndAndReload:function(){if(!this.isScrollToEndAndReloading){var e;if(this.isScrollToEndAndReloading=!0,i.documentElement.scrollTop)e=i.documentElement;else if(z(i).scrollTop)e=z(i);else if(this.data&&this.data.length){let t;for(let e=0;e<this.data.length&&(t=this.data[e].img,!t||!t.parentNode);e++);if(t)for(;t&&(t.scrollHeight===t.clientHeight||"hidden"===T.getComputedStyle(t).overflowY);)t=t.parentNode;t&&(e=t)}e=e||i.documentElement;var t=this;setTimeout((()=>{t.isScrollToEndAndReloading=!1;var a=i.documentElement.style;a.overflow="",i.head.appendChild(t.hideScrollStyle);let r=setInterval((function(){let n=e.scrollTop;e.scrollTop+=500,n===e.scrollTop&&(clearInterval(r),setTimeout((()=>{a.overflow="hidden",i.head.removeChild(t.hideScrollStyle)}),0),clearTimeout(t.reloadTimeout),t.reloadTimeout=setTimeout((function(){t.reloadNew(),t.loadThumb()}),1e3))}),1)}),300)}},exportImages:function(){var e,t=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),a=[];for(e=0;e<t.length;++e)"none"==T.getComputedStyle(t[e]).display?a.push(""):a.push('<div><img src="'+t[e].dataset.src+'" /><p></p></div>');var r=i.title,n="                 <head>                 <title>Picviewer CE+ "+s("exportImages")+" "+r+'</title>                 <style>                 .toTop{width:28px;height:28px;border-radius:14px;position: fixed;right:2px;bottom: 2px;cursor: pointer;background-color:#000;opacity:.3;padding:0em!important;border:0px!important;z-index:1}                 .toTop:hover{opacity:1}                 .toTop>span{height:28px;line-height:28px;display:block;color:#FFF;text-align:center;font-size:20px;}                 .grid{-moz-column-count:4;-webkit-column-count:4;column-count:4;-moz-column-gap: 1em;-webkit-column-gap: 1em;column-gap: 1em;}                 .grid>div{padding: 1em;margin: 0 0 1em 0;-moz-page-break-inside: avoid;-webkit-column-break-inside: avoid;break-inside: avoid;}                 .grid>div>img{width: 100%;}                 .list>div {text-align:center;}                 .list>div>img { max-width: 100%; }                 .gridBig{margin: 0px;}                 .gridBig>div { float: left;margin: 0px 0px 1px 1px;}                 .gridBig>div>img { max-width: 100%; }                 .select{border: 5px solid red!important;}                 body>div{border: 5px solid black;margin: 1px; overflow: hidden;}                 .select>img{transform: scale3d(1.1, 1.1, 1.1);}                 body>div>img{transition: transform .3s ease 0s;}                 body>div:hover{border: 5px solid #dbdbdb; background: #80808020;}                 body>div{position: relative; cursor: pointer}                 body>div>p{position: absolute; margin: 0; background: #ffffff80; top: 0;}                 </style>                 </head>                 <span class="toTop">                    <span></span>                 </span>                 <body class="'+A.gallery.exportType+'">                 <p style="width:100vw;display:flex;flex-direction:column;">                 <img id="bigImg" style="pointer-events:none;position:fixed;z-index:999;width:100vw;top:0px;align-self:center;" /></p>                 <p>'+s("picTitle")+""+r+"</p>                 <p>"+s("picNum")+""+t.length+' <select onchange="document.body.className=this.options[this.options.selectedIndex].value"><option value="grid" '+("grid"==A.gallery.exportType?"selected='selected'":"")+">"+s("grid")+'</option><option value="gridBig" '+("gridBig"==A.gallery.exportType?"selected='selected'":"")+">"+s("gridBig")+'</option><option value="list" '+("list"==A.gallery.exportType?"selected='selected'":"")+">"+s("list")+'</option> </select>                  <input type="button" value="'+s("exportImagesUrl")+"\" onclick=\"var imgStr='',selList=document.querySelectorAll('.select>img');if(selList.length==0)[].forEach.call(document.querySelectorAll('img'),function(i){imgStr+=i.src+' \\n'});else{[].forEach.call(selList,function(i){imgStr+=i.src+' \\n'});}window.prompt('"+s("exportImagesUrlPop")+"',imgStr);\" />                  ("+s("picTips")+")</p><p>"+s("savePageTips")+"</p>";if(n+=a.join("\n")+'<script type="text/javascript">                 document.querySelector(".toTop").addEventListener("click", function(){                 document.body.scrollIntoView();                 });                 var bigImg=document.querySelector("#bigImg"),body=document.body;                 [].forEach.call(document.querySelectorAll("div>img"),function(i){                 if(i.naturalWidth&&i.naturalHeight)i.nextElementSibling.innerText=i.naturalWidth+" x "+i.naturalHeight;                 i.onerror=function(e){i.style.display="none";i.parentNode.title="Reload"};                 i.onload=function(e){i.style.display="";i.parentNode.title="";if(i.naturalWidth&&i.naturalHeight)i.nextElementSibling.innerText=i.naturalWidth+" x "+i.naturalHeight};                 i.onmouseover=i.onmousemove=function(e){bigImg.style.top=(this.width/this.height>body.clientWidth/body.clientHeight?10+(body.clientHeight*0.95-body.clientWidth*this.height/this.width)*e.offsetY/this.height:10-(body.clientWidth*this.height/this.width-body.clientHeight*0.95)*e.offsetY/this.height);bigImg.src=e.ctrlKey?this.src:"";bigImg.style.display=e.ctrlKey?"":"none";};                 });                 [].forEach.call(document.querySelectorAll("body>div"),function(i){                 i.onclick=function(e){if(i.firstChild.style.display=="none"){i.firstChild.style.display="";i.firstChild.src=i.firstChild.src;return;}if(e.ctrlKey&&i.firstChild.src){window.open(i.firstChild.src,"_blank")}else{this.classList.toggle("select")}}                 });                 <\/script></body>',-1!=navigator.userAgent.indexOf("Firefox")){let e=T.open("","_blank");e.document.write(n),e.document.close()}else l("data:text/html;charset=utf-8,"+encodeURIComponent(n),{active:!0})},copyImages:function(e){var t=this.eleMaps["sidebar-thumbnails-container"].querySelectorAll(".pv-gallery-sidebar-thumb-container[data-src]:not(.ignore)"),i=[];[].forEach.call(t,(function(e){"none"!=T.getComputedStyle(e).display&&i.push(e.dataset.src)}));let a=i.join("\n");c(a),this.urlsTextarea.value=a,this.urlsTextareaCon.style.display="block",e&&this.showTips(s("copySuccess",i.length))},Preload:function(e,t){this.ele=e,this.oriThis=t,this.init()},Scrollbar:function(e,t,i){this.scrollbar=e,this.container=t,this.isHorizontal=i,this.init()},addStyle:function(){if(he.style)he.style.parentNode||(he.style=m(he.style.innerText),this.globalSSheet=he.style.sheet);else{he.style=m("                 /**/                    .pv-gallery-container {                    position: fixed;                    top: 0;                    left: 0;                    width: 100%;                    height: 100%;                    min-width:unset;                    min-height:unset;                    padding: 0;                    margin: 0;                    border: none;                    z-index:"+(A.imgWindow.zIndex-1)+';                    background-color: transparent;                    display: initial;                    }                    /*border-box*/                    .pv-gallery-container span{                    -moz-box-sizing: border-box;                    box-sizing: border-box;                    line-height: 1.6;                    text-overflow: unset;                    background-image: initial;                    float: initial;                    }                    .pv-gallery-container * {                    font-size: 14px;                    display: initial;                    flex-direction: row;                    user-select: none;                    }                    /**/                    span.pv-gallery-maximize-trigger{                    position:fixed;                    bottom:15px;                    left:15px;                    display:none;                    background:#000;                    opacity:0.6;                    padding-left:10px;                    font-size:16px;                    line-height:0;                    color:white;                    cursor:pointer;                    box-shadow:3px 3px 0 0 #333;                    z-index:899999998;                    }                    .pv-gallery-maximize-trigger:hover{                    opacity:0.9;                    }                    span.pv-gallery-maximize-trigger-close{                    display:inline-block;                    padding-left:10px;                    vertical-align:middle;                    height:30px;                    padding:10px 0;                    width:24px;                    background:url("'+A.icons.loadingCancle+'") center no-repeat;                    }                    .pv-gallery-maximize-trigger-close:hover{                    background-color:#333;                    }                    span.pv-gallery-head-command-close{                    position:absolute;                    top:0;                    width:40px;                    border-left: 1px solid #333333;                    background:transparent no-repeat center;                    background-image:url("'+A.icons.loadingCancle+'");                    }                    .pv-gallery-maximize-container+p{                    position: fixed;                    width: 100%;                    z-index: 2;                    text-align: center;                    pointer-events: none;                    margin-bottom: 45px;                    left: 0;                    bottom: 0;                    opacity: 0;                    transition: all .3s ease;                    }                    @media only screen and (max-width: 600px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(50vw - 5px);                     }                    }                    @media only screen and (min-width: 600px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(33vw - 5px);                     }                    }                    @media only screen and (min-width: 800px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(25vw - 5px);                     }                    }                    @media only screen and (min-width: 1000px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(20vw - 5px);                     }                    }                    @media only screen and (min-width: 1130px) {                     .pv-gallery-maximize-container>.maximizeChild{                     width:calc(16.6vw - 6px);                     }                    }                    @media only screen and (max-width: 799px) {                     .pv-gallery-range-box>input {                     display: none;                     }                     .pv-gallery-head-command-drop-list {                     right: 10px;                     }                     span.pv-gallery-head {                     white-space: nowrap;                     }                     span.pv-gallery-sidebar-toggle-content {                     font-size: 25px!important;                     }                     span.pv-gallery-sidebar-toggle {                     height: 25px!important;                     opacity: 0.6;                     border-radius: 0!important;                     }                     .pv-gallery-sidebar-viewmore:not(.showmore) {                     opacity: 0!important;                     }                     .pv-gallery-maximize-container{                     margin-top: 30px;                     }                     .pv-gallery-sidebar-viewmore.showmore{                     transform: scale(1.5);                     bottom: 10px;                     }                     .pv-gallery-maximize-container span>p{                     opacity: 0.3;                     }                     .pv-gallery-maximize-container+p{                     opacity: 0.2;                     }                     span.pv-gallery-head-command-close {                     position: fixed!important;                     right: 0!important;                     height: 29px!important;                     background-color: black;                     }                    }                    @media only screen and (min-width: 799px) {                     .pv-gallery-maximize-container{                     margin-top: 30px;                     }                     .pv-gallery-maximize-container span>p{                     opacity: 0;                     }                    }                    span.pv-gallery-tipsWords{                    font-size: 50px;                    font-weight: bold;                    font-family: "", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",                      "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",                      "Segoe UI Emoji", "Segoe UI Symbol";                    color: #ffffff;                    height: 70px;                    line-height: 70px;                    position: fixed;                    left: 50%;                    top: 10%;                    margin-left: -150px;                    padding: 0 10px;                    z-index: 999999999;                    background-color: #000;                    border: 1px solid black;                    border-radius: 10px;                    opacity: 0;                    filter: alpha(opacity=65);                    box-shadow: 5px 5px 20px 0px #000;                    -moz-transition:opacity 0.3s ease-in-out 0s;                    -webkit-transition:opacity 0.3s ease-in-out 0s;                    transition:opacity 0.3s ease-in-out 0s;                    pointer-events: none;                    overflow: hidden;                    text-overflow: ellipsis;                    white-space: nowrap;                    max-width: 65%;                    }                    /**/                    span.pv-gallery-head {                    position: absolute;                    top: 0;                    left: 0;                    width: 100%;                    min-height: 30px;                    height: auto;                    z-index:1;                    background-color:rgb(0,0,0);                    border:none;                    border-bottom:1px solid #333333;                    text-align:right;                    line-height:0;                    font-size: 14px;                    color:#757575;                    padding-right:42px;                    display: block;                    overflow-x: visible;                    overflow-y: auto;                    scrollbar-width: none;                    -ms-overflow-style: none;                    }                    span.pv-gallery-head::-webkit-scrollbar {                    width: 0 !important;                    height: 0 !important;                    }                    .pv-gallery-head > span{                    vertical-align:middle;                    }                    /**/                    span.pv-gallery-head-float-left{                    float:left;                    height:100%;                    text-align:left;                    padding-left:5px;                    display: table;                    }                    .pv-gallery-head-float-left > span{                    display:inline-block;                    height:100%;                    vertical-align:middle;                    }                    .pv-gallery-head-float-left > span > *{                    vertical-align:middle;                    }                    .pv-gallery-head-left-img-info{                    cursor:help;                    }                    .pv-gallery-head-left-img-info-description {                    margin-left: 10px;                    margin-right: 10px;                    overflow: hidden;                    text-overflow: ellipsis;                    white-space: nowrap;                    max-width: 6em;                    display: inherit;                    }                    .pv-gallery-range-box{                    display: inline-flex;                    justify-content: center;                    align-items: center;                    }                    .pv-gallery-range-box>#pinSize{                    margin: 0 5px;                    padding: 0px;                    }                    .pv-gallery-range-box>span{                    padding: 0 5px 0 5px;                    white-space: nowrap;                    }                    .pv-gallery-range-box>input{                    background: white;                    min-height: auto;                    padding: 0;                    -webkit-appearance: auto;                    }                    /*-*/                    .pv-gallery-head-command{                    display:inline-block;                    cursor:pointer;                    height:100%;                    padding:0 8px;                    text-align:center;                    position:relative;                    z-index:1;                    vertical-align:middle;                    -o-user-select: none;                    -ms-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    /*countdown*/                    .pv-gallery-head-command_overlayer{                    top:0;                    left:0;                    right:0;                    bottom:0;                    position:absolute;                    opacity:0;                    }                    .pv-gallery-head-command > *{                    vertical-align:middle;                    }                    .pv-gallery-head-command-slide-show-countdown{                    font-size:0.8em;                    }                    span.pv-gallery-head-command-slide-show-button{                    border-radius:36px;                    display:inline-block;                    width:18px;                    height:18px;                    border:2px solid #757575;                    margin-right:3px;                    line-height:0;                    }                    .pv-gallery-head-command-slide-show-button-inner{                    display:inline-block;                    border:none;                    border-top:4px solid transparent;                    border-bottom:4px solid transparent;                    border-left:8px solid #757575;                    vertical-align:middle;                    margin-left: 1px;                    }                    .pv-gallery-head-command-slide-show-button-inner_stop{                    border-color:#757575;                    margin-left: 0px;                    }                    span.pv-gallery-head-command-collect-icon{                    display:inline-block;                    height:20px;                    width:20px;                    background:transparent url("'+A.icons.fivePointedStar+'") 0 0 no-repeat;                    }                    span.pv-gallery-head-left-lock-icon{                    display:inline-block;                    height:20px;                    width:20px;                    cursor:pointer;                    background:transparent url("'+A.icons.lock+'") 0 0 no-repeat;                    }                    span.pv-gallery-head-left-filter-icon{                    display:inline-block;                    height:20px;                    width:20px;                    cursor:pointer;                    background:transparent url("'+A.icons.filter+'") 0 0 no-repeat;                    }                    .pv-gallery-head-command-collect-icon ~ .pv-gallery-head-command-collect-text::after{                    content:"'+s("collect")+'";                    }                    .pv-gallery-head-command-collect-favorite > .pv-gallery-head-command-collect-icon{                    background-position:-40px 0 !important;                    }                    .pv-gallery-head-command-collect-favorite > .pv-gallery-head-command-collect-text::after{                    content:"'+s("collected")+'";                    }                    .pv-gallery-head-command-exit-collection{                    color:#939300 !important;                    display:none;                    }                    .pv-gallery-head-command-urlFilter{                    color:#e9cccc !important;                    display:none;                    }                    .pv-gallery-head-command:hover{                    background-color:#272727;                    color:#ccc;                    }                    /*droplist*/                    .pv-gallery-head-command-drop-list{                    position:fixed;                    display:none;                    box-shadow:0 0 3px #808080;                    background-color:#272727;                    line-height: 1.6;                    text-align:left;                    padding:10px;                    color:#ccc;                    margin-top:-1px;                    z-index:9;                    }                    .pv-gallery-head-command-drop-list-item{                    display:block;                    padding:2px 5px;                    cursor:pointer;                    white-space:nowrap;                    }                    .pv-gallery-head-command-drop-list-item-collect-description{                    cursor:default;                    }                    .pv-gallery-head-command-drop-list-item-collect-description > textarea{                    resize:both;                    width:auto;                    height:auto;                    background: white;                    }                    .pv-gallery-head-command-drop-list-item_disabled{                    color:#757575;                    }                    .pv-gallery-head-command-drop-list-item input + *{                    padding-left:3px;                    }                    .pv-gallery-head-command-drop-list-item input[type=number]{                    text-align:left;                    max-width:50px;                    height:20px;                    background: white;                    color: black;                    box-sizing: border-box;                    display: initial;                    margin: 0 5px;                    padding: 0 5px;                    }                    .pv-gallery-head-command-drop-list-item input[type=checkbox]{                    width:20px;                    box-sizing: border-box;                    display: initial;                    margin: 0 5px;                    opacity: 1;                    position: initial;                    }                    .pv-gallery-head-command-drop-list-item > * {                    vertical-align:middle;                    width: auto;                    opacity: 1;                    height: auto;                    padding: 0;                    margin: 0;                    }                    .pv-gallery-head-command-drop-list-item label {                    font-weight: normal;                    display:inline;                    font-size:unset;                    line-height: initial;                    color: inherit;                    }                    .pv-gallery-head-command-drop-list-item label:after {                    display:none;                    }                    .pv-gallery-head-command-drop-list-item:hover{                    background-color:#404040;                    }                    /*container*/                    .pv-gallery-head-command-container{                    display:inline-block;                    height:100%;                    position:relative;                    }                    /* after*/                    .pv-gallery-head-command-container > .pv-gallery-head-command::after{                    content:"";                    display:inline-block;                    vertical-align:middle;                    border:none;                    border-top:7px solid #757575;                    border-left:5px solid transparent;                    border-right:5px solid transparent;                    margin-left:5px;                    -moz-transition:all 0.3s ease-in-out 0s;                    -webkit-transition:all 0.3s ease-in-out 0s;                    transition:all 0.3s ease-in-out 0s;                    }                    .pv-gallery-head-command-container:hover{                    box-shadow:0 0 3px #808080;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command{                    background-color:#272727;                    color:#ccc;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command::after{                    -webkit-transform:rotate(180deg);                    -moz-transform:rotate(180deg);                    transform:rotate(180deg);                    border-top:7px solid #ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-collect-icon{                    background-position:-20px 0;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button{                    border-color:#ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button-inner{                    border-left-color:#ccc;                    }                    .pv-gallery-head-command-container:hover .pv-gallery-head-command-slide-show-button-inner_stop{                    border-color:#ccc;                    }                    .pv-gallery-head-command-container:hover > .pv-gallery-head-command-drop-list,.pv-gallery-head-command-container > .pv-gallery-head-command-drop-list.focus{                    display:block;                    }                    /*-*/                    .pv-gallery-body {                    display: block;                    height: 100%;                    width: 100%;                    margin: 0;                    padding: 0;                    border: none;                    border-top: 30px solid transparent;                    position: relative;                    background-clip: padding-box;                    z-index:0;                    }                    .pv-gallery-img-container {                    display: block;                    padding: 0;                    margin: 0;                    border: none;                    height: 100%;                    width: 100%;                    background-clip: padding-box;                    background-color: '+(A.gallery.backgroundColor||"rgba(20,20,20,0.75)")+";                    position:relative;                    transition: background-color .3s ease;                    }                    .pv-gallery-img-container-top {                    border-top: "+A.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-right {                    border-right: "+A.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-bottom {                    border-bottom: "+A.gallery.sidebarSize+"px solid transparent;                    }                    .pv-gallery-img-container-left {                    border-left: "+A.gallery.sidebarSize+'px solid transparent;                    }                    /**/                    .pv-gallery-img-controler{                    position:absolute;                    top:50%;                    height:60px;                    width:50px;                    margin-top:-30px;                    cursor:pointer;                    opacity:0.3;                    z-index:1;                    transition: opacity .5s ease;                    }                    .pv-gallery-sidebar-toggle-hide .pv-gallery-img-controler{                    opacity:0;                    }                    span.pv-gallery-img-controler-pre{                    background:rgba(70,70,70,0.8) url("'+A.icons.arrowLeft+'") no-repeat center;                    left:10px;                    }                    span.pv-gallery-img-controler-next{                    background:rgba(70,70,70,0.8) url("'+A.icons.arrowRight+'") no-repeat center;                    right:10px;                    }                    .pv-gallery-img-controler:hover{                    background-color:rgba(140,140,140,0.8);                    opacity:0.9;                    z-index:2;                    }                    /*--*/                    .pv-gallery-scrollbar-h,                    .pv-gallery-scrollbar-v{                    display:none;                    z-index:1;                    position:absolute;                    margin:0;                    padding:0;                    border:none;                    }                    .pv-gallery-scrollbar-h{                    bottom:10px;                    left:0;                    right:0;                    height:10px;                    margin:0 2px;                    }                    .pv-gallery-scrollbar-v{                    top:0;                    bottom:0;                    right:10px;                    width:10px;                    margin:2px 0;                    }                    .pv-gallery-scrollbar-h:hover{                    height:25px;                    bottom:0;                    }                    .pv-gallery-scrollbar-v:hover{                    width:25px;                    }                    .pv-gallery-scrollbar-h:hover,                    .pv-gallery-scrollbar-v:hover{                    background-color:rgba(100,100,100,0.9);                    z-index:2;                    }                    .pv-gallery-scrollbar-h-track,                    .pv-gallery-scrollbar-v-track{                    position:absolute;                    top:0;                    left:0;                    right:0;                    bottom:0;                    background-color:rgba(100,100,100,0.3);                    border:2px solid transparent;                    }                    .pv-gallery-scrollbar-h-handle,                    .pv-gallery-scrollbar-v-handle{                    position:absolute;                    background-color:rgba(0,0,0,0.5);                    }                    .pv-gallery-scrollbar-h-handle{                    height:100%;                    }                    .pv-gallery-scrollbar-v-handle{                    width:100%;                    right: 0;                    }                    .pv-gallery-scrollbar-h-handle:hover,                    .pv-gallery-scrollbar-v-handle:hover{                    background-color:rgba(80,33,33,1);                    border: 2px solid #585757;                    }                    .pv-gallery-scrollbar-h-handle:active,                    .pv-gallery-scrollbar-v-handle:active{                    background-color:rgba(57,26,26,1);                    border: 2px solid #878484;                    }                    /*--*/                    .pv-gallery-img-content{                    display:block;                    width:100%;                    height:100%;                    overflow:hidden;                    text-align:center;                    padding:0;                    border:none;                    margin:0;                    line-height:0;                    font-size:0;                    white-space:nowrap;                    }                    .pv-gallery-img-parent{                    display:inline-flex;                    align-items: center;                    vertical-align: middle;                    justify-content: center;                    line-height:0;                    }                    .pv-gallery-img_broken{                    display:none;                    cursor:pointer;                    }                    .pv-gallery-img{                    position:relative;/*e.layerX,layerY*/                    display:inline-block;                    vertical-align:middle;                    width:auto;                    height:auto;                    padding:0;                    border:5px solid #313131;                    margin:1px;                    opacity:0.3;                    box-sizing: content-box;                    background-color: #282828cc;                    background-position: center 0;                    background-repeat: no-repeat;                    background-size: cover;                    -webkit-background-size: cover;                    -o-background-size: cover;                    '+(A.gallery.transition?"                    -webkit-transition: opacity 0.5s ease;                    -moz-transition: opacity 0.5s ease;                    transition: opacity 0.5s ease;                    ":"")+"                    }                    .pv-gallery-img_zoom-out{                    cursor:"+se.cssCursorValue.zoomOut+";                    }                    .pv-gallery-img_zoom-in{                    cursor:"+se.cssCursorValue.zoomIn+";                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img{                    border:0px;                    }                    span.pv-gallery-sidebar-toggle{                    position:absolute;                    line-height:12px;                    text-align:center;                    background-color:rgb(0,0,0);                    color:#757575;                    white-space:nowrap;                    cursor:pointer;                    z-index:2;                    transition: background-color .3s ease, opacity .3s ease;                    justify-content: center;                    display:none;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle {                    opacity: 0!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide span.pv-gallery-sidebar-toggle:hover {                    opacity: 1!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head {                    opacity: 0!important;                    }                    :fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    :-webkit-full-screen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    :-ms-fullscreen .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover {                    opacity: 1!important;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container>span.pv-gallery-sidebar-toggle{                    opacity: 0.6;                    padding: 35px;                    background-color:#00000000;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container>span.pv-gallery-sidebar-toggle:hover{                    opacity: 1;                    background-color:rgb(0 0 0 / 50%);                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body{                    border-top: 0px solid transparent;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head{                    opacity: 0.1;                    transition: opacity .3s ease;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-body>.pv-gallery-img-container{                    background-color: black;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide>.pv-gallery-head:hover{                    opacity: 1;                    }                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img-parent,                    .pv-gallery-container.pv-gallery-sidebar-toggle-hide .pv-gallery-img{                    cursor: none;                    }                    .pv-gallery-sidebar-viewmore{                    position:absolute;                    line-height:0;                    text-align:center;                    background-color:#00000030;                    color:#a1a1a1;                    white-space:nowrap;                    cursor:pointer;                    z-index: 2;                    display:none;                    height: 30px;                    width:30px;                    border-radius: 15px;                    line-height: 2 !important;                    font-family: auto;                    transition: background-color .3s ease;                    }                    .pv-gallery-sidebar-viewmore:hover{                    opacity: 1;                    background-color:#000000;                    }                    .pv-gallery-maximize-container+p:hover,.pv-gallery-maximize-container.checked+p:hover{                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked+p{                    opacity: 0.8;                    }                    .pv-gallery-maximize-container+p>.need-checked{                    display: none;                    }                    .pv-gallery-maximize-container.checked+p>.need-checked{                    display: inline-block;                    }                    .pv-gallery-maximize-container+p>input{                    pointer-events: all;                    color: white;                    background-color: black;                    border: 0;                    opacity: 0.8;                    padding: 5px 10px;                    cursor: pointer;                    margin: 1px;                    font-size: 20px;                    }                    .pv-gallery-maximize-container+p>input:hover{                    color: red;                    }                    .pv-gallery-maximize-container{                    min-width: 100%;                    display: block;                    background: black;                    margin-left: 3px;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize{                    column-count: unset;                    -moz-column-count: unset;                    -webkit-column-count: unset;                    display: flex;                    flex-flow: wrap;                    justify-content: center;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize span{                    width: 18.5%;                    height: 30vh;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize img{                    position: relative;                    width: unset;                    max-height: 100%;                    max-width: 100%;                    top: 50%;                    transform: translateY(-50%) scale3d(1, 1, 1);                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize img:hover {                    transform: translateY(-50%) scale3d(1.1, 1.1, 1.1);                    }                    .pv-gallery-maximize-container span{                    -moz-page-break-inside: avoid;                    -webkit-column-break-inside: avoid;                    break-inside: avoid;                    float: left;                    margin-bottom: 15px;                    margin-right: 15px;                    overflow: hidden;                    position: relative;                    }                    .pv-gallery-maximize-container>.maximizeChild{                    display: inline-block;                    vertical-align: middle;                    text-align: center;                    background-color: rgba(40, 40, 40, 0.5);                    border: 5px solid #000000;                    font-size: 0px;                    }                    .pv-gallery-maximize-container>.maximizeChild:hover{                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    }                    .pv-gallery-maximize-container>.maximizeChild.selected{                    border: 5px solid #ff000050;                    }                    .pv-gallery-maximize-container img{                    max-width: 100%;                    transition: transform .3s ease 0s;                    transform: scale3d(1, 1, 1);                    cursor: zoom-in;                    min-height: 88px;                    border-radius: 20px;                    }                    .pv-gallery-maximize-container>.maximizeChild:hover img {                    transform: scale3d(1.1, 1.1, 1.1);                    filter: brightness(1.1) !important;                    opacity: 1;                    }                    .pv-gallery-maximize-container.pv-gallery-flex-maximize>.maximizeChild:hover img {                    transform: translateY(-50%) scale3d(1.1, 1.1, 1.1);                    }                    .pv-gallery-maximize-container span>p{                    position: absolute;                    width: 100%;                    max-height: 40%;                    font-size: 18px;                    text-align: center;                    background: #00000080;                    color: #fff;                    left: 0;                    user-select: none;                    word-break: break-all;                    display: inline;                    margin: 0 auto;                    transition:all 0.2s;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner{                    bottom: 0;                    height: 35px;                    cursor: pointer;                    line-height: 40px;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner>svg{                    width: 20px;                    height: 20px;                    vertical-align: middle;                    fill: currentColor;                    overflow: hidden;                    }                    .pv-gallery-maximize-container span>p.pv-top-banner{                    top: 0;                    height: 25px;                    cursor: pointer;                    }                    .pv-gallery-maximize-container span:hover>p{                    opacity: 1!important;                    }                    .pv-gallery-maximize-container span>p:hover{                    background: #000000cc;                    }                    .pv-gallery-maximize-container span>p.pv-bottom-banner:hover{                    color:red;                    font-weight:bold;                    }                    .pv-gallery-maximize-container span>input{                    position: absolute;                    top: 2px;                    z-index:1;                    width: 20px;                    height: 20px;                    opacity: 0;                    left: 0;                    display: inline;                    cursor: pointer;                    }                    .pv-gallery-maximize-container.checked img,                    .pv-gallery-maximize-container.checked p{                    opacity: 0.3;                    }                    .pv-gallery-maximize-container.checked input:checked+img {                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked span>input{                    opacity: 1;                    }                    .pv-gallery-maximize-container.checked span>.pv-top-banner{                    opacity: 0.6;                    }                    .pv-gallery-maximize-container+p>input.compareBtn{                    display: none;                    }                    .pv-gallery-maximize-container.canCompare+p>input.compareBtn{                    display: inline;                    }                    .pv-gallery-maximize-container span:hover>input{                    opacity: 1;                    }                    .pv-gallery-maximize-scroll{                    overflow-y: scroll;                    overflow-x: hidden;                    height: 100%;                    width: 100%;                    position: absolute;                    display: none;                    top: 0;                    left: 0;                    background: black;                    }                    .pv-gallery-sidebar-toggle:hover,.pv-gallery-sidebar-viewmore:hover{                    color:#ccc;                    }                    .pv-gallery-sidebar-toggle-h{                    width:80px;                    margin-left:-40px;                    left:50%;                    }                    .pv-gallery-sidebar-viewmore-h{                    margin-left:-15px;                    left:50%;                    }                    .pv-gallery-sidebar-toggle-v{                    height:80px;                    margin-top:-40px;                    top:50%;                    }                    .pv-gallery-sidebar-viewmore-v{                    height:30px;                    top:6%;                    top: calc(50% - 25px);                    }                    .pv-gallery-sidebar-toggle-top{                    top:-3px;                    }                    .pv-gallery-sidebar-viewmore-top{                    top:15px;                    }                    .pv-gallery-sidebar-toggle-right{                    right:-3px;                    }                    .pv-gallery-sidebar-viewmore-right{                    right:18px;                    }                    .pv-gallery-sidebar-toggle-bottom{                    bottom:-3px;                    }                    .pv-gallery-sidebar-viewmore-bottom{                    display: block;                    bottom:15px;                    }                    .pv-gallery-sidebar-viewmore-bottom.showmore{                    background-color: rgb(42, 42, 42);                    opacity: 1;                    }                    .pv-gallery-sidebar-toggle-left{                    left:-3px;                    }                    .pv-gallery-sidebar-viewmore-left{                    left:18px;                    }                    span.pv-gallery-sidebar-toggle-content{                    display:inline-block;                    vertical-align:middle;                    white-space:normal;                    word-wrap:break-word;                    overflow-wrap:break-word;                    line-height:16px;                    font-size:18px;                    text-align:center;                    margin-bottom:8px;                    }                    span.pv-gallery-sidebar-viewmore-content{                    display:inline-block;                    vertical-align:middle;                    white-space:normal;                    word-wrap:break-word;                    overflow-wrap:break-word;                    line-height:1;                    font-size:16px;                    text-align:center;                    }                    .pv-gallery-sidebar-toggle-content-v,.pv-gallery-sidebar-viewmore-content-v{                    width:1.1em;                    }                    span.pv-gallery-sidebar-toggle-content-v{                    line-height: 60px !important;                    }                    /**/                    .pv-gallery-sidebar-container {                    position: absolute;                    background-color:rgb(0,0,0);                    padding:5px;                    border:none;                    margin:0;                    text-align:center;                    line-height:0;                    white-space:nowrap;                    -o-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    .pv-gallery-sidebar-container-h {                    height: "+A.gallery.sidebarSize+"px;                    width: 100%;                    }                    .pv-gallery-sidebar-container-v {                    width: "+A.gallery.sidebarSize+'px;                    height: 100%;                    }                    .pv-gallery-sidebar-container-top {                    top: 0;                    left: 0;                    border-bottom:1px solid #333333;                    }                    .pv-gallery-sidebar-container-right {                    top: 0;                    right: 0;                    border-left:1px solid #333333;                    }                    .pv-gallery-sidebar-container-bottom {                    bottom: 0;                    left: 0;                    border-top:1px solid #333333;                    }                    .pv-gallery-sidebar-container-left {                    top: 0;                    left: 0;                    border-right:1px solid #333333;                    }                    .pv-gallery-sidebar-content {                    display: inline-block;                    margin: 0;                    padding: 0;                    border: none;                    background-clip: padding-box;                    vertical-align:middle;                    position:relative;                    text-align:left;                    }                    .pv-gallery-sidebar-content-h {                    height: 100%;                    width: 90%;                    border-left: 40px solid transparent;                    border-right: 40px solid transparent;                    }                    .pv-gallery-sidebar-content-v {                    height: 90%;                    width: 100%;                    border-top: 40px solid transparent;                    border-bottom: 40px solid transparent;                    }                    span.pv-gallery-sidebar-controler{                    cursor:pointer;                    position:absolute;                    background:rgba(255,255,255,0.1) no-repeat center;                    }                    .pv-gallery-sidebar-controler:hover{                    background-color:rgba(255,255,255,0.3);                    }                    .pv-gallery-sidebar-controler-pre-h,                    .pv-gallery-sidebar-controler-next-h{                    top:0;                    width:36px;                    height:100%;                    }                    .pv-gallery-sidebar-controler-pre-v,                    .pv-gallery-sidebar-controler-next-v{                    left:0;                    width:100%;                    height:36px;                    }                    span.pv-gallery-sidebar-controler-pre-h {                    left: -40px;                    background-image: url("'+A.icons.arrowLeft+'");                    }                    span.pv-gallery-sidebar-controler-next-h {                    right: -40px;                    background-image: url("'+A.icons.arrowRight+'");                    }                    span.pv-gallery-sidebar-controler-pre-v {                    top: -40px;                    background-image: url("'+A.icons.arrowTop+'");                    }                    span.pv-gallery-sidebar-controler-next-v {                    bottom: -40px;                    background-image: url("'+A.icons.arrowBottom+'");                    }                    .pv-gallery-sidebar-thumbnails-container {                    display: block;                    overflow: hidden;                    height: 100%;                    width: 100%;                    margin:0;                    border:none;                    padding:0;                    line-height:0;                    position:relative;                    }                    .pv-gallery-sidebar-thumbnails-container span{                    vertical-align:middle;                    }                    .pv-gallery-sidebar-thumbnails-container-h{                    border-left:1px solid #464646;                    border-right:1px solid #464646;                    white-space:nowrap;                    }                    .pv-gallery-sidebar-thumbnails-container-v{                    border-top:1px solid #464646;                    border-bottom:1px solid #464646;                    white-space:normal;                    }                    .pv-gallery-sidebar-thumbnails-container-top {                    padding-bottom:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-right {                    padding-left:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-bottom {                    padding-top:5px;                    }                    .pv-gallery-sidebar-thumbnails-container-left {                    padding-right:5px;                    }                    span.pv-gallery-sidebar-thumb-container {                    display:inline-block;                    text-align: center;                    border:2px solid rgb(52,52,52);                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    cursor:pointer;                    position:relative;                    padding:2px;                    font-size:0;                    line-height:0;                    white-space:nowrap;                    vertical-align: middle;                    top:0;                    left:0;                    -webkit-transition:all 0.2s ease-in-out;                    transition:all 0.2s ease-in-out;                    }                    span.pv-gallery-sidebar-thumb-container.ignore {                    opacity: 0.5;                    }                    .pv-gallery-sidebar-thumbnails-container-h  .pv-gallery-sidebar-thumb-container {                    margin:0 2px;                    height:100%;                    }                    .pv-gallery-sidebar-thumbnails-container-v  .pv-gallery-sidebar-thumb-container {                    margin:2px 0;                    width:100%;                    }                    .pv-gallery-sidebar-thumbnails_hide-span > .pv-gallery-sidebar-thumb-container {                    display:none;                    }                    .pv-gallery-sidebar-thumb-container:hover {                    border:2px solid rgb(57,149,211);                    }                    span.pv-gallery-sidebar-thumb_selected {                    border:2px solid rgb(229,59,62);                    }                    .pv-gallery-sidebar-thumb_selected-top {                    top:5px;                    }                    .pv-gallery-sidebar-thumb_selected-right {                    left:-5px;                    }                    .pv-gallery-sidebar-thumb_selected-bottom {                    top:-5px;                    }                    .pv-gallery-sidebar-thumb_selected-left {                    left:5px;                    }                    span.pv-gallery-sidebar-thumb-loading{                    position:absolute;                    top:0;                    left:0;                    text-align:center;                    width:100%;                    height:100%;                    display:none;                    opacity:0.6;                    background:black url("'+A.icons.loading+'") no-repeat center ;                    }                    .pv-gallery-sidebar-thumb-loading:hover{                    opacity:0.8;                    }                    .pv-gallery-sidebar-thumb {                    display: inline-block;                    vertical-align: middle;                    max-width: 100% !important;                    max-height: 100% !important;                    height: auto !important;                    width: auto !important;                    min-width: 10%;                    min-height: 10%;                    }                    .pv-gallery-urls-textarea {                    display: none;                    position: fixed;                    top: 10vh;                    left: 10vw;                    z-index: 100;                    }                    .pv-gallery-urls-textarea>textarea {                    width: 80vw;                    height: 80vh;                    border: 10px solid #272727;                    background: #ffffffee;                    color: black;                    text-wrap: nowrap;                    }                    span.pv-gallery-urls-textarea-close,                    span.pv-gallery-urls-textarea-download{                    height: 40px;                    top: -25px;                    background: #272727 no-repeat center;                    color: white;                    border-radius: 50%;                    cursor: pointer;                    }                    span.pv-gallery-urls-textarea-close:hover,                    span.pv-gallery-urls-textarea-download:hover {                    background-color: black;                    }                    span.pv-gallery-urls-textarea-close {                    position:absolute;                    right: -25px;                    width:40px;                    background-image:url("'+A.icons.loadingCancle+'");                    }                    span.pv-gallery-urls-textarea-download {                    position: absolute;                    left: -25px;                    width: 40px;                    display: flex;                    align-items: center;                    justify-content: center;                    }                    span.pv-gallery-urls-textarea-download>svg {                    height: 15px;                    width: 15px;                    fill: white;                    }                    .pv-gallery-vertical-align-helper{                    display:inline-block;                    vertical-align:middle;                    width:0;                    height:100%;                    margin:0;                    border:0;                    padding:0;                    visibility:hidden;                    white-space:nowrap;                    background-color:red;                    }                    '),this.globalSSheet=he.style.sheet;var e=i.head,t=i.createElement("style");this.thumbVisibleStyle=t,t.type="text/css",e.appendChild(t)}}},he.prototype.Preload.prototype={init:function(){if(!this.container){var e=i.createElement("div");e.className="pv-gallery-preloaded-img-container",e.style.display="none",z(i).appendChild(e),he.prototype.Preload.prototype.container=e}this.max=A.gallery.max,this.nextNumber=0,this.nextEle=this.ele,this.preNumber=0,this.preEle=this.ele,this.direction="pre"},preload:function(){var e=this.getPreloadEle();e&&this.waitForReady(e)},waitForReady:function(e){var t=this,a=()=>{t.imgReady=ce($(e,"src"),{loadEnd:function(a){if(!t.aborted){if("error"==a.type){var r=$(e,"srcs");if(r&&(r=r.split(",")),r&&r.length>0){var n=r.shift();if($(e,"srcs",r.join(",")),n)return $(e,"src",n),void t.waitForReady(e)}}if($(e,"preloaded","true"),!$(e,"naturalSize")&&this.naturalHeight&&this.naturalWidth){$(e,"naturalSize",JSON.stringify({h:this.naturalHeight,w:this.naturalWidth}));let a=this.naturalWidth+"x"+this.naturalHeight;if(t.oriThis.sizeMap[a]=(t.oriThis.sizeMap[a]||0)+1,2===t.oriThis.sizeMap[a]){let e=i.createElement("option");e.innerText=a,e.value=this.naturalWidth+"-"+this.naturalWidth+"x"+this.naturalHeight+"-"+this.naturalHeight,t.oriThis.pinSize.appendChild(e)}}t.container.appendChild(this),t.preload()}},time:6e4})},r="stop"!==$(e,"xhr")&&this.oriThis.getPropBySpanMark(e,"xhr");if(r){var n=function(){$(e,"xhr","stop"),$(e,"src",$(e,"thumbSrc")),a()};ye.load({url:$(e,"src"),xhr:r,cb:function(r,o,s,l){if(r){if($(e,"src",r),$(e,"xhr","stop"),s&&$(e,"description",s),a(),o&&o.length){let e=0;o.forEach((a=>{if(a==r)return;let n=i.createElement("img");n.src=a;let o=l&&l[e]?l[e]:s;ce(n,{ready:function(){let e=we(n);o&&(e.description=o),t.oriThis.data.push(e),t.oriThis._appendThumbSpans([e]),t.oriThis.loadThumb()}}),e++}))}}else n()},onerror:n})}else a()},getPreloadEle:function(){if(!(this.max<=this.nextNumber&&this.max<=this.preNumber||!this.nextEle&&!this.preEle)){var e="pre"==this.direction?this.getNext():this.getPrevious();return e&&!$(e,"preloaded")?e:this.getPreloadEle()}},getNext:function(){if(this.nextNumber++,this.direction="next",this.nextEle)return this.nextEle=this.oriThis.getThumSpan(!1,this.nextEle)},getPrevious:function(){if(this.preNumber++,this.direction="pre",this.preEle)return this.preEle=this.oriThis.getThumSpan(!0,this.preEle)},abort:function(){this.aborted=!0,this.imgReady&&this.imgReady.abort()}},he.prototype.Scrollbar.prototype={init:function(){var e=this.scrollbar.bar;this.shown=0!=e.offsetWidth;var t=this;e.addEventListener("mousedown",(function(e){e.preventDefault();var a=e.target,r=t.scrollbar.handle,n=t.scrollbar.track;switch(a){case r:{let a=t.isHorizontal?["left","clientX"]:["top","clientY"];var o=parseFloat(r.style[a[0]]),s=e[a[1]],l=function(e){t.scroll(o+e[a[1]]-s,!0)};let n=function(){i.removeEventListener("mousemove",l,!0),i.removeEventListener("mouseup",n,!0)};i.addEventListener("mousemove",l,!0),i.addEventListener("mouseup",n,!0)}break;case n:{let a=t.isHorizontal?["left","offsetX","layerX","clientWidth","offsetWidth"]:["top","offsetY","layerY","clientHeight","offsetHeight"];var c=void 0===e[a[1]]?e[a[2]]:e[a[1]],d=parseFloat(r.style[a[0]]),p=r[a[4]],h=c>d,u=t.container[a[3]],m=function(){t.scrollBy(h?u-10:10-u)};m();var g,f=function(){var e=parseFloat(r.style[a[0]]);c>=e&&c<=e+p&&(clearTimeout(v),clearInterval(g))},v=setTimeout((function(){m(),g=setInterval((function(){m(),f()}),120),f()}),300);f();let n=function(){clearTimeout(v),clearInterval(g),i.removeEventListener("mouseup",n,!0)};i.addEventListener("mouseup",n,!0)}}}),!0)},reset:function(){var e=this.isHorizontal?["scrollWidth","clientWidth","width"]:["scrollHeight","clientHeight","height"],t=this.container[e[0]],i=this.container[e[1]],a=t-i;if(this.scrollMax=a,a>0){this.show();var r=this.scrollbar.track[e[1]];this.trackSize=r;var n=Math.floor(i/t*r);n=Math.max(20,n),this.handleSize=n,this.one=(r-n)/a,this.scrollbar.handle.style[e[2]]=n+"px",this.scroll(this.getScrolled())}else this.hide()},show:function(){this.shown||(this.shown=!0,this.scrollbar.bar.style.display="block")},hide:function(){this.shown&&(this.shown=!1,this.scrollbar.bar.style.display="none")},scrollBy:function(e,t){return this.scroll(this.getScrolled()+(t?e/this.one:e))},scrollByPages:function(e){this.scroll(this.getScrolled()+(this.container[this.isHorizontal?"clientWidth":"clientHeight"]-10)*e)},scroll:function(e,t,i){if(this.shown){var a=e;a=t?e/this.one:e,a=Math.max(0,a),a=Math.min(a,this.scrollMax);var r=this.isHorizontal?["left","scrollLeft"]:["top","scrollTop"];e=t?e:this.one*e,e=Math.max(0,e),e=Math.min(e,this.trackSize-this.handleSize);var n=this.scrollbar.handle.style,o=this.container;if(!i){var s=n[r[0]].replace(/(\.\d*)?\s*px/,"")==Math.floor(e);return n[r[0]]=e+"px",o[r[1]]=a,s}clearInterval(this.transitionInterval);var l=0,c=this.getScrolled(),d=a-c,p=parseFloat(n[r[0]]),h=e-p,u=setInterval((function(){var e=le.easeInOut(l,c,d,10),t=le.easeInOut(l,p,h,10);o[r[1]]=e,n[r[0]]=t+"px",++l>=10&&clearInterval(u)}),35);this.transitionInterval=u}},getScrolled:function(){return this.container[this.isHorizontal?"scrollLeft":"scrollTop"]}},ue.all=[],ue.styleZIndex=9e8,ue.prototype={init:function(){ue.zoomRange=A.magnifier.wheelZoom.range.slice(0).sort(((e,t)=>e-t)),ue.zoomRangeR=ue.zoomRange.slice(0).reverse(),this.addStyle(),ue.all.push(this);var e=i.createElement("span");e.className="pv-magnifier-container",z(i).appendChild(e),this.magnifier=e;var t={h:this.img.naturalHeight,w:this.img.naturalWidth};this.imgNaturalSize=t;var a=e.style;a.zIndex=ue.styleZIndex++;var r=Math.ceil(2*Math.sqrt(Math.pow(.5*t.w,2)+Math.pow(.5*t.h,2)));this.maxDia=r;var n=A.magnifier.radius;n=Math.min(r/2,n),this.radius=n;var o=2*n;this.diameter=o,a.width=o+"px",a.height=o+"px",a.borderRadius=n+1+"px",a.backgroundImage='url("'+this.img.src+'")',a.marginLeft=-n+"px",a.marginTop=-n+"px";var s=V(this.data.img),l=X(),c={x:[s.left+l.x,s.right+l.x],y:[s.top+l.y,s.bottom+l.y]},d=c.x[1]-c.x[0],p=c.y[1]-c.y[0],h=60;d<h&&(c.x[1]+=(h-d)/2,c.x[0]-=(h-d)/2,d=h),p<h&&(c.y[1]+=(h-p)/2,c.y[0]-=(h-p)/2,p=h),this.imgSize={w:d,h:p},this.imgRange=c,this.setMouseRange(),this.move({pageX:c.x[0],pageY:c.y[0]}),this._focus=this.focus.bind(this),this._blur=this.blur.bind(this),this._move=this.move.bind(this),this._remove=this.remove.bind(this),this._pause=this.pause.bind(this),this._zoom=this.zoom.bind(this),this._clickOut=this.clickOut.bind(this),this._keydown=this.keydown.bind(this),(A.magnifier.wheelZoom.enabled||!1!==A.magnifier.wheelZoom.scaleImage)&&(this.zoomLevel=1,this.defaultDia=o,de(e,this._zoom,!1)),e.addEventListener("mouseover",this._focus,!1),e.addEventListener("mouseout",this._blur,!1),e.addEventListener("dblclick",this._remove,!1),e.addEventListener("click",this._pause,!1),i.addEventListener("keydown",this._keydown,!0),i.addEventListener("mousemove",this._move,!0),i.addEventListener("mouseup",this._clickOut,!0)},addStyle:function(){ue.style?ue.style.parentNode||(ue.style=m(ue.style.innerText)):ue.style=m("                    .pv-magnifier-container{                    position:absolute;                    padding:0;                    margin:0;                    background-origin:border-box;                    -moz-box-sizing:border-box;                    box-sizing:border-box;                    border:3px solid #CCCCCC;                    background:rgba(40, 40, 40, 0.9) no-repeat;                    }                    .pv-magnifier-container_focus{                    box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.7);                    }                    .pv-magnifier-container_pause{                    border-color:red;                    }                    ")},clickOut:function(e){this.magnifier.classList.contains("pv-magnifier-container_focus")||this.remove(e)},focus:function(){this.magnifier.classList.add("pv-magnifier-container_focus"),this.magnifier.style.zIndex=ue.styleZIndex++},blur:function(){this.magnifier.classList.remove("pv-magnifier-container_focus")},move:function(e){var t={x:e.pageX,y:e.pageY},i=this.mouseRange,a=this.imgRange;if(t.x>=i.x[0]&&t.x<=i.x[1]&&t.y>=i.y[0]&&t.y<=i.y[1]){t.x>a.x[1]?t.x=a.x[1]:t.x<a.x[0]&&(t.x=a.x[0]),t.y>a.y[1]?t.y=a.y[1]:t.y<a.y[0]&&(t.y=a.y[0]);var r=this.magnifier.style;r.top=t.y+"px",r.left=t.x+"px";var n=this.radius,o=this.imgSize,s=this.imgNaturalSize,l=-(t.x-a.x[0])/o.w*s.w+n+"px",c=-(t.y-a.y[0])/o.h*s.h+n+"px";r.backgroundPosition=l+" "+c}},getNextZoomLevel:function(){var e,t=this;if(this.zoomOut){ue.zoomRangeR.find((function(i){if(i<t.zoomLevel)return e=i,!0}))||(e=.9*t.zoomLevel)}else{ue.zoomRange.find((function(i){if(i>t.zoomLevel)return e=i,!0}))||(e=1.1*t.zoomLevel)}return e},zoom:function(e){if(e.metaKey==!!A.magnifier.wheelZoom.meta&&e.altKey==!!A.magnifier.wheelZoom.alt&&e.ctrlKey==!!A.magnifier.wheelZoom.ctrl&&e.shiftKey==!!A.magnifier.wheelZoom.shift&&0!==e.deltaY){var t=this.magnifier.style;if(!A.magnifier.wheelZoom.pauseFirst||this.paused){if(A.magnifier.wheelZoom.enabled){if(e.preventDefault(),e.deltaY<0){if(this.diameter>=this.maxDia)return;this.zoomOut=!1}else this.zoomOut=!0;var i=this.getNextZoomLevel();if(i){this.zoomLevel=i;var a=this.defaultDia*i;a>this.maxDia&&(a=this.maxDia);var r=a/2;this.diameter=a;var n=this.radius;this.radius=r,this.setMouseRange(),t.width=a+"px",t.height=a+"px",t.borderRadius=r+1+"px",t.marginLeft=-r+"px",t.marginTop=-r+"px";var o=t.backgroundPosition.split(" ");t.backgroundPosition=parseFloat(o[0])+(r-n)+"px "+(parseFloat(o[1])+(r-n))+"px"}}}else if(!1!==A.magnifier.wheelZoom.scaleImage){let i=t.transform.match(/[\d\.]+/);i=i?parseFloat(i[0]):1,e.deltaY<0?i+=.1:i-=.1,i<.5&&(i=.5),t.transform=`scale(${i})`,e.preventDefault()}}},pause:function(){this.paused?(this.magnifier.classList.remove("pv-magnifier-container_pause"),i.addEventListener("mousemove",this._move,!0)):(this.magnifier.classList.add("pv-magnifier-container_pause"),i.removeEventListener("mousemove",this._move,!0)),this.paused=!this.paused},setMouseRange:function(){var e=this.imgRange,t=this.radius;this.mouseRange={x:[e.x[0]-t,e.x[1]+t],y:[e.y[0]-t,e.y[1]+t]}},keydown:function(e){e&&(e.preventDefault(),e.stopPropagation(),27==e.keyCode&&this.remove())},remove:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.magnifier.parentNode&&(this.magnifier.parentNode.removeChild(this.magnifier),ue.all.splice(ue.all.indexOf(this),1)),i.removeEventListener("mousemove",this._move,!0),i.removeEventListener("mouseup",this._clickOut,!0),i.removeEventListener("keydown",this._keydown,!0)}},me.all=[],me.overlayer=null,me.prototype={init:function(){me.showing=!0,me.zoomRange=A.imgWindow.zoom.range.slice(0).sort(((e,t)=>e-t)),me.zoomRangeR=me.zoomRange.slice(0).reverse();var e=this;if(Be&&!Be.removed&&Be.remove(),!this.preview&&me.all.find((function(t){if(t.src==e.src)return t.firstOpen(),!0})))return;this.addStyle();var t=this.img;t.className="pv-pic-window-pic pv-pic-ignored",t.style.cssText="                 top:0px;                 left:0px;                 ";var a={h:t.naturalHeight,w:t.naturalWidth};this.imgNaturalSize=a,this.following=!1;var n=i.createElement("span");n.style.cssText='                 cursor:pointer;                 top:0px;                 left:0px;                 opacity:0;                 background:black url("'+A.icons.loading+'") center no-repeat;                 ',n.className="pv-pic-window-container",n.innerHTML=I('<span class="pv-pic-window-imgbox transition-transform"></span><span class="pv-pic-window-rotate-indicator"><span class="pv-pic-window-rotate-indicator-pointer"></span></span><span class="pv-pic-window-rotate-overlayer"></span><span class="pv-pic-window-toolbar" unselectable="on"><span class="pv-pic-window-tb-hand pv-pic-window-tb-tool" title="'+s("hand")+'"></span><span class="pv-pic-window-tb-tool-badge-container pv-pic-window-tb-tool-extend-menu-container"><span class="pv-pic-window-tb-rotate pv-pic-window-tb-tool" title="'+s("rotate")+'(r)"></span><span class="pv-pic-window-tb-tool-badge">0</span><span class="pv-pic-window-tb-tool-extend-menu pv-pic-window-tb-tool-extend-menu-rotate"><span class="pv-pic-window-tb-tool-extend-menu-item" title="+90"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4332"><path d="M435.2 362.666667l179.2-179.2L435.2 0 375.466667 59.733333l76.8 76.8H341.333333c-119.466667 0-213.333333 93.866667-213.333333 213.333334v170.666666h85.333333v-170.666666c0-72.533333 55.466667-128 128-128h115.2L375.466667 302.933333l59.733333 59.733334zM853.333333 384H426.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h426.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V426.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666666 426.666667h-341.333334v-341.333334h341.333334v341.333334z" p-id="4333"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="-90"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4595"><path d="M682.666667 136.533333h-115.2l76.8-76.8L588.8 0 405.333333 179.2l179.2 179.2L644.266667 298.666667l-76.8-76.8H682.666667c72.533333 0 128 55.466667 128 128v170.666666h85.333333v-170.666666c0-115.2-93.866667-213.333333-213.333333-213.333334zM597.333333 384H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h426.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V426.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666666 426.666667H213.333333v-341.333334h341.333334v341.333334z" p-id="4596"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="0"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3716"><path d="M867.89 574.16a30.73 30.73 0 0 0-37.52 21.92c-38 144.83-169.31 246-319.25 246a330.71 330.71 0 0 1-306.27-206.82h60.29l-92.78-123.5-91.82 123.5h58.88q1.23 3.72 2.53 7.4A391.65 391.65 0 0 0 511.12 903.5c177.86 0 333.58-120 378.69-291.82a30.73 30.73 0 0 0-21.92-37.52zM153.88 452.57a30.69 30.69 0 0 0 37.35-22.2A329.68 329.68 0 0 1 511.12 182c136.8 0 256.58 82 306.4 207h-60.66l92.78 123.5L941.46 389h-58.58a391.63 391.63 0 0 0-751.2 26.24 30.73 30.73 0 0 0 22.2 37.33z" p-id="3717"></path></svg></span></span></span><span class="pv-pic-window-tb-tool-badge-container pv-pic-window-tb-tool-extend-menu-container"><span class="pv-pic-window-tb-zoom pv-pic-window-tb-tool" title="'+s("scale")+'(z)"></span><span class="pv-pic-window-tb-tool-badge">0</span><span class="pv-pic-window-tb-tool-extend-menu pv-pic-window-tb-tool-extend-menu-zoom"><span id="pv-pic-zoom-in" class="pv-pic-window-tb-tool-extend-menu-item" title="+0.1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3134"><path d="M754.2 151.5h-89.5v42.7h89.5c59.5 0 108 48.4 108 108v67.6h42.7v-67.6c0-83.1-67.6-150.7-150.7-150.7zM862.2 737.3c0 59.5-48.4 108-108 108h-89.5V888h89.5c83.1 0 150.7-67.6 150.7-150.7v-67.6h-42.7v67.6zM166.3 737.8v-67.6h-42.7v67.6c0 83.1 67.6 150.7 150.7 150.7h89.5v-42.7h-89.5c-59.5 0-108-48.4-108-108zM416.3 261.8h-42.8v126H247.6v42.7h125.9V556h42.8V430.5h125.4v-42.7H416.3zM773.6 789.4l30.2-30.2-190.1-190.6c32.7-44.8 52-99.9 52-159.5 0-149.7-121.6-271.3-271.3-271.3-149.3 0-271.3 121.6-271.3 271.3 0 149.3 121.5 271.3 271.3 271.3 74.5 0 142.3-30.3 191.4-79.3l187.8 188.3zM394.4 637.7c-126 0-228.6-102.5-228.6-228.6s102.5-228.6 228.6-228.6S623 283.1 623 409.2 520.5 637.7 394.4 637.7z" p-id="3135"></path></svg></span><span id="pv-pic-zoom-out" class="pv-pic-window-tb-tool-extend-menu-item" title="-0.1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2674"><path d="M754.2 151.5h-89.5v42.7h89.5c59.5 0 108 48.4 108 108v67.6h42.7v-67.6c0-83.1-67.6-150.7-150.7-150.7zM862.2 737.3c0 59.5-48.4 108-108 108h-89.5V888h89.5c83.1 0 150.7-67.6 150.7-150.7v-67.6h-42.7v67.6zM166.3 737.8v-67.6h-42.7v67.6c0 83.1 67.6 150.7 150.7 150.7h89.5v-42.7h-89.5c-59.5 0-108-48.4-108-108zM247.6 387.8h294.2v42.7H247.6zM773.6 789.4l30.2-30.2-190.1-190.6c32.7-44.8 52-99.9 52-159.5 0-149.7-121.6-271.3-271.3-271.3-149.3 0-271.3 121.6-271.3 271.3 0 149.3 121.6 271.3 271.3 271.3 74.5 0 142.3-30.3 191.4-79.3l187.8 188.3zM394.4 637.7c-126 0-228.6-102.5-228.6-228.6s102.5-228.6 228.6-228.6S623 283.1 623 409.2 520.5 637.7 394.4 637.7z" p-id="2675"></path></svg></span><span class="pv-pic-window-tb-tool-extend-menu-item" title="1"><svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3716"><path d="M867.89 574.16a30.73 30.73 0 0 0-37.52 21.92c-38 144.83-169.31 246-319.25 246a330.71 330.71 0 0 1-306.27-206.82h60.29l-92.78-123.5-91.82 123.5h58.88q1.23 3.72 2.53 7.4A391.65 391.65 0 0 0 511.12 903.5c177.86 0 333.58-120 378.69-291.82a30.73 30.73 0 0 0-21.92-37.52zM153.88 452.57a30.69 30.69 0 0 0 37.35-22.2A329.68 329.68 0 0 1 511.12 182c136.8 0 256.58 82 306.4 207h-60.66l92.78 123.5L941.46 389h-58.58a391.63 391.63 0 0 0-751.2 26.24 30.73 30.73 0 0 0 22.2 37.33z" p-id="3717"></path></svg></span></span></span><span class="pv-pic-window-tb-flip-horizontal pv-pic-window-tb-command" title="'+s("horizontalFlip")+'"></span><span class="pv-pic-window-tb-flip-vertical pv-pic-window-tb-command" title="'+s("verticalFlip")+'"></span><span class="pv-pic-window-tb-compare pv-pic-window-tb-command" title="'+s("compareBtn")+'"></span></span><span class="pv-pic-window-max"  title="'+s("gallery")+'(g)"></span><span class="pv-pic-window-close"></span><svg class="pv-pic-window-scrollSign" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><ellipse ry="501.5" rx="331.5" cy="510.78408" cx="514.68283" stroke="#000" fill="#fff"/><path d="M512 212.468019m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM512 383.400936m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM512 554.333853m-43.132605 0a43.132605 43.132605 0 1 0 86.26521 0 43.132605 43.132605 0 1 0-86.26521 0ZM609.447738 651.781591L512 749.229329l-97.447738-97.447738c-17.572543-17.572543-43.132605-17.572543-59.107644 0s-17.572543 43.132605 0 59.107645l127.800312 127.800312c7.98752 7.98752 20.767551 12.780031 30.352574 12.780031s20.767551-4.792512 30.352574-12.780031l127.800312-127.800312c17.572543-17.572543 17.572543-43.132605 0-59.107645-19.170047-17.572543-44.730109-17.572543-62.302652 0zM555.132605 0h-84.667706C302.726989 0 171.731669 132.592824 171.731669 298.733229v426.533542c0 166.140406 132.592824 298.733229 298.73323 298.733229h84.667706c166.140406 0 298.733229-132.592824 298.73323-298.733229V298.733229C852.268331 132.592824 721.273011 0 555.132605 0zM767.600624 723.669267c0 119.812793-94.25273 212.468019-212.468019 212.468018h-84.667706c-119.812793 0-212.468019-94.25273-212.468019-212.468018V298.733229c0-119.812793 94.25273-212.468019 212.468019-212.468018h84.667706c119.812793 0 212.468019 94.25273 212.468019 212.468018v424.936038z"></path></svg><span class="pv-pic-window-range"></span><span class="pv-pic-window-description"></span><span class="pv-pic-window-pre"></span><span class="pv-pic-window-next"></span><span class="pv-pic-search-state"><span></span>'+A.icons.downloadSvgBtn+"</span>");let o=n.firstChild;o.appendChild(t),this.imgWindow=n;var c={hand:n.querySelector(".pv-pic-window-tb-hand"),rotate:n.querySelector(".pv-pic-window-tb-rotate"),zoom:n.querySelector(".pv-pic-window-tb-zoom"),fh:n.querySelector(".pv-pic-window-tb-flip-horizontal"),fv:n.querySelector(".pv-pic-window-tb-flip-vertical"),compare:n.querySelector(".pv-pic-window-tb-compare")};this.toolMap=c;var d=n.querySelector(".pv-pic-window-pre");d.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.switchImage(!1)}),!1);var p=n.querySelector(".pv-pic-window-next");p.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.switchImage(!0)}),!1),re&&(re.shown||re.minimized)&&(d.style.display="none",p.style.display="none"),this.imgStateBox=n.querySelector(".pv-pic-search-state"),this.imgState=n.querySelector(".pv-pic-search-state>span"),this.preButton=n.querySelector(".pv-pic-window-pre"),this.nextButton=n.querySelector(".pv-pic-window-next");let h=n.querySelector(".pv-pic-search-state>svg");h&&h.addEventListener("click",(function(t){e.data&&e.img?(t.preventDefault(),t.stopPropagation(),t.altKey||t.ctrlKey||t.metaKey||t.shiftKey?l(e.img.src,{active:!1}):j(e.img.src,e.data.img.title||e.data.img.alt,A.saveName)):r(e)}),!0);var u=n.querySelector(".pv-pic-window-close");u.style.cssText="top: -22px;right: 0px;",this.closeButton=u,u.addEventListener("click",(function(t){e.remove()}),!1);var m=n.querySelector(".pv-pic-window-max");if(m.style.cssText="top: -22px;right: 46px;",this.maxButton=m,m.addEventListener("click",(async function(i){re||((re=new he).data=[]);var a=await re.getAllValidImgs();a.length<1||(a.target={src:t.src},re.data=a,re.load(re.data),e.remove())}),!1),t.onerror=function(i){var a;!e.removed&&e.isImg&&(console.info(t.src+" "+s("loadError")),e.data&&(e.data.srcs&&(a=e.data.srcs.shift()),a?t.src=a:t.src!=e.data.imgSrc&&(t.src=e.data.imgSrc)))},this.curIndex=-1,this.data&&this.data.all&&this.data.all.length>1)for(let e=0;e<this.data.all.length;e++)if(this.data.all[e].replace(/^(video|audio):/,"")==this.data.src){this.curIndex=e;break}if(t.onload=function(i){if(!e.removed)if(e.loaded=!0,n.style.background="",e.preview&&1==t.naturalHeight&&1==t.naturalWidth)e.remove();else{e.imgWindow.style.display="",e.imgNaturalSize={h:t.naturalHeight,w:t.naturalWidth},e.setToolBadge("zoom",e.zoomLevel),e==Be&&A.floatBar.globalkeys.previewFollowMouse?e.followPos(We,Ze):e.zoomed||(e.imgWindow.classList.contains("pv-pic-window-scroll")||(e.zoomLevel=0,e.zoom(1)),e==Be&&e.initMaxSize(),A.imgWindow.fitToScreen&&e.fitToScreen(),e.initPos?(e.imgWindow.style.left=e.initPos.left,e.imgWindow.style.top=e.initPos.top):e.center(!0,!0)),e.imgWindow.style.opacity=1,e.keepScreenInside();var a=J();a.h-=16,a.w-=16,e.isLongImg=e.imgNaturalSize.h>=a.h&&e.imgNaturalSize.h/e.imgNaturalSize.w>2.5}},a.h&&a.w&&(n.style.background="",U(`<strong>${t.naturalWidth} x ${t.naturalHeight}</strong>`,e.imgState)),this.isImg||(t.naturalHeight=t.videoHeight||80,t.naturalWidth=t.videoWidth||300,setTimeout((()=>{t.onload()}),0)),this.data){var g=n.querySelector(".pv-pic-window-description");let e=(this.data.description||"").trim();g.textContent=e,this.imgStateBox.title=e,g.style.display=e?"inline":"none",this.descriptionSpan=g}var f=n.querySelector(".pv-pic-window-toolbar");f.style.cssText="                top: 0px;                left: -42px;                ",this.toolbar=f,this.selectedToolClass="pv-pic-window-tb-tool-selected",this.viewRange=n.querySelector(".pv-pic-window-range"),this.rotateIndicator=n.querySelector(".pv-pic-window-rotate-indicator"),this.rotateIPointer=n.querySelector(".pv-pic-window-rotate-indicator-pointer"),this.rotateOverlayer=n.querySelector(".pv-pic-window-rotate-overlayer"),this.hKeyUp=!0,this.rKeyUp=!0,this.zKeyUp=!0,this.spaceKeyUp=!0,this.ctrlKeyUp=!0,this.altKeyUp=!0,this.shiftKeyUp=!0,this.moving=!1,n.querySelector(".pv-pic-window-tb-tool-extend-menu-zoom").addEventListener("click",(function(t){var i;switch(t.target.title){case"1":i=1;break;case"+0.1":i=e.zoomLevel+.1;break;case"-0.1":i=e.zoomLevel-.1}void 0!==i&&e.zoom(i,{x:0,y:0})}),!0),n.querySelector(".pv-pic-window-tb-tool-extend-menu-rotate").addEventListener("click",(function(t){var i;function a(e){return e*Math.PI/180}switch(t.target.title){case"0":i=0;break;case"+90":i=e.rotatedRadians+a(90);break;case"-90":i=e.rotatedRadians-a(90)}var r=Math.PI;void 0!==i&&(i>=2*r?i-=2*r:i<0&&(i+=2*r),e.rotate(i,!0))}),!0),f.addEventListener("mousedown",(function(t){e.toolbarEventHandler(t)}),!1),f.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}),!1),f.addEventListener("dblclick",(function(t){e.toolbarEventHandler(t)}),!1),t.addEventListener("mousedown",(function(e){e.preventDefault()}),!1);let v=setTimeout((()=>{this!==Be&&n.classList.add("hideToolbar")}),800);if(o.addEventListener("mousemove",(function(e){e.preventDefault(),clearTimeout(v),n.classList.remove("hideToolbar"),v=setTimeout((()=>{n.classList.add("hideToolbar")}),800)}),!1),o.addEventListener("mouseleave",(function(e){e.preventDefault(),clearTimeout(v),n.classList.remove("hideToolbar")}),!1),n.addEventListener("mousedown",(function(t){e.imgWindowEventHandler(t)}),!1),n.addEventListener("touchstart",(function(t){e.imgWindowEventHandler(t)}),{passive:!0,capture:!1}),n.addEventListener("click",(function(t){e.imgWindowEventHandler(t)}),!1),A.imgWindow.zoom.mouseWheelZoom&&de(n,(function(t){!t.target||"pv-pic-window-next"!=t.target.className&&"pv-pic-window-pre"!=t.target.className?(e.imgWindowEventHandler(t),clearTimeout(v),n.classList.remove("hideToolbar"),v=setTimeout((()=>{n.classList.add("hideToolbar")}),800)):t.preventDefault&&t.preventDefault()}),!1),A.imgWindow.overlayer.shown&&A.imgWindow.close.clickOutside){var y=function(t){var a=t.target;n.contains(a)||(e.remove(),i.removeEventListener(A.imgWindow.close.clickOutside,y,!0))};this.clickOutside=y,i.addEventListener(A.imgWindow.close.clickOutside,y,!0)}if(A.imgWindow.close.dblClickImgWindow){n.addEventListener("dblclick",(function(i){var a=i.target;a!=n&&a!=t&&a!=e.imgState&&a!=e.rotateOverlayer||(e.remove(),i.stopPropagation()),i.preventDefault()}),!0)}if(this.preview||me.all.push(this),this._blur=this.blur.bind(this),this._focusedKeydown=this.focusedKeydown.bind(this),this._focusedKeyup=this.focusedKeyup.bind(this),A.imgWindow.overlayer.shown){var b=me.overlayer;b||(b=i.createElement("span"),me.overlayer=b,b.className="pv-pic-window-overlayer"),b.style.backgroundColor=A.imgWindow.overlayer.color,z(i).appendChild(b),b.style.display="block"}A.imgWindow.backgroundColor&&(this.imgWindow.style.backgroundColor=A.imgWindow.backgroundColor),re&&re.shown?i.documentElement.appendChild(n):z(i).appendChild(n),this.rotatedRadians=0,this.zoomLevel=0,this.zoom(1),this.setToolBadge("zoom",1),this.firstOpen(),this.imgWindow.style.opacity=1,this.selectTool(A.imgWindow.defaultTool)},geneCompareImg:function(e,a){let r=i.createElement("div"),n=i.createElement("div");n.className="compareImgCon";let o=i.createElement("img"),s=i.createElement("div");s.className="compareSlider",s.title="Right mouse to bottom, hold to top",n.style.width=a+"%",s.style.left=a+"%";let l,c,d=i.createElement("button"),p=this,h=e=>{if(l&&Math.abs(c-e.pageX)>10&&(clearTimeout(l),l=null),""==d.style.display)return i.removeEventListener("mousemove",h),void i.removeEventListener("touchmove",h);e=e.changedTouches?e.changedTouches[0]:e;let a=p.img.getBoundingClientRect(),r=e.pageX-a.left;r-=t.pageXOffset,r<0&&(r=0),r>a.width&&(r=a.width),n.style.width=r/a.width*100+"%",s.style.left=r/a.width*100+"%"},u=e=>{d.style.display="none",c=e.pageX,clearTimeout(l),l=setTimeout((()=>{p.compareBox.appendChild(r)}),1e3),i.addEventListener("mousemove",h),i.addEventListener("touchmove",h),e.preventDefault(),e.stopPropagation();let t=e=>{clearTimeout(l),d.style.display="",i.removeEventListener("mousemove",h)};i.addEventListener("mouseup",t),i.addEventListener("touchend",t)};return s.addEventListener("mousedown",u),s.addEventListener("contextmenu",(e=>{p.compareBox.insertBefore(r,p.compareBox.firstChild),e.preventDefault(),e.stopPropagation()})),s.addEventListener("touchstart",u),s.appendChild(d),o.src=e,n.appendChild(o),r.appendChild(n),r.appendChild(s),r},compare:function(e){if(!e||0===e.length)return;if(!this.compareBox){let e=i.createElement("div");e.className="compareBox",this.compareBox=e,this.img.parentNode.appendChild(e),this.imgWindow.classList.add("compare")}this.compareBox.innerHTML=I("");let t,a=this,r=0,n=[];e.forEach((t=>{r++;let i=100-r*(100/(e.length+1)),o=a.geneCompareImg(t,i);a.compareBox.appendChild(o),n.unshift(o.children[0])})),this.img.addEventListener("mousedown",(e=>{t=null;let i=e.offsetX/a.img.clientWidth*100;for(let e=0;e<n.length;e++){let a=n[e];if(i<parseInt(a.style.width)){t=a,t.style.opacity=0;break}}null==t&&(a.img.style.opacity=0,n[n.length-1].style.overflow="visible")})),this.img.addEventListener("mouseup",(e=>{t?t.style.opacity="":(a.img.style.opacity="",n[n.length-1].style.overflow="")})),this.preButton.style.display="none",this.nextButton.style.display="none"},switchImage:async function(e){if(this.data&&this.data.all&&this.data.all.length>1){let t=!!A.imgWindow.switchStoreLoc&&{left:this.imgWindow.style.left,top:this.imgWindow.style.top};this.remove();let i,a=this.data;for(i=0;i<this.data.all.length&&this.data.all[i].replace(/^(video|audio):/,"")!=this.data.src;i++);e?(i++,i==this.data.all.length&&(i=0)):(i--,-1==i&&(i=this.data.all.length-1)),a.xhr=null,a.src=this.data.all[i];let r="actual";return Be&&Be==this&&(Be=null,r="popup"),void new ge(a,r,!1,!0,t)}if(re||((re=new he).data=[]),re.shown||re.minimized)return;var t=await re.getAllValidImgs(!1,!0);if(t.length<=1)return;const i=(e,t)=>!!(e&&e.img&&e.img.parentNode)&&(!e.img.parentNode.classList.contains("pv-pic-window-container")&&(e.src!=t&&!(e.src&&/^data:/.test(e.src)&&e.src.length<250)));if(this.data.img){for(let a=0;a<t.length;a++){let r=t[a];if(r.img==this.data.img){if(e){if(a!=t.length-1){for(a++,r=t[a];!i(r,this.data.src);){if(a++,a==t.length)return;r=t[a]}if(r&&r.img){let e=!!A.imgWindow.switchStoreLoc&&{left:this.imgWindow.style.left,top:this.imgWindow.style.top};this.remove(),new ge(r,this.actual?"actual":"current",!1,!0,e)}}}else if(0!=a){for(a--,r=t[a];!i(r,this.data.src);){if(a--,-1==a)return;r=t[a]}if(r){let e=!!A.imgWindow.switchStoreLoc&&{left:this.imgWindow.style.left,top:this.imgWindow.style.top};this.remove(),new ge(r,this.actual?"actual":"current",!1,!0,e)}}return}}if(this.data.img.src)for(let a=0;a<t.length;a++){let r=t[a];if(r.img&&r.img.src==this.data.img.src){if(e){if(a!=t.length-1){for(a++,r=t[a];!i(r,this.data.src);){if(a++,a==t.length)return;r=t[a]}if(r&&r.img){let e=!!A.imgWindow.switchStoreLoc&&{left:this.imgWindow.style.left,top:this.imgWindow.style.top};this.remove(),new ge(r,this.actual?"actual":"current",!1,!0,e)}}}else if(0!=a){for(a--,r=t[a];!i(r,this.data.src);){if(a--,-1==a)return;r=t[a]}if(r){let e=!!A.imgWindow.switchStoreLoc&&{left:this.imgWindow.style.left,top:this.imgWindow.style.top};this.remove(),new ge(r,this.actual?"actual":"current",!1,!0,e)}}return}}}},changeData:function(e){this.src!=e.src&&(this.loaded=!1,this.data=e,this.src=e.src,this.img.src="https"==location.protocol?e.src.replace(/^https?:/,""):e.src)},addStyle:function(){me.style?me.style.parentNode||(me.style=m(me.style.innerText)):me.style=m("                    .pv-pic-window-container {                    "+(A.imgWindow.fixed?"position: fixed;":"position: absolute;")+'                    background-image: initial;                    padding: 0;                    border: 3px solid rgb(255 255 255 / 50%);                    border-radius: 1px;                    line-height: 0;                    text-align: left;                    box-sizing: content-box;                    -webkit-transition: opacity 0.2s ease-out;                    transition: opacity 0.1s ease-out;                    overscroll-behavior: none;                    box-shadow: 0 0 6px 2px rgba(0,0,0,0.35);                    box-sizing: content-box;                    display: initial;                    background: #00000080;                    }                    .pv-pic-window-container span {                    background-image: initial;                    float: initial;                    }                    .pv-pic-window-transition-all{                    -webkit-transition: top 0.2s ease, left 0.2s ease;                    transition: top 0.2s ease, left 0.2s ease;                    }                    .pv-pic-window-imgbox {                    position: relative;                    display: block;                    overflow: hidden;                    background-color: rgba(40, 40, 40, 0.65);                    }                    .pv-pic-window-container .compareBox {                    position: absolute;                    top: 0;                    left: 0;                    width: 100%;                    height: 100%;                    pointer-events: none;                    }                    .pv-pic-window-container .compareBox>div {                    width: 100%;                    height: 100%;                    position: absolute;                    }                    .pv-pic-window-container .compareBox>div>.compareImgCon {                    width: 100%;                    max-width: 100%;                    height: 100%;                    overflow: hidden;                    }                    .pv-pic-window-container .compareBox>div>.compareImgCon>img {                    width: auto;                    height: 100%;                    max-width: unset;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider {                    position: absolute;                    top: 0;                    bottom: 0;                    width: 2px;                    background-color: rgba(255,255,255,.5);                    border-top: 0;                    border-bottom: 0;                    box-shadow: 0 0 2px rgba(0,0,0,.5);                    overflow: visible;                    z-index: 9;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider>button {                    position: absolute;                    top: calc(50% - 40px);                    left: -4px;                    width: 10px;                    background-color: #ddd;                    border: 4px solid #fff;                    height: 80px;                    text-align: center;                    padding: 0;                    outline: 0;                    cursor: ew-resize;                    box-shadow: 0 0 2px rgba(0,0,0,.5);                    pointer-events: all;                    box-sizing: border-box;                    background-image: none;                    }                    .pv-pic-window-container .compareBox>div>.compareSlider>button:hover {                    background-color: #777;                    }                    .pv-pic-window-close,                    .pv-pic-window-max,                    .pv-pic-window-search,                    .pv-pic-window-toolbar,                    .pv-pic-window-tb-tool-extend-menu{                    -webkit-transition: opacity 0.2s ease-in-out;                    transition: opacity 0.2s ease-in-out;                    box-sizing: content-box;                    }                    .pv-pic-window-toolbar {                    position: absolute;                    background-color: #535353;                    padding: 0;                    opacity: 0.5;                    display: none;                    cursor: default;                    -o-user-select: none;                    -webkit-user-select: none;                    -moz-user-select: -moz-none;                    user-select: none;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-toolbar {                    display: block;                    }                    .pv-pic-window-toolbar:hover,                    .pv-pic-window-container>.pv-pic-window-toolbar.insert:hover{                    opacity: 1;                    }                    span.pv-pic-window-close {                    cursor: pointer;                    position: absolute;                    right: 0px;                    top: -22px;                    background: url("'+A.icons.close+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.5;                    border:none;                    padding:0;                    padding-top:2px!important;                    background-color:#1771FF;                    display: none;                    z-index: 2;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-close {                    display: block;                    }                    span.pv-pic-window-search {                    cursor: pointer;                    position: absolute;                    right: 50px;                    top: -22px;                    background: url("'+A.icons.searchBtn+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.9;                    border:none;                    padding:0;                    padding-top:2px;                    background-color:#1771FF;                    display: none;                    }                    span.pv-pic-window-max {                    cursor: pointer;                    position: absolute;                    right: 46px;                    top: -22px;                    background: url("'+A.icons.maxBtn+'") no-repeat center bottom;                    height: 17px;                    width: 46px;                    opacity: 0.5;                    border:none;                    border-right: 1px solid #868686;                    padding:0;                    padding-top:2px!important;                    background-color:#1771FF;                    display: none;                    z-index: 2;                    }                    .pv-pic-window-container>.pv-pic-window-max:hover,                    .pv-pic-window-container>.pv-pic-window-close:hover,                    .pv-pic-window-container>.pv-pic-window-max.insert:hover,                    .pv-pic-window-container>.pv-pic-window-close.insert:hover {                    background-color:red;                    opacity: 1!important;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-max {                    display: block;                    }                    .pv-pic-window-search:hover {                    background-color:red;                    opacity: 1;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-window-search {                    display: block;                    }                    .pv-pic-window-description {                    display: none;                    background: yellow;                    margin: 0 -5px 0 15px!important;                    padding: 3px!important;                    color: black;                    text-shadow: 0 0 0px black;                    }                    .pv-pic-window-description::before {                    display: inline-block;                    content:"";                    position: absolute;                    border: 10px solid transparent;                    margin-left: -22px;                    top: -1px;                    border-right-color: yellow;                    }                    span.pv-pic-window-pre,                    span.pv-pic-window-next{                    -webkit-transition: opacity 0.3s ease;                    transition: opacity 0.3s ease;                    position: absolute;                    height: 100px;                    top: calc(50% - 50px);                    width: 36px;                    background: #ffffff60 no-repeat center;                    opacity: 0;                    cursor: pointer;                    pointer-events: none;                    }                    span.pv-pic-window-pre {                    left: 0;                    background-image: url("'+A.icons.arrowLeft+'");                    }                    span.pv-pic-window-next {                    right: 0;                    background-image: url("'+A.icons.arrowRight+'");                    }                    .compare>.pv-pic-search-state{                    display: none;                    }                    .pv-pic-window-container_focus:not(.preview)>.pv-pic-search-state {                    opacity:0.8;                    }                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-imgbox{                    cursor: none;                    }                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-search-state,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-toolbar,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-max,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-close,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-pre,                    .pv-pic-window-container_focus.hideToolbar>.pv-pic-window-next{                    opacity:0!important;                    }                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox:hover~.pv-pic-window-pre,                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox:hover~.pv-pic-window-next{                    opacity:0.3;                    pointer-events: all;                    }                    .pv-pic-window-container>.pv-pic-window-pre:hover,                    .pv-pic-window-container>.pv-pic-window-next:hover{                    opacity:1;                    pointer-events: all;                    }                    .pv-pic-window-container_focus:hover>.pv-pic-search-state{                    border-radius: 0 0 8px 0;                    top: 0px;                    pointer-events: all;                    }                    .pv-pic-window-container>.pv-pic-window-pre:hover~span.pv-pic-search-state,                    .pv-pic-window-container>.pv-pic-window-next:hover~span.pv-pic-search-state{                    opacity:0;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover{                    overflow:visible;                    background:none;                    box-shadow:none;                    opacity: 1;                    height: 30px;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover>span{                    opacity: 0;                    }                    .pv-pic-window-container>span.pv-pic-search-state:hover>svg{                    display: block;                    }                    span.pv-pic-search-state {                    top: -21px;                    left: 0px;                    display: block;                    position: absolute;                    z-index: 1;                    color: #ffff00;                    height: 18px;                    line-height: 18px;                    opacity:0.8;                    transition: all 0.3s ease;                    user-select: none;                    -webkit-box-sizing: content-box;                    box-sizing: content-box;                    border-radius: 1px;                    background: rgb(0 0 0 / 80%);                    max-width: 100%;                    overflow: hidden;                    font: 13px / 1.4em "Trebuchet MS", sans-serif;                    pointer-events: none;                    }                    .pv-pic-search-state>span {                    pointer-events: none;                    padding: 1px 5px!important;                    white-space: nowrap;                    overflow: hidden;                    }                    .pv-pic-search-state>span>b {                    background: yellow;                    color: black;                    margin-right: -5px;                    padding: 3px;                    }                    .pv-pic-search-state>span>strong {                    background: inherit;                    color: inherit;                    }                    span.pv-pic-search-state>.pv-icon {                    width: 20px;                    height: 20px;                    vertical-align: middle;                    fill: currentColor;                    overflow: hidden;                    position: absolute;                    left: 1px;                    top: 1px;                    background: black;                    border-radius: 15px;                    padding: 5px;                    color: white;                    cursor: pointer;                    display: none;                    box-sizing: content-box;                    transition: all 0.3s ease;                    }                    .pv-pic-search-state>.pv-icon:hover {                    color: #ffff00;                    }                    .pv-pic-search-state>.pv-icon * {                    pointer-events: none;                    }                    .pv-pic-window-scrollSign {                    display: none;                    width: 100px;                    height: auto;                    fill: black;                    top: 10px;                    right: 0px;                    position: absolute;                    opacity: 0;                    -webkit-animation: scroll_sign_opacity 2s 3 ease-in-out;                    animation: scroll_sign_opacity 2s 3 ease-in-out;                    }                    @-webkit-keyframes scroll_sign_opacity {                      0% { opacity: 0 }                      50% { opacity: 1 }                      100% { opacity: 0 }                    }                    @keyframes scroll_sign_opacity {                      0% { opacity: 0 }                      50% { opacity: 1 }                      100% { opacity: 0 }                    }                    .pv-pic-window-scroll {                    max-height: calc(100vh - 2px);                    max-width: 100vw;                    }                    .pv-pic-window-scroll>.pv-pic-window-imgbox {                    max-height: calc(100vh - 2px);                    max-width: 100vw;                    overflow-y: scroll;                    overflow-x: hidden;                    overscroll-behavior: contain;                    -ms-scroll-chaining: contain;                    scrollbar-color: initial;                    }                    .pv-pic-window-scroll>.pv-pic-window-scrollSign {                    display: block;                    }                    .pv-pic-window-scroll>.pv-pic-window-close,                    .pv-pic-window-scroll>.pv-pic-window-max {                    display: none;                    }                    .pv-pic-window-black>.pv-pic-window-imgbox>img {                    background: black!important;                    }                    .pv-pic-window-white>.pv-pic-window-imgbox>img {                    background: white!important;                    }                    .transition-transform{                    transition: transform 0.3s ease;                    }                    .transition-all{                    transition: all 0.3s ease;                    }                    .pv-pic-window-pic {                    position: relative;                    display:inline-block;/*operadisplay:block*/                    max-width:unset;                    min-width:unset;                    max-height:unset;                    min-height:unset;                    width:inherit;                    height:inherit;                    padding:0;                    margin:0;                    border:none;                    vertical-align:middle;                    }                    .pv-pic-window-container.preview {                    pointer-events: none;                    }                    .pv-pic-window-container_focus:not(.preview) .pv-pic-window-imgbox {                    box-shadow: 0 0 6px black;                    }                    span.pv-pic-window-container_focus:not(.preview) .pv-pic-window-pic {                    background: linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% ), linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 75%, rgba(255, 255, 255, 0.4) 75%, rgba(255, 255, 255, 0.4) 100% );                    background-size: 20px 20px;                    background-position: 0 0, 10px 10px;                    }                    span.pv-pic-window-tb-tool,                    span.pv-pic-window-tb-command{                    box-sizing:content-box;                    -moz-box-sizing:content-box;                    -webkit-box-sizing:content-box;                    height: 24px;                    width: 24px;                    padding: 12px 8px 6px 6px!important;                    margin:0;                    display: block;                    background: transparent no-repeat center;                    cursor: pointer;                    position: relative;                    border: none;                    border-left: 2px solid transparent;                    border-bottom: 1px solid #868686;                    background-origin: content-box;                    }                    .pv-pic-window-toolbar > span:last-child {                    border-bottom: none;                    }                    .pv-pic-window-tb-tool:hover,                    .pv-pic-window-tb-command:hover{                    border-left: 2px solid red;                    }                    .pv-pic-window-tb-tool-selected{                    box-shadow: inset 0 21px 0 rgba(255,255,255,0.3) ,inset 0 -21px 0 rgba(0,0,0,0.3);                    border-left:2px solid #1771FF;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-hand {                    background-image: url("'+A.icons.hand+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-rotate {                    background-image: url("'+A.icons.rotate+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-zoom {                    background-image: url("'+A.icons.zoom+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-flip-horizontal {                    background-image: url("'+A.icons.flipHorizontal+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-flip-vertical {                    background-image: url("'+A.icons.flipVertical+'")!important;                    }                    .pv-pic-window-toolbar span.pv-pic-window-tb-compare {                    background-image: url("'+A.icons.compare+'")!important;                    }                    .pv-pic-window-tb-tool-badge-container {                    display: block;                    position: relative;                    }                    span.pv-pic-window-tb-tool-badge {                    position: absolute;                    top: -3px;                    right: 1px;                    font-size: 10px;                    line-height: 1.5;                    padding: 0 3px;                    background-color: #F93;                    border-radius: 50px;                    opacity: 0.5;                    color: black;                    }                    span.pv-pic-window-tb-tool-extend-menu{                    position:absolute;                    top:0;                    margin-left:-1px;                    background-color:#535353;                    display:none;                    left:40px;                    color:#C3C3C3;                    font-size:12px;                    text-shadow:0px -1px 0px black;                    opacity:0.7;                    }                    .pv-pic-window-tb-tool-extend-menu:hover{                    opacity:0.9;                    }                    .pv-pic-window-tb-tool-extend-menu-item{                    display:block;                    line-height:1.5;                    text-align:center;                    padding:10px!important;                    cursor:pointer;                    border: none;                    border-right: 2px solid transparent;                    border-bottom: 1px solid #868686;                    font-size: 20px;                    }                    .pv-pic-window-tb-tool-extend-menu-item>svg{                    pointer-events: none;                    }                    .pv-pic-window-tb-tool-extend-menu-item:last-child{                    border-bottom: none;                    }                    .pv-pic-window-tb-tool-extend-menu-item:hover{                    border-right:2px solid red;                    }                    .pv-pic-window-tb-tool-extend-menu-item:active{                    padding:11px 9px 9px 11px;                    }                    .pv-pic-window-tb-tool-extend-menu-container:hover .pv-pic-window-tb-tool{                    border-left:2px solid red;                    }                    .pv-pic-window-tb-tool-extend-menu-container:hover .pv-pic-window-tb-tool-extend-menu{                    display:block;                    }                    .pv-pic-window-tb-tool-extend-menu-container::after{                    content:"";                    position:absolute;                    right:1px;                    bottom:2px;                    width:0;                    height:0;                    padding:0;                    margin:0;                    border:3px solid #C3C3C3;                    border-top-color:transparent;                    border-left-color:transparent;                    opacity:0.5;                    }                    .pv-pic-window-overlayer{                    height:100%;                    width:100%;                    position:fixed;                    top:0;                    left:0;                    z-index: '+A.imgWindow.zIndex+';                    }                    span.pv-pic-window-rotate-indicator{                    display:none;                    position:fixed;                    width:250px;                    height:250px;                    padding:10px;                    margin-top:-135px;                    margin-left:-135px;                    background:transparent url("'+A.icons.rotateIndicatorBG+'") no-repeat center;                    }                    span.pv-pic-window-rotate-indicator-pointer{                    display:block;                    margin-left:auto;                    margin-right:auto;                    background:transparent url("'+A.icons.rotateIndicatorPointer+'") no-repeat center;                    width:60px;                    height:240px;                    position:relative;                    top:5px;                    transform:rotate(0.1deg);                    }                    .pv-pic-window-rotate-overlayer{/**/                    position:absolute;                    top:0;                    bottom:0;                    left:0;                    right:0;                    display:none;                    background-color:transparent;                    }                    .pv-pic-window-range{                    position:absolute;                    border:none;                    width:100px;                    height:100px;                    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.8);                    display:none;                    padding:0;                    background-color:rgba(255, 0, 0, 0.150);                    }                    .pv-pic-window-container::-webkit-scrollbar, .pv-pic-window-container>.pv-pic-window-imgbox::-webkit-scrollbar { width: 0 !important }                    .pv-pic-window-container, .pv-pic-window-container>.pv-pic-window-imgbox { -ms-overflow-style: none;overflow: -moz-scrollbars-none; }                    ')},firstOpen:function(){me.selectedTool="hand",this.removed=!1,this.imgWindow.classList.remove("pv-pic-window-scroll"),this.focus();var e=this.imgWindow,t=A.imgWindow.fixed?{x:0,y:0}:X();e.style.left=-5+t.x+"px",e.style.top=-5+t.y+"px";var i=J();i.h-=16,i.w-=16;var a=T.getComputedStyle(e),r=parseFloat(a.height),n=parseFloat(a.width);this.isLongImg=r>i.h&&r/n>2.5,A.imgWindow.suitLongImg&&this.isLongImg?(A.imgWindow.fitToScreen&&this.fitToScreenWidth(),this.center(n<=i.w,!1),this.imgWindow.classList.add("pv-pic-window-scroll")):A.imgWindow.fitToScreen?(this.fitToScreen(),this.center(!0,!0)):this.center(n<=i.w,r<=i.h),this.initPos&&(this.imgWindow.style.left=this.initPos.left,this.imgWindow.style.top=this.initPos.top),this.keepScreenInside()},keepScreenInside:function(){var e=this.imgWindow,t={h:e.offsetHeight,w:e.offsetWidth},i=J();function a(e,a,r,n){for(var o=e.getBoundingClientRect(),s=e.style,l=!1;a.length;){var c=a[0],d=r[0],p=0;n&&(p=n.shift()),a.shift(),r.shift();var h,u=parseFloat(s[c]);switch(c){case"top":h=u-o.top-p,h=o.top-p<=0?Math.min(h,t.h):Math.max(h,d);break;case"right":h=u+(o.right-i.w)+p,h=o.right+p>=i.w?Math.min(h,t.w):Math.max(h,d);break;case"bottom":h=u+(o.bottom-i.h)+p,h=o.bottom+p>=i.h?Math.min(h,t.h):Math.max(h,d);break;case"left":h=u-o.left-p,h=o.left-p<=0?Math.min(h,t.w):Math.max(h,d)}l=l||h!==d,s[c]=h+"px"}l?e.classList.add("insert"):e.classList.remove("insert")}a(this.closeButton,["top","right"],[-22,0]),a(this.maxButton,["top","right"],[-22,46],[0,46]),a(this.toolbar,["top","left"],[0,-42])},initMaxSize:function(){let e=J(),t=e.w-50,i=e.h-50;A.floatBar.previewMaxSizeW&&t>A.floatBar.previewMaxSizeW&&(t=A.floatBar.previewMaxSizeW),A.floatBar.previewMaxSizeW&&i>A.floatBar.previewMaxSizeH&&(i=A.floatBar.previewMaxSizeH),1===this.zoomLevel&&(this.zoomLevel=0,this.zoom(1));let a,r=T.getComputedStyle(this.imgWindow),n=parseFloat(r.height),o=parseFloat(r.width),s=this.imgWindow.classList.contains("pv-pic-window-scroll");if(A.imgWindow.fitToScreenSmall||o>t||n>i){o/n>t/i?a={w:t,h:t/(o/n)}:s||(a={h:i,w:i*(o/n)});let e=this.getRotatedImgCliSize(a),r=this.imgNaturalSize;e&&r&&e.w&&r.w&&this.zoom(e.w/r.w)}},followPos:function(e,t,i){if(this.removed)return;if(!A.floatBar.globalkeys.previewFollowMouse)return;let a=this.imgWindow;if(!a)return;if(this.followPosX=e,this.followPosY=t,!i&&this.following)return;let r,n,o=J(),s=Math.min(250,o.h>>2,o.w>>2);a.style.position="fixed";let l=0,c=0;if(this.initMaxSize(),a.offsetWidth/a.offsetHeight>o.w/o.h){t>o.h/2?(n=t-a.offsetHeight-s+c,n<25&&(n=25)):(n=t+s+c,n>o.h-a.offsetHeight-1&&(n=o.h-a.offsetHeight-1)),r=(o.w-a.offsetWidth)/2;let i=e+s;if(r>i)r=i;else{let t=e-a.offsetWidth-s;r<t&&(r=t)}r+=l}else{e>o.w/2?(r=e-a.offsetWidth-s+l,r<1&&(r=1)):(r=e+s+l,r>o.w-a.offsetWidth-1&&(r=o.w-a.offsetWidth-1)),n=(o.h-a.offsetHeight)/2;let i=t+s;if(n>i)n=i;else{let e=t-a.offsetHeight-s;n<e&&(n=e)}n+=c}clearTimeout(this.followPosTimer),i||!this.loaded?(a.classList.remove("pv-pic-window-transition-all"),this.following=!1):Math.abs(r-parseInt(a.style.left))+Math.abs(n-parseInt(a.style.top))>50?(this.following=!0,a.classList.add("pv-pic-window-transition-all"),this.followPosTimer=setTimeout((()=>{this.following=!1,this.followPos(this.followPosX,this.followPosY),a.classList.add("pv-pic-window-transition-all")}),250)):a.classList.remove("pv-pic-window-transition-all"),a.style.left=r+"px",a.style.top=n+"px"},fitToScreen:function(){let e=this.imgWindow;if(!A.imgWindow.fitToScreen)return;let t=J();t.h-=6,t.w-=6;let i=T.getComputedStyle(e),a={h:parseFloat(i.height),w:parseFloat(i.width)},r=a,n=e.classList.contains("pv-pic-window-scroll");if(A.imgWindow.fitToScreenSmall||a.w-t.w>0||a.h-t.h>0){a.w/a.h>t.w/t.h?r={w:t.w,h:t.w/(a.w/a.h)}:n||(r={h:t.h,w:t.h*(a.w/a.h)});let e=this.getRotatedImgCliSize(r),i=this.imgNaturalSize;e&&i&&e.w&&i.w&&this.zoom(e.w/i.w)}},fitToScreenWidth:function(){let e=this.imgWindow;if(!A.imgWindow.fitToScreen)return;let t=J();t.h-=6,t.w-=6;let i=T.getComputedStyle(e),a={h:parseFloat(i.height),w:parseFloat(i.width)},r=a;e.classList.contains("pv-pic-window-scroll");if(a.w>t.w){a.w/a.h>t.w/t.h&&(r={w:t.w,h:t.w/(a.w/a.h)});let e=this.getRotatedImgCliSize(r),i=this.imgNaturalSize;e&&i&&e.w&&i.w&&this.zoom(e.w/i.w)}},center:function(e,t){if(e||t){var i=this.imgWindow;if(i){var a=J(),r=A.imgWindow.fixed?{x:0,y:0}:X();e&&(i.style.left=(a.w-i.offsetWidth)/2+r.x+"px"),t&&(i.style.top=(a.h-i.offsetHeight)/2+r.y+"px")}}},move:function(e){this.working=!0;var t=this.cursor;this.changeCursor("handing");var a=e.pageX||e.touches[0].pageX,r=e.pageY||e.touches[0].pageY,n=this.imgWindow.style,o=parseFloat(n.left),s=parseFloat(n.top),l=this,c=function(e){n.left=o+(e.pageX||e.touches[0].pageX)-a+"px",n.top=s+(e.pageY||e.touches[0].pageY)-r+"px",l.keepScreenInside(),l.moving=!0,e.preventDefault(),e.stopPropagation()},d=function(){e.preventDefault(),l.changeCursor(t),l.working=!1,l.tempHand&&l.spaceKeyUp&&(l.tempHand=!1,l.changeCursor(l.selectedTool)),i.removeEventListener("mousemove",c,!0),i.removeEventListener("mouseup",d,!0),i.removeEventListener("touchmove",c,!0),i.removeEventListener("touchend",d,!0)};i.addEventListener("mousemove",c,!0),i.addEventListener("mouseup",d,!0),i.addEventListener("touchmove",c,!0),i.addEventListener("touchend",d,!0)},rotate:function(e,t){var a=this.img,r=this.imgWindow;r.classList.remove("pv-pic-window-scroll");var n=a.style[se.cssTransform].replace(/rotate\([^)]*\)/i,""),o=T.getComputedStyle(r),s={h:parseFloat(o.height),w:parseFloat(o.width)},l={top:parseFloat(r.style.top),left:parseFloat(r.style.left)},c={h:a.clientHeight,w:a.clientWidth},d={top:parseFloat(a.parentNode.style.top),left:parseFloat(a.parentNode.style.left)},p=this,h=Math.PI,u=function(e){if(p.rotatedRadians!=e){p.working?a.parentNode.style[se.cssTransform]=" rotate("+e+"rad) "+n:(a.parentNode.classList.remove("transition-transform"),a.parentNode.style[se.cssTransform]=" rotate("+e+"rad) "+n,setTimeout((()=>{a.parentNode.classList.add("transition-transform")}),0)),p.rotateIPointer.style[se.cssTransform]="rotate("+e+"rad)",p.rotatedRadians=e,p.setToolBadge("rotate",e/(h/180));var i=p.getRotatedImgRectSize(e,c);r.style.width=i.w+"px",r.style.height=i.h+"px",t||p.setImgWindowOffset(l,s,i),p.setImgOffset(d,s,i),p.keepScreenInside()}};if("number"!=typeof e){this.working=!0;var m=this.rotatedRadians;this.shiftKeyUp=!0;var g=A.imgWindow.shiftRotateStep/(180/Math.PI),f=function(t){p.rotateIndicator.style.display="block";var i=m+Math.atan2(t.clientY-e.y,t.clientX-e.x);i>=2*h?i-=2*h:i<0&&(i+=2*h),p.shiftKeyUp||(i-=i%g,i+=g),u(i)},v=function(){p.working=!1,p.rotateIndicator.style.display="none",i.removeEventListener("mousemove",f,!0),i.removeEventListener("mouseup",v,!0),p.img.parentNode.classList.add("transition-transform")};p.img.parentNode.classList.remove("transition-transform"),i.addEventListener("mousemove",f,!0),i.addEventListener("mouseup",v,!0)}else u(e)},convertToValidRadians:function(e){var t=Math.PI;return e>t&&(e=2*t-e),e>.5*t&&(e=t-e),e},getRotatedImgRectSize:function(e,t){return t=t||{h:this.img.clientHeight,w:this.img.clentWidth},void 0===e&&(e=this.rotatedRadians),e=this.convertToValidRadians(e),{h:this.notExponential(t.h*Math.cos(e)+t.w*Math.sin(e)),w:this.notExponential(t.h*Math.sin(e)+t.w*Math.cos(e))}},getRotatedImgCliSize:function(e,t){if(void 0===t&&(t=this.rotatedRadians),0==(t=this.convertToValidRadians(t)))return e;var i=(e.h-e.w*Math.tan(t))/(Math.cos(t)-Math.sin(t)*Math.tan(t));return{h:i,w:(e.h-i*Math.cos(t))/Math.sin(t)}},setImgOffset:function(e,t,i){var a=this.img.parentNode.style,r=this.notExponential(e.top+1*(i.h-t.h)/2)+"px",n=this.notExponential(e.left+1*(i.w-t.w)/2)+"px";a.top=r,a.left=n},setImgWindowOffset:function(e,t,i,a){a=a||{x:.5,y:.5};var r=this.imgWindow.style,n=e.top-(i.h-t.h)*a.y+"px",o=e.left-(i.w-t.w)*a.x+"px";r.top=n,r.left=o},zoom:function(e,t){var a,r=this.imgWindow,n=T.getComputedStyle(r),o={h:parseFloat(n.height),w:parseFloat(n.width)},s={top:parseFloat(r.style.top),left:parseFloat(r.style.left)},l=this.img,c=this,d=function(e){if(!(void 0===e||e<0||e==c.zoomLevel)){var i={h:c.imgNaturalSize.h*e||10,w:c.imgNaturalSize.w*e||10};l.width=i.w,l.height=i.h,l.parentNode.style.width=i.w+"px",l.parentNode.style.height=i.h+"px",c.imgState.style.display=i.w<60?"none":"",i.w<220?(c.maxButton.style.opacity="0",c.closeButton.style.opacity="0"):(c.maxButton.style.opacity="",c.closeButton.style.opacity=""),i.w<100||i.h<100?(c.preButton.style.left="-36px",c.nextButton.style.right="-36px"):(c.preButton.style.left="0px",c.nextButton.style.right="0px");var a=c.getRotatedImgRectSize(c.rotatedRadians,i);r.style.width=a.w+"px",r.style.height=a.h+"px",c.setImgWindowOffset(s,o,a,t),c.setImgOffset({top:0,left:0},i,a),c.zoomLevel=e,c.setToolBadge("zoom",e),c.keepScreenInside()}};if("object"!=typeof e)return t=t||{x:.5,y:.5},void d(e);this.working=!0,t=this.getZoomRatio({x:e.clientX,y:e.clientY});var p=e.pageX,h=this.zoomLevel,u=0,m=function(e){if(!(++u<2)){a=!0;var t,i=e.pageX;i>p?(c.changeCursor("zoom",!1),t=.05):(c.changeCursor("zoom",!0),t=-.05),p=i,d(h+=t)}},g=function(e){c.working=!1,i.removeEventListener("mousemove",m,!0),i.removeEventListener("mouseup",g,!0);var t=c.getNextZoomLevel();c.zoomOut&&c.altKeyUp&&(c.zoomOut=!1),a||d(t),c.changeCursor("zoom",c.zoomOut),c.tempZoom&&c.ctrlKeyUp&&c.altKeyUp&&(c.tempZoom=!1,c.changeCursor(c.selectedTool))};i.addEventListener("mousemove",m,!0),i.addEventListener("mouseup",g,!0)},getNextZoomLevel:function(){var e,t=this;if(this.zoomOut){me.zoomRangeR.find((function(i){if(i<t.zoomLevel)return e=i,!0}))||(e=.9*t.zoomLevel)}else{me.zoomRange.find((function(i){if(i>t.zoomLevel)return e=i,!0}))||(e=1.1*t.zoomLevel)}return e},getZoomRatio:function(e){var t=this.img.getBoundingClientRect(),i={x:(e.x-t.left)/t.width,y:(e.y-t.top)/t.height};return i.x<0?i.x=0:i.x>1&&(i.x=1),i.y<0?i.y=0:i.y>1&&(i.y=1),i},aerialView:function(e){this.working=!0;var t=this.zoomLevel,a=J();a.h-=16,a.w-=16;var r,n=this.imgWindow,o=T.getComputedStyle(n),s=parseFloat(o.height),l=parseFloat(o.width),c=s/l,d=a.h/a.w,p={};c>d?(r={h:a.h,w:a.h/c},p.h=Math.min(a.h*(r.h/s),r.h),p.w=Math.min(p.h/d,r.w)):(r={w:a.w,h:a.w*c},p.w=Math.min(a.w*(r.w/l),r.w),p.h=Math.min(p.w*d,r.h)),this.zoom(this.getRotatedImgCliSize(r).w/this.imgNaturalSize.w),this.center(!0,!0),this.keepScreenInside();var h=this.viewRange,u=h.style;u.display="block",u.height=p.h+"px",u.width=p.w+"px",u.top="0px",u.left="0px";var m=h.getBoundingClientRect(),g=A.imgWindow.fixed?{x:0,y:0}:X(),f=m.left+g.x+.5*p.w,v=m.top+g.y+.5*p.h,y=this,b={x:[8,8+r.w-p.w],y:[8,8+r.h-p.h]};function w(e){var t=e.y-v,i=e.x-f;t<=b.y[0]?t=b.y[0]:t>=b.y[1]&&(t=b.y[1]),u.top=t+"px",i<=b.x[0]?i=b.x[0]:i>=b.x[1]&&(i=b.x[1]),u.left=i+"px"}w({x:e.pageX,y:e.pageY});var x=function(e){w({x:e.pageX,y:e.pageY})},k=function(){y.working=!1,h.style.display="none",y.zoom(t);var e=A.imgWindow.fixed?{x:0,y:0}:X();n.style.top=-13-s*((parseFloat(u.top)-b.y[0])/r.h)+e.y+"px",n.style.left=-13-l*((parseFloat(u.left)-b.x[0])/r.w)+e.x+"px",y.center(p.w==r.w,p.h==r.h),y.keepScreenInside(),i.removeEventListener("mousemove",x,!0),i.removeEventListener("mouseup",k,!0)};i.addEventListener("mousemove",x,!0),i.addEventListener("mouseup",k,!0)},setToolBadge:function(e,t){var i=0;switch(e){case"zoom":i=2,this.img.naturalWidth&&(U(`<strong>${this.img.naturalWidth} x ${this.img.naturalHeight}</strong>`+(1!==t?` (${parseInt(100*t)}%)`:"")+(this.curIndex>=0?` <b>[${this.curIndex+1}/${this.data.all.length}]</b>`:""),this.imgState),this.descriptionSpan&&this.imgState.appendChild(this.descriptionSpan));break;case"rotate":i=1}t="string"==typeof t?t:t.toFixed(i),this.toolMap[e].nextElementSibling.textContent=t},notExponential:function(e){if(e>0){if(e>=9999999999999999e5)return 9999999999999999e5;if(e<=1e-6)return 1e-6}else if(e<0){if(e>=-1e-6)return-1e-6;if(e<=-9999999999999999e5)return-9999999999999999e5}return e},blur:function(e){if(this.focused){me.showing=!1;var t=this.imgWindow;!0!==e&&t.contains(e.target)||(t.classList.remove("pv-pic-window-container_focus"),i.removeEventListener("mousedown",this._blur,!0),i.removeEventListener("keydown",this._focusedKeydown,!1),i.removeEventListener("keyup",this._focusedKeyup,!0),this.changeCursor("default"),me.selectedTool=this.selectedTool,this.imgWindow.style.zIndex=A.imgWindow.zIndex,this.zIndex=A.imgWindow.zIndex,this.focused=!1)}},focus:function(){this.focused||(this.toolMap.compare.style.display=me.all.length>1?"":"none",me.showing=!0,this.imgWindow.classList.add("pv-pic-window-container_focus"),this.imgWindow.style.zIndex=A.imgWindow.zIndex+1,this.zIndex=A.imgWindow.zIndex+1,i.addEventListener("keydown",this._focusedKeydown,!1),i.addEventListener("keyup",this._focusedKeyup,!0),i.addEventListener("mousedown",this._blur,!0),this.changeCursor(this.selectedTool),A.imgWindow.syncSelectedTool&&me.selectedTool&&this.selectTool(me.selectedTool),this.focused=!0)},focusedKeyup:function(e){var t=e.keyCode;if(-1!=[32,18,16,72,17,72,82,90,67,37,39].indexOf(t)){switch(e.preventDefault(),t){case 32:if(this.spaceKeyUp=!0,!this.tempHand)return;this.working||(this.tempHand=!1,this.changeCursor(this.selectedTool));break;case 18:if(this.altKeyUp=!0,!this.zoomOut)return;this.working||(this.zoomOut=!1,this.changeCursor("zoom"),this.tempZoom&&this.ctrlKeyUp&&(this.tempZoom=!1,this.changeCursor(this.selectedTool)));break;case 16:this.shiftKeyUp=!0;break;case 17:if(clearTimeout(this.ctrlkeyDownTimer),!this.justCKeyUp){if(this.ctrlKeyUp=!0,!this.tempZoom)return;!this.working&&this.altKeyUp&&(this.tempZoom=!1,this.changeCursor(this.selectedTool))}break;case 67:this.justCKeyUp=!0;var i=this;clearTimeout(this.justCKeyUpTimer),this.justCKeyUpTimer=setTimeout((function(){i.justCKeyUp=!1,c(i.src)}),100);break;case 72:this.hKeyUp=!0;break;case 82:this.rKeyUp=!0;break;case 90:this.zKeyUp=!0;break;case 39:this.switchImage(!0);break;case 37:this.switchImage(!1)}-1!=[72,82,90].indexOf(t)&&!this.working&&this.restoreBeforeTool&&(this.restoreBeforeTool=!1,this.selectTool(this.beforeTool))}},focusedKeydown:async function(e){var t=e.keyCode;if(this.data&&this.data.img&&e.key.toLowerCase()==A.floatBar.keys.download)return j(this.img.src,this.data.img.title||this.data.img.alt,A.saveName),e.preventDefault(),void e.stopPropagation();if(-1!=[32,82,72,90,18,16,17,27,67,71].indexOf(t)){if(e.preventDefault(),!this.working){if(e.key==A.floatBar.keys.gallery){re||((re=new he).data=[]);var i=await re.getAllValidImgs();if(i.length<1)return;i.target={src:this.img.src},re.data=i,re.load(re.data),this.remove()}else switch(t){case 82:if(this.rKeyUp){this.rKeyUp=!1,this.beforeTool=this.selectedTool,"rotate"!=this.beforeTool&&this.selectTool("rotate");var a=Math.PI,r=this.rotatedRadians+(e.shiftKey?-90:90)*a/180;r>=2*a?r-=2*a:r<0&&(r+=2*a),this.rotate(r,!0)}break;case 72:this.hKeyUp&&(this.hKeyUp=!1,this.beforeTool=this.selectedTool,this.selectTool("hand"));break;case 90:if(this.zKeyUp){this.zKeyUp=!1,this.beforeTool=this.selectedTool,this.selectTool("zoom");let t=e.shiftKey?this.zoomLevel-.5:this.zoomLevel+.5;void 0!==t&&this.zoom(t,{x:0,y:0}),Be&&Be==this&&(A.floatBar.globalkeys.previewFollowMouse?this.followPos(We,Ze,!0):this.center(!0,!0))}break;case 32:this.spaceKeyUp&&(this.spaceKeyUp=!1,"hand"!=this.selectedTool&&(this.tempHand=!0,this.changeCursor("hand")));break;case 18:if(this.altKeyUp){if("zoom"!=this.selectedTool&&!this.tempZoom||this.zoomOut)return;this.zoomOut=!0,this.altKeyUp=!1,this.changeCursor("zoom",!0)}break;case 17:if(this.ctrlKeyUp){var n=this;this.ctrlkeyDownTimer=setTimeout((function(){n.ctrlKeyUp=!1,"zoom"!=n.selectedTool&&(n.tempZoom=!0,n.changeCursor("zoom"))}),100)}break;case 67:clearTimeout(this.ctrlkeyDownTimer);break;case 27:A.imgWindow.close.escKey&&this.remove()}return e.stopPropagation(),!1}16==t&&(this.shiftKeyUp=!1)}},toolbarEventHandler:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,i=this.toolMap;for(var a in i)if(i.hasOwnProperty(a)&&i[a]==t){switch(e.type){case"mousedown":this.selectTool(a);break;case"dblclick":this.dblclickCommand(a)}break}},imgWindowEventHandler:function(e){0==e.button&&e.stopPropagation();var t=this.selectedTool;if("hand"==t&&A.imgWindow.suitLongImg&&this.isLongImg){var a=this.imgWindow.classList.contains("pv-pic-window-scroll");if("wheel"==e.type&&a)return;if("click"==e.type&&!this.moving){var r=J(),n=this.imgWindow,o=A.imgWindow.fixed?{x:0,y:0}:X(),s=parseFloat(n.style.top);if(a?(n.style.top=parseFloat(n.style.top)-X(n.children[0]).y+"px",this.imgWindow.classList.remove("pv-pic-window-scroll")):(this.rotate(0,!0),this.imgWindow.classList.add("pv-pic-window-scroll"),n.children[0].scrollTop=-parseInt(n.style.top)),!a){n.style.top=(r.h-n.offsetHeight)/2+o.y+"px";var l=parseFloat(n.style.top)-s;this.imgWindow.scrollTop?this.imgWindow.scrollTop=l:this.imgWindow.pageYOffset?this.imgWindow.pageYOffset=l:this.imgWindow.scrollY&&(this.imgWindow.scrollY=l)}this.keepScreenInside()}}switch(e.type){case"click":"hand"!==t||this.moving||(this.imgWindow.classList.contains("pv-pic-window-black")?(this.imgWindow.classList.remove("pv-pic-window-black"),this.imgWindow.classList.add("pv-pic-window-white")):this.imgWindow.classList.contains("pv-pic-window-white")?this.imgWindow.classList.remove("pv-pic-window-white"):this.imgWindow.classList.add("pv-pic-window-black")),this.moving=!1,e.ctrlKey&&"IMG"==e.target.nodeName.toUpperCase()&&e.preventDefault();break;case"mousedown":case"touchstart":this.focused||(this.focus(),this.moving=!0,this.keepScreenInside());var c=e.target;if(2==e.button){if(c!=this.rotateOverlayer)return;var d=this;this.rotateOverlayer.style.display="none";var p=function(){i.removeEventListener("mouseup",p,!0),setTimeout((function(){d.rotateOverlayer.style.display="block"}),10)};return void i.addEventListener("mouseup",p,!0)}if(0!=e.button&&"touchstart"!=e.type||c!=this.imgWindow&&c!=this.img&&c!=this.rotateOverlayer&&c!=this.imgState)return;if(e.preventDefault(),this.tempHand)this.move(e);else if(this.tempZoom)this.zoom(e);else if("hand"==t)this.restoreBeforeTool=!this.hKeyUp,this.hKeyUp?this.move(e):this.aerialView(e);else if("rotate"==t){var h={x:e.clientX-30,y:e.clientY},u=this.rotateIndicator.style;u.top=h.y+"px",u.left=h.x+"px",this.restoreBeforeTool=!this.rKeyUp,this.rotate(h)}else"zoom"==t&&(this.restoreBeforeTool=!this.zKeyUp,this.zoom(e));break;case"wheel":if(!this.focused)return;if(0===e.deltaY)return;if(e.preventDefault(),this.working)return;var m=this.zoomOut;this.zoomOut=!!(e.deltaY>0);var g=this.getZoomRatio({x:e.clientX,y:e.clientY}),f=this.getNextZoomLevel();this.zoomed=!0,this.zoom(f,g),this.zoomOut=m}},dblclickCommand:function(e){var t;switch(e){case"hand":this.zoom(1),this.fitToScreen(),this.center(!0,!0),this.keepScreenInside();break;case"rotate":if(0==this.rotatedRadians)return;t=!0,this.rotate(0,!0);break;case"zoom":if(1==this.zoomLevel)return;t=!0,this.zoom(1,{x:0,y:0})}if(("rotate"==e||"zoom"==e)&&t){var i=A.imgWindow.fixed?{x:0,y:0}:X(),a=this.imgWindow,r=a.getBoundingClientRect(),n=a.style;r.left<40&&(n.left=40+i.x+"px"),r.top<-5&&(n.top=-5+i.y+"px"),this.keepScreenInside()}},doFlipCommand:function(e){var t={fv:[/scaleY\([^)]*\)/i," scaleY(-1) "],fh:[/scaleX\([^)]*\)/i," scaleX(-1) "]},i=this.img.parentNode.style[se.cssTransform],a=this.toolMap[e].classList;t[e][0].test(i)?(i=i.replace(t[e][0],""),a.remove(this.selectedToolClass)):(i+=t[e][1],a.add(this.selectedToolClass)),this.img.parentNode.style[se.cssTransform]=i},selectTool:function(e){if(-1==["fv","fh"].indexOf(e)){if(this.selectedTool==e)return;let r=this;if("compare"==e){var t,i=0;return me.all.forEach((function(e){e.zIndex>=i&&e!=r&&(i=e.zIndex,t=e)})),void(t&&(this.toolMap.compare.style.display="none",this.compare([t.img.src])))}var a=this.selectedTool;if(this.selectedTool=e,this.tempHand||this.tempZoom)return;this.rotateOverlayer.style.display="rotate"==e?"block":"none",a&&this.toolMap[a].classList.remove(this.selectedToolClass),this.toolMap[e].classList.add(this.selectedToolClass),this.changeCursor(e)}else this.doFlipCommand(e)},changeCursor:function(e,t){if("zoom"==e&&(e+=t?"-out":"-in"),this.cursor!=e){var i;switch(this.cursor=e,e){case"hand":i=se.cssCursorValue.grab||"pointer";break;case"handing":i=se.cssCursorValue.grabbing||"pointer";break;case"zoom-in":i=se.cssCursorValue.zoomIn;break;case"zoom-out":i=se.cssCursorValue.zoomOut;break;case"rotate":i="progress";break;case"default":i=""}void 0!==i&&(this.imgWindow.style.cursor=i)}},remove:function(e){if(this.removed)return;this.removed=!0,this.blur(!0),e||(this.imgWindow.style.opacity=0);let t=this;if(setTimeout((()=>{this.removed&&(t.isImg&&(t.img.src=A.icons.brokenImg_small),t.imgWindow.parentNode.removeChild(t.imgWindow))}),300),!this.preview){var a=me.all.indexOf(this);me.all.splice(a,1)}var r=i.createEvent("CustomEvent");if(r.initCustomEvent("pv-removeImgWindow",!1,!1),this.imgWindow.dispatchEvent(r),0==me.all.length)me.overlayer&&(me.overlayer.style.display="none");else{var n,o=0;me.all.forEach((function(e){e.zIndex>=o&&(o=e.zIndex,n=e)})),n&&n.focus()}}},de(z(i),(e=>{Be&&!Be.removed&&(Be.isLongImg?(e.preventDefault(),e.stopPropagation(),Be.img.parentNode.scrollTop+=e.deltaY):Be.curIndex>=0&&(e.preventDefault(),e.stopPropagation(),Be.switchImage(e.deltaY>0)))}),!0),ge.all=[],ge.prototype={init:function(){ge.all.push(this),this.addStyle();var e=i.createElement("span");e.className="pv-loading-container",this.loadingAnim=e,e.title=s("loading")+":"+this.data.src;let t=i.createElement("span");t.className="pv-loading-button pv-loading-retry",t.title="Retry",e.appendChild(t);let a=i.createElement("span");a.className="pv-loading-button pv-loading-cancle",a.title="Cancel",e.appendChild(a),"popup"==this.buttonType&&(e.style.pointerEvents="none"),z(i).appendChild(e);var r=this;if(e.addEventListener("click",(function(e){var t=e.target.classList;t.contains("pv-loading-cancle")?r.cancel():t.contains("pv-loading-retry")&&(r.remove(),new ge(r.args[0],r.args[1],r.args[2],r.args[3]))}),!0),this.setPosition(),this.data.noActual||"current"!=this.buttonType&&"gallery"!=this.buttonType)if(this.data.xhr)ye.load({url:this.data.src,xhr:this.data.xhr,cb:function(e,t,i){e?(r.data.src=e,t&&t.length&&(t=Array.from(new Set(t))),r.data.all=t,i&&(r.data.description=i),r.loadImg(e,t)):r.error()},onerror:function(){r.error()}});else if("search"==this.buttonType){!function(){for(var e=0;e<B.length;e++)if(B[e]==A.firstEngine){B.splice(e,1);break}B.unshift(A.firstEngine)}();let e=0,t=function(){G(r.data.imgSrc,null,(function(i,a){let n=i.shift();3==a?r.loadImg(n,i):(e=a+1,r.loadImg(n,i,t))}),(function(e){r.error("")}),(function(e){r.error("")}),e)};t()}else this.loadImg(this.data.src||this.data.imgSrc,this.data.srcs);else this.loadImg(this.data.imgSrc)},addStyle:function(){ge.style?ge.style.parentNode||(ge.style=m(ge.style.innerText)):ge.style=m('                .pv-loading-container {                position: absolute;                z-index:999999997;                background: black url("'+A.icons.loading+'") center no-repeat;                background-origin: content-box;                border: none;                padding: 1px 30px 1px 2px;                margin: 0;                opacity: 0.5;                height: 24px;                min-width: 24px;                box-shadow: 2px 2px 0px #666;                -webkit-transition: opacity 0.15s ease-in-out;                transition: opacity 0.15s ease-in-out;                width: initial;                }                .pv-loading-container:hover {                opacity: 0.9;                }                .pv-loading-button {                cursor: pointer;                height: 24px;                width: 24px;                position: absolute;                right: 0;                top: 0;                opacity: 0.4;                background:transparent center no-repeat;                -webkit-transition: opacity 0.15s ease-in-out;                transition: opacity 0.15s ease-in-out;                }                .pv-loading-button:hover {                opacity: 1;                }                .pv-loading-cancle{                pointer-events: all;                background-image: url("'+A.icons.loadingCancle+'");                }                .pv-loading-retry{                display:none;                pointer-events: all;                background-image: url("'+A.icons.retry+'");                }                .pv-loading-container_error{                background-image:none;                }                .pv-loading-container_error::after{                content:"'+s("loadError")+'";                line-height: 24px;                color: red;                font-size: 14px;                display:inline;                }                .pv-loading-container_error .pv-loading-cancle{                display:none;                }                .pv-loading-container_error .pv-loading-retry{                display:block;                }                ')},remove:function(){this.removed||(this.removed=!0,this.loadingAnim.parentNode.removeChild(this.loadingAnim),ge.all.splice(ge.all.indexOf(this),1))},cancel:function(){this.imgReady&&this.imgReady.abort(),this.remove()},error:function(e,t,i){e&&r(e),this.loadingAnim.style.pointerEvents="",this.loadingAnim.classList.add("pv-loading-container_error"),r("Picviewer CE+ %o",this.data);var a=this;setTimeout((function(){a.remove()}),3e3)},setPosition:function(){var e=V(this.data.img),t=this.loadingAnim.style,i=X();t.top=e.top+i.y+1+"px",t.left=e.left+i.x+1+"px",t.removeProperty("display")},loadImg:function(e,t,a){var r,n=this,o=C.getMode(e);if("magnifier"===this.buttonType)(r=i.createElement("img")).src="video"===o||"audio"===o?this.data.imgSrc:e,o="";else{switch(o){case"video":(r=i.createElement("video")).style.width=0,r.style.height=0,r.controls=!0,r.loop=!0,r.autoplay=!0,r.volume=C.mute?0:1,-1!==(e=e.replace(/^video:/,"")).indexOf(".mkv")?r.type="video/mp4":-1!==e.indexOf(".m3u8")&&(r.type="application/vnd.apple.mpegurl");break;case"audio":(r=i.createElement("audio")).controls=!0,r.autoplay=!0,r.volume=C.mute?0:1,e=e.replace(/^audio:/,"");break;default:r=i.createElement("img")}r.src=e}var s={error:function(e){if(Array.isArray(t)){var i=t.shift();if(i)return void n.loadImg(i,t,a)}a?a():n.error("",this,e)}};if(s[n.waitImgLoad?"load":"ready"]=function(e){n.load(this,e)},"video"===o||"audio"===o){let e=function(){r.play(),n.load(this),r.removeEventListener("loadeddata",e)};r.addEventListener("loadeddata",e),r.load()}else n.imgReady=ce(r,s)},load:async function(e,a){this.remove(),this.img=e;var r=this.buttonType;if("gallery"==r){re||((re=new he).data=[]);var n=await re.getAllValidImgs();n.target=this.data,this.data=n}var o=this;function s(){var i=o.data,a=function(e){e&&(delete e.img,delete e.imgPA)};Array.isArray(i)?(Ee=Me,Me=te(i,!0),a(i.target),i.forEach((function(e){a(e)}))):a(i),t.postMessage({messageID:Ce,src:e.src,data:i,command:"open",buttonType:r,to:"top"},"*")}this.openInTopWindow&&Te&&!1!==Ie&&"magnifier"!=r?Ie?s():(t.postMessage({messageID:Ce,command:"topWindowValid",to:"top"},"*"),i.addEventListener("pv-topWindowValid",(function(e){(Ie=e.detail)?s():o.open()}),!0)):this.open()},open:function(){switch(this.buttonType){case"popup":!Be||Be.src==this.data.src||this.data.srcs&&this.data.srcs.includes(Be.src)||Be.remove(),Be&&!Be.removed||(this.data.src=this.img.src,Be=new me(this.img,this.data,null,null,!0)),Be.loaded||(A.waitImgLoad?(Be.imgWindow.style.display="none",Be.imgWindow.style.opacity=0):A.floatBar.globalkeys.previewFollowMouse?Be.followPos(We,Ze):(Be.initMaxSize(),Be.center(!0,!0),De&&clearInterval(De),De=setInterval((function(){!Be||Be.removed||Be.loaded?clearInterval(De):Be.center(!0,!0)}),300))),Be.imgWindow.classList.add("preview");break;case"gallery":re||(re=new he),re.load(this.data,this.from),re.changeMinView();break;case"magnifier":new ue(this.img,this.data);break;case"download":j(this.data.src||this.data.imgSrc,this.data.img.title||this.data.img.alt,A.saveName);break;case"copy":c(this.data.src||this.data.imgSrc);break;case"open":l(this.data.src||this.data.imgSrc,{active:!1});break;case"copyImg":fe(this.data.src||this.data.imgSrc);break;case"actual":case"search":case"current":case"original":this.data.src!=this.img.src&&(this.data.src=this.img.src),new me(this.img,this.data,"actual"==this.buttonType,this.initPos||!1)}}},ve.prototype={init:function(){this.addStyle();var e=i.createElement("span");e.id="pv-float-bar-container",z(i).appendChild(e);for(let t=0;t<5;t++){let t=i.createElement("span");t.className="pv-float-bar-button",e.appendChild(t)}var t={};this.buttons=t,this.children=e.children,a.forEach.call(this.children,(function(e,i){var a={actual:s("actualBtn").replace(/ ?\(A\)/,` (${A.floatBar.keys.actual.toUpperCase()})`),search:s("searchBtn").replace(/ ?\(S\)/,` (${A.floatBar.keys.search.toUpperCase()})`),gallery:s("galleryBtn").replace(/ ?\(G\)/,` (${A.floatBar.keys.gallery.toUpperCase()})`),current:s("currentBtn").replace(/ ?\(C\)/,` (${A.floatBar.keys.current.toUpperCase()})`),magnifier:s("magnifierBtn").replace(/ ?\(M\)/,` (${A.floatBar.keys.magnifier.toUpperCase()})`),download:s("download")+` (${A.floatBar.keys.download.toUpperCase()})`},r=A.floatBar.butonOrder[i];r?(t[r]=e,e.title=a[r],e.classList.add("pv-float-bar-button-"+r)):e.style.display="none"})),this.floatBar=e;var r=this;e.addEventListener("click",(function(e){var i,a=e.target;for(var n in t){if(!t.hasOwnProperty(n))return;if(a==t[n]){i=n;break}}i&&(r.open(e,i),r.hide())}),!0),pe("mouseleave",e,(function(e){clearTimeout(r.hideTimer),r.hideTimer=setTimeout((function(){r.hide()}),A.floatBar.hideDelay)})),pe("mouseenter",e,(function(e){clearTimeout(r.hideTimer),clearTimeout(r.showTimer),clearTimeout(r.globarOutTimer)})),this._scrollHandler=this.scrollHandler.bind(this)},addStyle:function(){ve.style?ve.style.parentNode||(ve.style=m(ve.style.innerText)):ve.style=m('                    #pv-float-bar-container {                    position: absolute;                    background-image: initial;                    top: 0px;                    left: 0px;                    z-index:2147483640;                    padding: 5px;                    margin: 0;                    border: none;                    opacity: 0.35;                    line-height: 0;                    -webkit-transition: opacity 0.2s ease-in-out;                    transition: opacity 0.2s ease-in-out;                    display:none;                    }                    #pv-float-bar-container:hover {                    opacity: 1;                    }                    #pv-float-bar-container .pv-float-bar-button {                    vertical-align:middle;                    cursor: pointer;                    width: 18px;                    height: 18px;                    padding: 0;                    margin:0;                    border: none;                    display: inline-block;                    position: relative;                    box-shadow: 1px 0 3px 0px rgba(0,0,0,0.9);                    background: transparent center no-repeat;                    background-size:100% 100%;                    background-origin: content-box;                    -webkit-transition: margin-right 0.15s ease-in-out ,  width 0.15s ease-in-out ,  height 0.15s ease-in-out ;                    transition: margin-right 0.15s ease-in-out ,  width 0.15s ease-in-out ,  height 0.15s ease-in-out ;                    }                    #pv-float-bar-container .pv-float-bar-button:not(:last-child){                    margin-right: -14px;                    }                    #pv-float-bar-container .pv-float-bar-button:first-child {                    z-index: 4;                    }                    #pv-float-bar-container .pv-float-bar-button:nth-child(2) {                    z-index: 3;                    }                    #pv-float-bar-container .pv-float-bar-button:nth-child(3) {                    z-index: 2;                    }                    #pv-float-bar-container .pv-float-bar-button:last-child {                    z-index: 1;                    }                    #pv-float-bar-container:hover > .pv-float-bar-button {                    width: 24px;                    height: 24px;                    }                    #pv-float-bar-container:hover > .pv-float-bar-button:not(:last-child) {                    margin-right: 4px;                    }                    #pv-float-bar-container .pv-float-bar-button-actual {                    background-image:url("'+A.icons.actual+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-search {                    background-image:url("'+A.icons.search+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-gallery {                    background-image:url("'+A.icons.gallery+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-current {                    background-image:url("'+A.icons.current+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-magnifier {                    background-image:url("'+A.icons.magnifier+'")!important;                    }                    #pv-float-bar-container .pv-float-bar-button-download {                    background-image:url("'+A.icons.download+'")!important;                    }                    ')},start:function(e){if(e&&"link"==e.type&&(e.hide=!0),ge.all.find((function(t,i,a){if(e.src==t.data.src||e.img==t.data.img)return!0})))return!1;if(ue.all.find((function(t,i,a){if(e.src==t.data.src)return!0})))return!1;var t=this;clearTimeout(this.hideTimer);var a=function(e){i.removeEventListener("mouseout",a,!0),clearTimeout(t.showTimer),clearTimeout(t.hideTimer),t.hideTimer=setTimeout((function(){t.hide()}),A.floatBar.hideDelay)};return clearTimeout(this.globarOutTimer),this.globarOutTimer=setTimeout((function(){i.addEventListener("mouseout",a,!0)}),150),clearTimeout(this.showTimer),t.data=e,e.hide?(this.show(),this.floatBar.style.display="none",this.floatBar.style.opacity=0,!1):(this.shown&&t.data.img==e.img||(this.floatBar.style.transition="unset",this.floatBar.style.opacity=.01),this.showTimer=setTimeout((function(){t.show()}),A.floatBar.showDelay),!0)},setButton:function(){this.buttons.actual&&(this.data.noActual?this.buttons.actual.style.display="none":this.buttons.actual.style.removeProperty("display")),this.buttons.magnifier&&("force"!=this.data.type&&"IMG"==this.data.img.nodeName.toUpperCase()?this.buttons.magnifier.style.removeProperty("display"):this.buttons.magnifier.style.display="none"),this.data.img.nodeName.toUpperCase()},setPosition:function(){if(0==this.data.img.offsetWidth)return!0;var e=V(this.data.img),t=this.data.img.parentNode;if(t&&t.scrollHeight>30&&t.scrollWidth>30){var a=t.getBoundingClientRect();if(a.width>30&&a.height>30){const t=T.getComputedStyle(this.data.img),i=new DOMMatrixReadOnly(t.transform);let r=i.m41,n=i.m42,o=i.m11,s=i.m22;(n||0!=this.data.img.offsetTop||s&&1!==s)&&a.height<e.height-3&&(e.top=a.top),(r||0!=this.data.img.offsetLeft||o&&1!==o)&&a.width<e.width-3&&(e.left=a.left)}}var r=J(),n=(this.data.img,A.floatBar.position.toLowerCase().split(/\s+/)),o=A.floatBar.offset.x,s=A.floatBar.offset.y;let l,c,d=z(i);"static"===T.getComputedStyle(d).position?(l=i.documentElement.scrollLeft||i.documentElement.scrollTop?i.documentElement:d,c={top:0,bottom:r.h,left:0,right:r.w}):(l=d,c=l.getBoundingClientRect());var p=X(l);e.top=e.top-c.top+p.y,e.left=e.left-c.left+p.x,e.bottom=c.bottom-e.bottom-p.y,e.right=c.right-e.right-p.x;var h=this.floatBar.style,u={top:function(){var t=e.top;t+s-p.y<10?(t=p.y,s=0):(A.floatBar.stayOut?t=t+s-10-A.floatBar.stayOutOffsetY:t+=s,e.height<=50&&(t-=10)),h.bottom="unset",h.top=t+"px"},right:function(){var t=e.right;A.floatBar.stayOut?t=t-o-A.floatBar.stayOutOffsetX:t-=o,e.width<=50&&(t+=10),h.left="unset",h.right=t+"px"},bottom:function(){var t=e.bottom;t=A.floatBar.stayOut?t-s-40-A.floatBar.stayOutOffsetY:t-s-30,e.height<=50&&(t+=10),h.top="unset",h.bottom=t+"px"},left:function(){var t=e.left;t+o-p.x<0?(t=p.x,o=0):(A.floatBar.stayOut?t=t+o-A.floatBar.stayOutOffsetX:t+=o,e.width<=50&&(t-=10)),h.right="unset",h.left=t+"px"},center:function(){var t=e.left+o;h.left=t+e.width/2+"px"},hide:function(){var t=e.top,i=e.left;A.floatBar.stayOut?(t=t+s-10-A.floatBar.stayOutOffsetY,i=i+o-A.floatBar.stayOutOffsetX):(t+=s,i+=o),e.height<=50&&(t-=10),h.top=t+"px",e.width<=50&&(i-=10),h.left=i+"px"}};u[n[0]](),n.length>1&&u[n[1]]()},show:function(){this.setPosition()||(this.shown=!0,this.addStyle(),this.setButton(),this.floatBar.style.transition="",this.floatBar.style.display="block",this.floatBar.style.opacity="",clearTimeout(this.hideTimer),t.removeEventListener("scroll",this._scrollHandler,!0),t.addEventListener("scroll",this._scrollHandler,!0))},hide:function(){clearTimeout(this.showTimer),this.floatBar.style.opacity=.01,this.shown=!1,this.floatBar.style.display="none",t.removeEventListener("scroll",this._scrollHandler,!0)},scrollHandler:function(){clearTimeout(this.scrollUpdateTimer);var e=this;this.scrollUpdateTimer=setTimeout((function(){e.setPosition()}),100)},open:async function(e,t){if(this.shown&&this.data&&this.data.imgSrc){if(0===this.data.imgSrc.indexOf("blob:")){let e=await F(this.data.imgSrc);if(e){let t=this.data.src===this.data.imgSrc;this.data.imgSrc=e,this.data.srcs=[this.data.imgSrc],t&&(this.data.src=e)}}if("download"!==t||this.data.xhr){{let i=e.altKey;if("click"!=e.type&&A.floatBar.globalkeys.invertInitShow&&A.floatBar.globalkeys.alt&&(i=!1),A.floatBar.invertAdditionalFeature?!i:i){let e,i=A.floatBar.additionalFeature;if("actual"==t?this.data.xhr?t=i||"open":e=this.data.src||this.data.imgSrc:"current"==t&&(e=this.data.imgSrc),e){switch(i){case"copy":c(e);break;case"open":l(e,{active:!1});break;case"copyImg":fe(e)}return}}}var i=e&&e.ctrlKey?!A.waitImgLoad:A.waitImgLoad,a=e&&e.shiftKey?!A.framesPicOpenInTopWindow:A.framesPicOpenInTopWindow;i||"magnifier"!=t||x.chrome||(i=!0),new ge(this.data,t,i,a),"click"==e.type&&floatBar.hide()}else{if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return;j(this.data.src||this.data.imgSrc,this.data.img.title||this.data.img.alt,A.saveName)}}},update:function(e,t){this.data.img==e&&this.data.imgSrc!=t&&(this.data.src=t,this.data.noActual=!1,this.data.type="rule",this.shown&&this.setButton())}};var ye=function(){var e,t,a={},r={},n=0;function o(a,o,l,c,p,h,u){!async function(i,a,r,n){var o={method:"GET",url:i,onload:function(t){try{if(t.status>399)throw"Server error: "+t.status;n(t.responseText,t.finalUrl||i)}catch(t){e(t)}},onerror:e};a&&(o.method="POST",o.data=a,o.headers={"Content-Type":"application/x-www-form-urlencoded",Referer:i});r&&("function"==typeof r&&(r=await r(i,t)),o.headers=r);d(o)}(a,c,h,(async function(e){var c,d,h,m,g=[],f=function(e){var t=i.implementation.createHTMLDocument("PicViewerCE");return t.documentElement.innerHTML=e,t}(e);"function"==typeof o?(c=await o(e,f,a,t))&&(c.url&&(d=c.cap,c=c.url),Array.isArray(c)?(c=c.map((e=>u(e))),c=(g=c)[0]):c=u(c)):(s(o,f).forEach((function(e){g.push(u(function(e){be(e,!0);var t=e.src||e.href||e.children&&e.children[0]&&e.children[0].src;/^video$/i.test(e.nodeName)?t="video:"+t:/^audio$/i.test(e.nodeName)?t="audio:"+t:t.baseVal&&(t=t.baseVal);return!!t&&t.trim()}(e)))})),c=g[0]);if(l){if("function"==typeof l)d=await l(e,f,a,t);else{var v=s(l,f);d=!!v.length&&((m=v[0]).getAttribute("content")||m.getAttribute("title")||m.textContent)}Array.isArray(d)&&(d=(h=d)[0])}if(c){let e={iurl:c,iurls:g,cap:d,caps:h};r[a]=e,n&&E.setListItem("xhrCache",a,e,n)}p(c,g,d,h)}))}function s(e,t){var i,a,r=[];Array.isArray(e)||(e=[e]);for(var n=0,o=e.length;n<o;n++)a=e[n],(i=t.querySelectorAll(a))&&i.length&&[].forEach.call(i,(e=>{r.push(e)}));return r}return a.load=function(i){t=i.xhr;var a=r[i.url]||E.getListItem("xhrCache",i.url);if(n=t.cacheNum||0,a)return void i.cb(a.iurl,a.iurls,a.cap,a.caps);e=i.onerror||function(){};let s=i.url.match(/#p{(.*)}$/);!i.post&&s&&(i.post=s[1],i.url=i.url.replace(/#p{.*/,"")),o(i.url,t.query||t.q,t.caption||t.c,t.post,i.cb,t.headers,t.after)},a}();function be(e,t){if(e.removeAttribute&&e.removeAttribute("loading"),"IMG"!=e.nodeName.toUpperCase()||!t&&e.src&&!/^data/.test(e.src))return;let i;N.find((function(t,a,n){try{if(i=t.call(e),i)return!0}catch(e){r(e)}})),i&&(e.src=i)}function we(e){for(var t,i=e,a=[];i=i.parentElement;)if("A"==i.nodeName.toUpperCase()){t=i;break}for(i=e;(i=i.parentElement)&&"BODY"!=i.nodeName.toUpperCase();)a.push(i);var r,n,o,s,l,c=t?t.href:"",d=/^data:/i.test(e.src),p=!1,h=e.currentSrc||e.src||e.dataset.lazySrc,u=T.getComputedStyle(e);if(/^link$/i.test(e.nodeName)&&(u={height:64,width:64}),!/IMG/i.test(e.nodeName)&&u&&u.backgroundImage&&"none"!=u.backgroundImage){let t=u.height,i=u.width;e.offsetWidth||(i=10),e.offsetHeight||(t=10),"repeat"==u.backgroundRepeatX&&(i=10),"repeat"==u.backgroundRepeatY&&(t=10),u={height:t,width:i}}var m={h:parseFloat(u.height)||e.height||e.offsetHeight,w:parseFloat(u.width)||e.width||e.offsetWidth};if(0===m.h&&0===m.w)for(let e=0;e<a.length;e++)if(a[e].offsetHeight){m={h:a[e].offsetHeight,w:a[e].offsetWidth};break}var g={h:e.naturalHeight>1?e.naturalHeight:m.h,w:e.naturalWidth>1?e.naturalWidth:m.w};if(!r&&C.rules.length>0){try{let i=C.getImage(e,t,a);i&&h!=i&&(r=i)}catch(e){ee(e)}if(r&&(Array.isArray(r)&&(r=(n=r).shift()),o="rule",s=C.xhr,C.lazyAttr&&(h=e.getAttribute(C.lazyAttr)||e.src),C.description)){let t,i=C.description;Array.isArray(i)&&2===i.length&&(t=i[1],i=i[0]);var f=H(i,e);f&&(l=t?f.getAttribute(t):f.getAttribute("title")||f.textContent)}}if(/^IMG$/i.test(e.nodeName)&&!r&&c){if(c!=e.src&&D.test(c)&&/[&\?]url\=/.test(r=c)){r=r.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{r=decodeURIComponent(r)}catch(e){}}r&&(o="tpRule")}if(r||d||(N.find((function(i,a,n){try{if(r=i.call(e,t))return!0}catch(e){ee(e)}})),r&&(o="tpRule")),r&&r!=h||(p=!0,g.w!=m.w||g.h!=m.h?(r=h,o="scale",g.h<A.gallery.scaleSmallSize&&g.w<A.gallery.scaleSmallSize&&(o="scaleSmall")):(r=h,o="force","A"==e.nodeName&&(l=e.title||e.alt||e.innerText))),r)return{src:r,srcs:n,type:o,imgSrc:h,iPASrc:c,sizeH:g.h,sizeW:g.w,imgCS:m,imgAS:g,noActual:p,xhr:s,description:l||e.title||e.alt||e.parentNode&&e.parentNode.title||"",img:e,imgPA:t}}function Ae(){this.init()}const xe=new Set(["3gpp","m4v","mkv","mp4","ogv","webm","m3u8"]),ke=new Set(["flac","m4a","mp3","oga","ogg","opus","wav"]);function Se(e){if(-1!==e.indexOf(".video")||0===e.indexOf("video:"))return!0;(e=e.replace(/.gif(\?width=\d*&|\?)format=mp4/,".mp4?").replace(/\/$/,"")).lastIndexOf("?")>0&&(e=e.substring(0,e.lastIndexOf("?")));const t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return xe.has(t)||e.indexOf("googlevideo.com/videoplayback")>0||e.indexOf("v.redd.it")>0}function ze(e){if(-1!==e.indexOf(".audio")||0===e.indexOf("audio:"))return!0;(e=e.replace(/\/$/,"")).lastIndexOf("?")>0&&(e=e.substring(0,e.lastIndexOf("?")));const t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return ke.has(t)}Ae.prototype={init:function(){if(A.customRules){"[\n/*\n  {\n    name: \"Example, can be deleted safely\",\n    url: /^https?:\\/\\/www\\.google\\.com\\/search\\?/,\n    getImage: function(a) {},\n    src: /avatar/i,\n    r: /\\?.*$/i,\n    s: ''\n  }\n*/]"==A.customRules&&(A.customRules="[]");try{var e;-1!==A.customRules.indexOf("name:")?Le()||(e=T.eval(M(A.customRules))):e=JSON.parse(A.customRules),Array.isArray(e)&&e.forEach((e=>{e.custom=!0;let t=!1;for(let i=0;i<siteInfo.length;i++)if(siteInfo[i].name==e.name){t=!0;for(let t in e)siteInfo[i][t]=e[t];break}t||siteInfo.unshift(e)}))}catch(e){console.log("Wrong rule for Picviewer CE+"),console.log(e)}}var t=this,a=0,n=!1;function o(){setTimeout((()=>{let e=a+20;for(e=e>siteInfo.length?siteInfo.length:e;a<e;a++){let e=siteInfo[a];if(0!=e.enabled&&(!e.url||_(e.url).test(R))){if(e.xhr){e.xhr.after=i=>{let a=t.replaceByRule(i,e,!0);return Array.isArray(a)&&(a=a[0]),a&&a.length?a:i};let i="string"==typeof e.xhr.url&&e.xhr.url.match(/^\/(.*)\/(\w*)$/);i&&(e.xhr.url=_(i[1],i[2]))}if(e.url&&!n){if(n=!0,e.css)m(e.css).id="gm-picviewer-site-style";if(e.lazyAttr&&(t.lazyAttr=e.lazyAttr),e.description&&(t.description=e.description),e.clickToOpen&&(t.clickToOpen=e.clickToOpen),e.ext&&(t.ext=e.ext),e.gallery){let a=e.gallery;t.gallery=()=>"string"==typeof a?i.querySelectorAll(a):a()}if(e.video){let i="string"==typeof e.video&&e.video.match(/^\/(.*)\/(\w*)$/);i&&(e.video=_(i[1],i[2])),t.video=e.video}if(e.audio){let i="string"==typeof e.audio&&e.audio.match(/^\/(.*)\/(\w*)$/);i&&(e.audio=_(i[1],i[2])),t.audio=e.audio}if(e.getExtSrc&&(t.getExtSrc=e.getExtSrc),e.mute&&(t.mute=!0),e.xhr){let i=e.xhr;i.url&&!t.getExtSrc&&(t.xhrLink=!0,t.getExtSrc=function(e){let a,n;if((e=e||this)&&e.href?n=e:(n=e.parentNode,n&&n.href||(n=null)),i.url.test)n&&i.url.test(n.href)&&(a=n.href);else if("string"==typeof i.url)try{n&&e.matches(i.url)&&(a=n.href)}catch(e){r(e)}else a=i.url.call(e,n,[],i);return a?(t.xhr=i,a):(t.xhr=null,a)})}}t.rules.push(e)}}e<siteInfo.length?o():t.rules.sort(((e,t)=>e.custom&&!t.custom?-1:!e.custom&&t.custom?1:e.url&&!t.url?-1:!e.url&&t.url?1:0))}),1)}t.rules=[],setTimeout((()=>{T.pvcepRules&&Array.isArray(T.pvcepRules)&&T.pvcepRules.forEach((e=>{e.custom=!0;let t=!1;for(let i=0;i<siteInfo.length;i++)if(siteInfo[i].name==e.name){t=!0;for(let t in e)siteInfo[i][t]=e[t];break}t||siteInfo.unshift(e)})),o()}),1)},replace:function(e,t,i){var a,r=[];let n="string"==typeof t&&t.match(/^\/(.*)\/(\w+)$/);if(n&&(t=_(n[1],n[2])),Array.isArray(i))i.forEach((i=>{(a=e.replace(t,i))&&a!=e&&r.push(a)}));else if((a=e.replace(t,i))&&a!=e)return a;return r},replaceByRule:function(e,t,i){if(i&&(!t.r||/^data:/i.test(e)))return e;let a;if(Array.isArray(t.r))for(var r=0;r<t.r.length;r++){var n=t.r[r];if(n){if(Array.isArray(t.s)){var o=t.s[r];a=this.replace(e,n,o)}else a=this.replace(e,n,t.s);if(a&&a.length&&a!==e)break}}else a=this.replace(e,t.r,t.s);return a&&a.length?a:e},getMode:function(e){return e&&e.length?this.video&&this.video.test(e)?"video":this.audio&&this.audio.test(e)?"audio":Se(e)?"video":ze(e)?"audio":"":""},getImage:function(e,t,i,a){for(var n,o,s=/^data:/i.test(e.src),l=0;l<this.rules.length;l++)if((!(o=this.rules[l]).src||_(o.src).test(e.src))&&(!o.exclude||!_(o.exclude).test(e.src))){if(o.xhr)if(o.xhr.url){if(o.xhr.url.test)t&&o.xhr.url.test(t.href)&&(n=t.href);else if("string"==typeof o.xhr.url)try{t&&t.matches(o.xhr.url)&&(n=t.href)}catch(e){r(e)}else n=o.xhr.url.call(a||e,t,i,o.xhr);if(n)return this.xhr=o.xhr,n;this.xhr=null}else t&&(n=t.href);if(!s||o.url&&o.getImage){if(n)return this.xhr=o.xhr,n;if(n=o.getImage?o.getImage.call(a||e,t,i,o):null,!s&&o.r&&e.src&&(n||(n=e.currentSrc||e.src),n=this.replaceByRule(n,o)),n&&n.length>0&&n!=(e.currentSrc||e.src)){r(o);break}n=null}}return n&&0==n.length&&(n=null),n}};var Ie,Me,Ee,Te=t!=t.parent;var Ce="pv-0.5106795670312598",Re=null;function Le(){if(null===Re)try{Re=T.eval(M("false"))}catch(e){console.debug("unsafe"),Re=!0}return Re}var Ne,Be,De,Ue,Ge,We,Ze,Oe=!1,je=!1;function Ye(e){return!(!e.ctrlKey&&"Control"!==e.key&&A.floatBar.globalkeys.ctrl||!e.altKey&&"Alt"!==e.key&&A.floatBar.globalkeys.alt||!e.shiftKey&&"Shift"!==e.key&&A.floatBar.globalkeys.shift||!e.metaKey&&"Meta"!==e.key&&A.floatBar.globalkeys.command||!A.floatBar.globalkeys.ctrl&&!A.floatBar.globalkeys.alt&&!A.floatBar.globalkeys.shift&&!A.floatBar.globalkeys.command)}function Fe(e){if(je)return!1;let t;try{t=!Ve&&Je}catch(e){}if(t)return!1;let i="hold"==A.floatBar.globalkeys.type&&Ye(e)||"press"==A.floatBar.globalkeys.type&&Oe;return A.floatBar.globalkeys.invertInitShow?!i:i}function Pe(e,t,a,n,o,s){let l=e;if(!l||"pv-float-bar-container"==l.id||l.parentNode&&("icons"==l.parentNode.id||"search-jumper-btn"==l.parentNode.className)||l.className&&(/^pv\-/.test(l.className)||"whx-a"==l.className||"whx-a-node"==l.className||"search-jumper-btn"==l.className||l.classList.contains("pv-icon")||l.classList.contains("ks-imagezoom-lens")))return;if("PICTURE"==l.nodeName.toUpperCase()&&(l=l.querySelector("img")),"mousemove"==t){if(Be&&!Be.removed&&!Be.previewed)return Be.followPos(n,o),void(a||Be.remove());if("IMG"!=l.nodeName.toUpperCase()||!a)return}if("IMG"!=l.nodeName.toUpperCase()&&C.rules.length>0&&C.ext){var c=typeof C.ext;if("string"==c)switch(C.ext){case"previous":l=l.previousElementSibling||l;break;case"next":l=l.nextElementSibling||l;break;case"previous-2":l=l.previousElementSibling&&l.previousElementSibling.previousElementSibling||l}else if("function"==c){try{l=C.ext(l)||l}catch(e){ee(e)}if(!l)return}}let d,p,h=/.*url\(\s*["']?([^ad\s'"].+?)["']?\s*\)([^'"]|$)/i,u=/^\s*url\(\s*["']?([^ad\s'"].+?)["']?\s*\)([^'"]|$)/i,m=e=>{if("HTML"==e.nodeName.toUpperCase()||"#document"==e.nodeName)return!1;if(e.clientWidth<=A.floatBar.minSizeLimit.w||e.clientHeight<=A.floatBar.minSizeLimit.h)return!1;p="";let t=T.getComputedStyle(e),i="repeat"!=t.backgroundRepeatX&&"repeat"!=t.backgroundRepeatY&&t.backgroundImage;return i&&"none"!==i&&(p=t.backgroundImage.match(i.length>500?u:h)),p||(t=T.getComputedStyle(e,"::before"),i="repeat"!=t.backgroundRepeatX&&"repeat"!=t.backgroundRepeatY&&t.backgroundImage,i&&"none"!==i&&(p=t.backgroundImage.match(i.length>500?u:h))),p||(t=T.getComputedStyle(e,"::after"),i="repeat"!=t.backgroundRepeatX&&"repeat"!=t.backgroundRepeatY&&t.backgroundImage,i&&"none"!==i&&(p=t.backgroundImage.match(i.length>500?u:h))),p&&(p=p[1].replace(/\\"/g,'"')),p};if("IMG"!=l.nodeName.toUpperCase()&&C.getExtSrc){let e;try{e=C.getExtSrc.call(l)}catch(e){ee(e)}if(e){let t=e,i=A.floatBar.listenBg&&m(l)?p:e;if(Array.isArray(e)&&2==e.length&&(i=e[0],t=e[1]),!C.xhrLink){let e,i=l,a=[];do{if("A"==i.nodeName.toUpperCase()){e=i;break}}while(i=i.parentElement);for(i=l;(i=i.parentElement)&&"BODY"!=i.nodeName.toUpperCase();)a.push(i);t=C.getImage(l,e,a)||t}let a=t===i;d={src:t,type:C.xhrLink&&a?"link":"rule",imgSrc:i,noActual:a,img:l,xhr:C.xhr}}}if(!d){if("IMG"!=l.nodeName.toUpperCase()&&"img"==l.dataset.role){let e=l.parentNode.querySelector("img");e&&(l=e)}if("IMAGE"==l.nodeName.toUpperCase()){let e=l.href&&l.href.baseVal;e&&(d={src:e,type:"rule",imgSrc:e,noActual:!0,img:l.parentNode})}else if("IMG"!=l.nodeName.toUpperCase()){let e=!1;var g,f;if("AREA"==l.nodeName.toUpperCase()&&(l=l.parentNode),"A"!=l.nodeName.toUpperCase()&&l.parentNode&&l.parentNode.style&&!/flex|grid|table/.test(getComputedStyle(l.parentNode).display)){for(g=l.previousElementSibling;g&&("IMG"==g.nodeName?f=g:"PICTURE"==g.nodeName&&(f=g.querySelector("img")),"absolute"===getComputedStyle(g).position);)g=g.previousElementSibling;if(g==l)g=null;else if(!g){for(g=l.nextElementSibling;g&&("IMG"==g.nodeName?f=g:"PICTURE"==g.nodeName&&(f=g.querySelector("img")),"absolute"!=getComputedStyle(g).position);)g=g.nextElementSibling;g==l&&(g=null)}}if(A.floatBar.listenBg&&m(l)){d={src:p,type:"scale",imgSrc:p,noActual:!0,img:l},e=!0}else if(f)l=f,e=!0;else if("CANVAS"==l.nodeName.toUpperCase()){let t=l.src||l.dataset.src;if(t){d={src:t,type:"scale",imgSrc:t,noActual:!0,img:l},e=!0}}else if(1!=l.children.length||l.textContent&&l.textContent.trim()||"IMG"!=l.children[0].nodeName){if(A.floatBar.listenBg&&g&&m(g)){d={src:p,type:"scale",imgSrc:p,noActual:!0,img:l},e=!0}else if(l.parentNode){let t;if("A"==l.nodeName&&(t=l.querySelectorAll("img")),t&&1==t.length)l=t[0],e=!0;else if("IMG"==l.parentNode.nodeName.toUpperCase())l=l.parentNode,e=!0;else if(A.floatBar.listenBg&&m(l.parentNode)){l=l.parentNode;d={src:p,type:"scale",imgSrc:p,noActual:!0,img:l},e=!0}}}else l=l.children[0],e=!0;if(!e){let t=l;for(;t&&(!t.textContent||!t.textContent.trim())&&1===t.children.length;){if(t=t.children[0],"IMG"===t.nodeName){l=t,e=!0;break}if(A.floatBar.listenBg&&m(t)){d={src:p,type:"scale",imgSrc:p,noActual:!0,img:t},e=!0;break}}}if(!e&&l.children&&l.children[0]&&"IMG"==l.children[0].nodeName.toUpperCase()){let t=l.children[0];for(;t.nextElementSibling&&"IMG"==t.nextElementSibling.nodeName.toUpperCase();)t=t.nextElementSibling;let i=t.getBoundingClientRect();o>=i.top&&o<=i.bottom&&n>=i.left&&n<=i.right&&(l=t,e=!0)}if(!e&&i.elementsFromPoint){let t=i.elementsFromPoint(n,o),a=Math.min(t.length,10);for(let i=0;i<a;i++){let a=t[i];if(a){if(/^img$/i.test(a.nodeName)){l=a,d=null,e=!0;break}if(A.floatBar.listenBg&&m(a)){l=a;d={src:p,type:"scale",imgSrc:p,noActual:!0,img:l},e=!0;break}if("CANVAS"==a.nodeName.toUpperCase()){let t=a.src||a.dataset.src;if(t){l=a,d={src:t,type:"scale",imgSrc:t,noActual:!0,img:l},e=!0;break}}}}}if(!e&&l.shadowRoot){let e=l.shadowRoot.querySelectorAll("img");1===e.length&&(l=e[0])}if(d&&!/^data:/i.test(d.src)&&C.rules.length>0&&"IMG"!=l.nodeName.toUpperCase()){let e,t=d.src,i={src:t},a=t;try{let r,n=l,o=[];for(;n=n.parentElement;)if("A"==n.nodeName.toUpperCase()){r=n;break}for(n=l;(n=n.parentElement)&&"BODY"!=n.nodeName.toUpperCase();)o.push(n);let s=C.getImage(i,r,o,l);if(s&&a!=s){let a,r;if(t=s,Array.isArray(t)&&(a=t,t=a.shift()),e="rule",C.description){let e,t=C.description;Array.isArray(t)&&2===t.length&&(e=t[1],t=t[0]);var v=H(t,i);v&&(r=e?v.getAttribute(e):v.getAttribute("title")||v.textContent)}d.src=t,d.type=e,d.noActual=!1,d.xhr=C.xhr,d.description=r||""}}catch(e){}"rule"!=d.type&&(N.find((function(e,a,r){try{if(t=e.call(i),t)return!0}catch(e){}})),t&&t!=a&&(d.src=t,d.type="tpRule",d.noActual=!1))}}}var y=function(){if(a){if("link"!=d.type&&"rule"!=d.type&&d.src==d.imgSrc&&d.imgAS.w<1.5*d.imgCS.w&&d.imgAS.h<1.5*d.imgCS.h){if(d.img&&d.img.childElementCount)return!1;var t=J();if(d.imgAS.w<=t.w&&d.imgAS.h<=t.h)return!1}if(We=n,Ze=o,Be&&!Be.removed){if(Be.src==d.src)return!0;Be.remove()}return function(e,t){Ge&&i.removeEventListener("mousemove",Ge,!0),Ue&&clearTimeout(Ue),Ge=t=>{if(We=t.clientX,Ze=t.clientY,e!=t.target){let a=e.getBoundingClientRect(),r=t.target.getBoundingClientRect();a&&r&&(a.left>r.left||a.right<r.right||a.top>r.top||a.bottom<r.bottom)&&(i.removeEventListener("mousemove",Ge,!0),clearTimeout(Ue))}},i.addEventListener("mousemove",Ge,!0),Ue=setTimeout((()=>{i.removeEventListener("mousemove",Ge,!0),t()}),A.floatBar.showDelay||0)}(e,(()=>{new ge(d,"popup",A.waitImgLoad,A.framesPicOpenInTopWindow)})),!0}return!1};if(!d&&"IMG"!=l.nodeName.toUpperCase()){if(Ve&&n>Ve.left&&n<Ve.left+Ve.width&&o>Ve.top&&o<Ve.top+Ve.height)return d={src:Je,type:"link",imgSrc:Je,noActual:!0,img:l},y(),floatBar||(floatBar=new ve),void floatBar.start(d);if("A"==l.nodeName.toUpperCase()&&D.test(l.href)||(l=l.parentNode&&"A"==l.parentNode.nodeName.toUpperCase()&&D.test(l.parentNode.href)?l.parentNode:null),l){let e=l.href;if(/[&\?]url\=/.test(e)){e=e.replace(/.*[&\?]url\=(.*?)(&.*|$)/,"$1");try{e=decodeURIComponent(e)}catch(e){}}d={src:e,type:"link",imgSrc:e,noActual:!0,img:l,description:l.title||l.innerText},y(),floatBar||(floatBar=new ve),floatBar.start(d)}return}let b=!1;if((d||(be(l),d=we(l),d))&&d){if(!d.imgAS&&!d.imgCS){let e={w:d.img.offsetWidth||d.img.scrollWidth||l.offsetWidth||l.scrollWidth,h:d.img.offsetHeight||d.img.scrollHeight||l.offsetHeight||l.scrollHeight};d.imgAS=e,d.imgCS=e}(!A.floatBar.showWithRules||"rule"!=d.type&&"tpRule"!=d.type)&&(d.imgAS.w!=d.imgCS.w||d.imgAS.h!=d.imgCS.h?A.floatBar.sizeLimitOr?d.imgCS.h<=A.floatBar.minSizeLimit.h&&d.imgCS.w<=A.floatBar.minSizeLimit.w&&(b=!0):(d.imgCS.h<=A.floatBar.minSizeLimit.h||d.imgCS.w<=A.floatBar.minSizeLimit.w)&&(b=!0):A.floatBar.sizeLimitOr?d.imgCS.w<=A.floatBar.forceShow.size.w&&d.imgCS.h<=A.floatBar.forceShow.size.h&&(b=!0):(d.imgCS.w<=A.floatBar.forceShow.size.w||d.imgCS.h<=A.floatBar.forceShow.size.h)&&(b=!0)),r(d),d.noActual||(d.srcs?d.imgSrc&&-1==d.srcs.join(" ").indexOf(d.imgSrc)&&d.srcs.push(d.imgSrc):d.srcs=[d.imgSrc]),floatBar||(floatBar=new ve),"rule"==d.type&&C.clickToOpen&&C.clickToOpen.enabled&&(Ne&&Ne(),Ne=function(e){var t=C.clickToOpen.preventDefault,a=C.clickToOpen.button||0,r=!!C.clickToOpen.alt,n=!!C.clickToOpen.ctrl,o=!!C.clickToOpen.shift,s=!!C.clickToOpen.meta;function l(){i.removeEventListener("mouseout",l,!0),i.removeEventListener(2==a?"contextmenu":"mousedown",d,!0),e.imgPA&&t&&e.imgPA.removeEventListener("click",p,!0)}function c(e){return e.button==a&&e.altKey==r&&e.ctrlKey==n&&e.shiftKey==o&&e.metaKey==s}function d(i){if(c(i))return ve.prototype.open.call({data:e},i,C.clickToOpen.type),t?(i.preventDefault(),i.stopPropagation(),!1):void 0}function p(e){c(e)&&e.preventDefault()}return i.addEventListener(2==a?"contextmenu":"mousedown",d,!0),e.imgPA&&t&&e.imgPA.addEventListener("click",p,!0),setTimeout((function(){i.addEventListener("mouseout",l,!0)}),100),function(){l()}}(d));let e=b||"hide"==A.floatBar.position||s;d.hide=e;let t=floatBar.start(d);!y()&&t&&(0==floatBar.floatBar.style.opacity&&(floatBar.floatBar.style.opacity=""),floatBar.floatBar.style.display="initial")}}var _e,He=!1;function Qe(e){if(ne)return;if(e.target==me.overlayer)return;let t=Fe(e);if("mousemove"==e.type){if(!He)return void(He=!0);if(Be&&!Be.removed&&!Be.previewed)return void(t?(We=e.clientX,Ze=e.clientY,Be.followPos(We,Ze)):Be.remove());{if(!t)return;let i=e.target;if("PICTURE"==i.nodeName&&(i=i.querySelector("img")||i),"IMG"!=i.nodeName)return}}He&&(clearTimeout(_e),_e=setTimeout((function(){e&&e.target&&e.target.parentNode&&(re&&re.shown||Pe(e.target,e.type,t,e.clientX,e.clientY,e.altKey))}),50))}var Ve,Je,Xe=!1;async function qe(e,a){await new Promise((r=>{let n=setInterval((()=>{let o=i.querySelector(e);if(o){o.focus(),o.scrollIntoView();let e=o.value;if("INPUT"==o.nodeName)Object.getOwnPropertyDescriptor(t.HTMLInputElement.prototype,"value").set.call(o,a);else Object.getOwnPropertyDescriptor(t.HTMLTextAreaElement.prototype,"value").set.call(o,a);let i=new Event("focus",{bubbles:!0});o.dispatchEvent(i),i=new Event("input",{bubbles:!0});let s=o._valueTracker;s&&s.setValue(e),o.dispatchEvent(i),i=new Event("change",{bubbles:!0}),o.dispatchEvent(i),clearInterval(n),r()}}),100)}))}async function Ke(e,t){await new Promise((a=>{let r=setInterval((()=>{let n=i.querySelector(e);n?(clearInterval(r),function(e){if(!PointerEvent)return e.click();let t={isTrusted:!0,altKey:!1,azimuthAngle:0,bubbles:!0,button:0,buttons:0,clientX:1,clientY:1,cancelBubble:!1,cancelable:!0,composed:!0,ctrlKey:!1,defaultPrevented:!1,detail:1,eventPhase:2,fromElement:null,height:1,isPrimary:!1,metaKey:!1,pointerId:1,pointerType:"mouse",pressure:0,relatedTarget:null,returnValue:!0,shiftKey:!1,toElement:null,twist:0,which:1};e.focus();var i=new PointerEvent("mouseover",t);e.dispatchEvent(i),i=new PointerEvent("pointerover",t),e.dispatchEvent(i),i=new PointerEvent("mousedown",t),e.dispatchEvent(i),i=new PointerEvent("pointerdown",t),e.dispatchEvent(i),i=new PointerEvent("mouseup",t),e.dispatchEvent(i),i=new PointerEvent("pointerup",t),e.dispatchEvent(i),e.click()}(n),a()):t&&t()}),100)}))}async function $e(e){await new Promise((t=>{setTimeout((()=>{t()}),e)}))}async function et(){re||((re=new he).data=[]);var e=await re.getAllValidImgs();if(!(e.length<1))return re.data=e,re.load(re.data),re}function tt(e){const t=e.activeElement;return t?t.shadowRoot?tt(t.shadowRoot):t:null}function it(e){let t=tt(e);if(t&&(/INPUT|TEXTAREA/i.test(t.nodeName)&&"true"!=t.getAttribute("aria-readonly")||"true"==t.contentEditable))return!0;for(;t&&t.nodeName;){if("true"==t.contentEditable)return!0;if("BODY"==t.nodeName.toUpperCase())break;t=t.parentNode}return!1}function at(e){let t=i.createDocumentFragment();return e.forEach((e=>{if(/^script/i.test(e.node))return;let a=i.createElement(e.node);if(e.text&&(a.innerText=e.text),e.attr&&Object.keys(e.attr).forEach((t=>{/^on/i.test(t)||a.setAttribute(t,e.attr[t])})),e.children){let t=at(e.children);a.appendChild(t)}t.appendChild(a)})),t}i.addEventListener("selectionchange",(e=>{Xe||(Xe=!0,setTimeout((()=>{Xe=!1;const e=t.getSelection();if((Je=e.toString())&&Je.length<500&&D.test(Je)){const t=e.getRangeAt(0);Ve=t.getBoundingClientRect()}else Ve=null}),300))})),i.addEventListener("visibilitychange",(e=>{He=!1})),t.addEventListener("message",(function(e){var a=e.data;if(a&&a.messageID&&a.messageID==Ce){var r,n=e.source;if(void 0===n||n!==t)if(Te)switch(a.command){case"navigateToImg":if(!Me.unique){var o=he.prototype.unique(Me);(Me=o.data).unique=!0}var s=Me[a.index].img,l=i.documentElement.contains(s)&&"none"!=T.getComputedStyle(s).display;l&&(re&&re.shown&&re.minimize(),setTimeout((function(){he.prototype.navigateToImg(s),ie(s)}),0)),a.from&&t.postMessage({messageID:Ce,command:"navigateToImg",exist:l,to:a.from,index:a.index},"*");break;case"sendFail":Me=Ee;break;case"topWindowValid_frame":(r=i.createEvent("CustomEvent")).initCustomEvent("pv-topWindowValid",!1,!1,a.valid),i.dispatchEvent(r)}else switch(a.command){case"open":if("download"===a.buttonType)return void j(a.src,i.title,A.saveName);var c=i.createElement("img");c.src=a.src,ce(c,{ready:function(){ge.prototype.open.call({img:c,data:a.data,buttonType:a.buttonType,from:a.from})}});break;case"navigateToImg":(r=i.createEvent("CustomEvent")).initCustomEvent("pv-navigateToImg",!1,!1,a.exist),i.dispatchEvent(r);break;case"topWindowValid":a.from&&t.postMessage({messageID:Ce,command:"topWindowValid_frame",valid:"FRAMESET"!=z(i).nodeName.toUpperCase(),to:a.from},"*")}}}),!0),function(){if(!Le()){var e=i.createElement("script");e.id="picviewer-page-script";e.textContent=M("("+function(e){var a=Math.random(),r={top:t.top};t.addEventListener("message",(function(n){var o=n.data;if(o&&o.messageID&&o.messageID==e){var s=n.source;if(s===t){if(o.to)o.from=a,r[o.to].postMessage(o,"*");else if("getIframeObject"===o.command){for(var l,c,d=r[o.windowId],p=i.getElementsByTagName("iframe"),h=p.length-1;h>=0;h--)if((l=p[h]).contentWindow===d){c=l;break}var u=i.createEvent("CustomEvent");u.initCustomEvent("pv-getIframeObject",!1,!1,c),i.dispatchEvent(u)}}else r[o.from]=s}}),!0)}.toString()+")("+JSON.stringify(Ce)+")"),i.head&&i.head.appendChild(e)}}(),i.addEventListener("keyup",(function(e){!(!e.isTrusted||"Alt"==e.key||"Control"==e.key||"Meta"==e.key)||"hold"!=A.floatBar.globalkeys.type&&Fe(e)||!Be||Be.removed||(clearTimeout(_e),A.floatBar.globalkeys.closeAfterPreview?Be&&Be.remove():(Be.focus(),Be.imgWindow.classList.remove("pv-pic-window-transition-all"),Be.imgWindow.classList.remove("preview"),Be.previewed=!0,Be=null))}),!1),i.addEventListener("mouseenter",Qe,!0),i.addEventListener("mousemove",Qe,!0),i.addEventListener("mouseout",(e=>{if(e.relatedTarget!=me.overlayer&&Be&&!Be.removed&&Fe(e)){let t=Be.data.img.getBoundingClientRect();(e.clientX<t.left+20||e.clientX>t.right-20||e.clientY<t.top+20||e.clientY>t.bottom-20)&&Be&&Be.remove()}}),!0);var rt={Lunapic:(e,t)=>{l("https://www.lunapic.com/editor/index.php?action=url&url="+e,{active:!0})},"Pixlr easy":async(e,t)=>{t?(E.setItem("editUrl",e),l("https://pixlr.com/x/",{active:!0})):(E.setItem("editUrl",""),/^https:\/\/pixlr\.com\//.test(location.href)&&(await $e(1e3),await Ke("#splash-file-menu"),await Ke("#splash-file-url"),await qe("#image-url",e),await Ke(".dialog>.buttons>a.button.positive")))},"Pixlr advanced":async(e,t)=>{t?(E.setItem("editUrl",e),l("https://pixlr.com/e/",{active:!0})):(E.setItem("editUrl",""),/^https:\/\/pixlr\.com\//.test(location.href)&&(await $e(1e3),await Ke("#splash-file-menu"),await Ke("#splash-file-url"),await qe("#image-url",e),await Ke(".dialog>.buttons>a.button.positive")))},Photopea:async(e,t)=>{t?(E.setItem("editUrl",e),l("https://www.photopea.com/",{active:!0})):(E.setItem("editUrl",""),/^https:\/\/www\.photopea\.com\//.test(location.href)&&(await $e(1e3),await Ke(".topbar>span>button"),await Ke(".cmanager>.contextpanel>div:nth-child(4)"),await Ke(".cmanager>div:last-child>div:nth-child(3)"),await qe("span.fitem.tinput>input",e),await Ke(".form>button")))}},nt={};for(let e in rt)nt[e]=e;var ot=!1,st=null;o();var lt={auto:s("defaultLang")};for(let e in langList)lt[e]=langList[e];GM_config.init({id:"pv-prefs",title:GM_config.create("a",{href:"https://greasyfork.org/scripts/24204-picviewer-ce",target:"_blank",textContent:"Picviewer CE+ "+s("config"),title:s("openHomePage")}),isTabs:!0,skin:"tab",frameStyle:{minWidth:"350px",width:(function(e,t,a){if(!P.style)return 230;P.style.fontSize=t||"inherit",P.style.fontFamily=a||"inherit",P.innerText=e,z(i).appendChild(P);let r=P.offsetWidth;return z(i).removeChild(P),r}(s("floatBar")+s("magnifier")+s("gallery")+s("imgWindow")+s("others"),"14px","arial,tahoma,myriad pro,sans-serif")+250||480)+"px",zIndex:"2147483648",margin:"1px",border:"2px solid rgb(0, 0, 0)"},css:["#pv-prefs input[type='text'] { width: 50px; } ","#pv-prefs input[type='number'] { width: 50px; } ","#pv-prefs .inline .config_var { margin-left: 6px; }","#pv-prefs label.size { width: 205px; }","#pv-prefs span.sep-x { margin-left: 0px !important; }","#pv-prefs label.sep-x { margin-right: 5px; }","#pv-prefs label.floatBar-key { margin-left: 20px; width: 100px; }","#pv-prefs input.color { width: 120px; }","#pv-prefs input.order { width: 250px; }","#pv-prefs .config_header>a { border-bottom: solid 2px; }","#pv-prefs a:hover { color: #9f9f9f; }","#pv-prefs a { color: black; }","#pv-prefs .section_header_holder { padding-right: 10px; }","#pv-prefs textarea { width: 100%; }","#pv-prefs .nav-tabs { white-space: nowrap; width: fit-content; max-width: 100%; margin: 20 auto; display: flex; overflow-x: auto; overflow-y: visible; }"].join("\n"),fields:{"floatBar.position":{label:s("position"),title:s("positionTips"),type:"select",options:{"top left":s("topLeft"),"top right":s("topRight"),"bottom right":s("bottomRight"),"bottom left":s("bottomLeft"),"top center":s("topCenter"),"bottom center":s("bottomCenter"),hide:s("hide")},default:A.floatBar.position,section:[s("floatBar")]},"floatBar.stayOut":{label:s("stayOut"),type:"checkbox",default:A.floatBar.stayOut,line:"start"},"floatBar.stayOutOffsetX":{label:"X:",type:"int",default:A.floatBar.stayOutOffsetX},"floatBar.stayOutOffsetY":{label:"Y:",type:"int",default:A.floatBar.stayOutOffsetY,after:" "+s("px"),line:"end"},"floatBar.showDelay":{label:s("showDelay"),type:"int",default:A.floatBar.showDelay,after:" "+s("ms")},"floatBar.hideDelay":{label:s("hideDelay"),type:"int",className:"hideDelay",default:A.floatBar.hideDelay,after:" "+s("ms")},"floatBar.forceShow.size.w":{label:s("forceShow"),type:"int",className:"size",default:A.floatBar.forceShow.size.w,title:s("forceShowTip"),line:"start"},"floatBar.forceShow.size.h":{label:" x ",type:"int",className:"sep-x",after:" "+s("px"),default:A.floatBar.forceShow.size.h,line:"end"},"floatBar.minSizeLimit.w":{label:s("minSizeLimit"),type:"int",className:"size",default:A.floatBar.minSizeLimit.w,title:s("minSizeLimitTip"),line:"start"},"floatBar.minSizeLimit.h":{label:" x ",type:"int",className:"sep-x",after:" "+s("px"),default:A.floatBar.minSizeLimit.h,line:"end"},"floatBar.sizeLimitOr":{label:s("sizeLimitOr"),type:"checkbox",default:!1},"floatBar.showWithRules":{label:s("showWithRules"),type:"checkbox",default:A.floatBar.showWithRules,title:s("showWithRulesTip")},"floatBar.butonOrder":{label:s("butonOrder"),type:"text",className:"order",title:"actual,current,gallery,magnifier,download",default:A.floatBar.butonOrder.join(", ")},"floatBar.additionalFeature":{label:s("additionalFeature"),type:"select",options:{copy:s("copy"),copyImg:s("copyImg"),open:s("openInNewTab")},default:A.floatBar.additionalFeature||"open"},"floatBar.invertAdditionalFeature":{label:s("invertAdditionalFeature"),type:"checkbox",default:A.floatBar.invertAdditionalFeature},"floatBar.listenBg":{label:s("listenBg"),type:"checkbox",default:A.floatBar.listenBg,title:s("listenBgTip")},"floatBar.globalkeys.ctrl":{label:s("globalkeys"),type:"checkbox",after:"CTRL +",default:!0,line:"start"},"floatBar.globalkeys.alt":{after:"ALT +",type:"checkbox",className:"sep-x",default:!1},"floatBar.globalkeys.shift":{after:"SHIFT +",type:"checkbox",className:"sep-x",default:!1},"floatBar.globalkeys.command":{after:"META",type:"checkbox",className:"sep-x",default:!1,line:"end"},"floatBar.globalkeys.type":{label:s("globalkeysType"),type:"select",options:{press:s("globalkeysPress"),hold:s("globalkeysHold")},default:A.floatBar.globalkeys.type},"floatBar.globalkeys.invertInitShow":{label:s("initShow"),type:"checkbox",default:A.floatBar.globalkeys.invertInitShow},"floatBar.globalkeys.closeAfterPreview":{label:s("closeAfterPreview"),type:"checkbox",default:A.floatBar.globalkeys.closeAfterPreview},"floatBar.previewMaxSizeW":{label:s("previewMaxSize"),type:"int",className:"size",default:A.previewMaxSizeW||0,title:s("previewMaxSizeTip"),line:"start"},"floatBar.previewMaxSizeH":{label:" x ",type:"int",className:"sep-x",after:" "+s("px"),default:A.previewMaxSizeH||0,line:"end"},"floatBar.globalkeys.previewFollowMouse":{label:s("previewFollowMouse"),type:"checkbox",default:A.floatBar.globalkeys.previewFollowMouse},"floatBar.keys.enable":{label:s("keysEnable"),type:"checkbox",default:A.floatBar.keys.enable},"floatBar.keys.actual":{label:s("keysActual"),type:"text",className:"floatBar-key",default:A.floatBar.keys.actual,title:s("keysActualTip")},"floatBar.keys.current":{label:s("keysCurrent"),type:"text",className:"floatBar-key",default:A.floatBar.keys.current,title:s("keysCurrentTip")},"floatBar.keys.magnifier":{label:s("keysMagnifier"),type:"text",className:"floatBar-key",default:A.floatBar.keys.magnifier,title:s("keysMagnifierTip")},"floatBar.keys.gallery":{label:s("keysGallery"),type:"text",className:"floatBar-key",default:A.floatBar.keys.gallery,title:s("keysGalleryTip")},"floatBar.keys.download":{label:s("download"),type:"text",className:"floatBar-key",default:A.floatBar.keys.download},"floatBar.disableKeySites":{label:s("disableKeySites"),type:"textarea",default:A.floatBar.disableKeySites},"magnifier.radius":{label:s("magnifierRadius"),type:"int",default:A.magnifier.radius,section:[s("magnifier")],after:" "+s("px")},"magnifier.wheelZoom.enabled":{label:s("magnifierWheelZoomEnabled"),type:"checkbox",default:A.magnifier.wheelZoom.enabled},"magnifier.wheelZoom.scaleImage":{label:s("magnifierScaleImage"),type:"checkbox",default:!1!==A.magnifier.wheelZoom.scaleImage},"magnifier.wheelZoom.ctrl":{label:"",type:"checkbox",after:"CTRL +",default:!1,line:"start"},"magnifier.wheelZoom.alt":{after:"ALT +",type:"checkbox",className:"sep-x",default:!1},"magnifier.wheelZoom.shift":{after:"SHIFT +",type:"checkbox",className:"sep-x",default:!1},"magnifier.wheelZoom.meta":{after:"META",type:"checkbox",className:"sep-x",default:!1,line:"end"},"magnifier.wheelZoom.range":{label:s("magnifierWheelZoomRange"),type:"textarea",default:A.magnifier.wheelZoom.range.join(", ")},"gallery.defaultSizeLimit.w":{label:s("defaultSizeLimit"),type:"int",className:"size",section:[s("gallery")],default:A.gallery.defaultSizeLimit.w,line:"start"},"gallery.defaultSizeLimit.h":{label:" x ",type:"int",className:"sep-x",after:" "+s("px"),default:A.gallery.defaultSizeLimit.h,line:"end"},"gallery.fitToScreen":{label:s("galleryFitToScreen"),type:"checkbox",default:A.gallery.fitToScreen,title:s("galleryFitToScreenTip"),line:"start"},"gallery.fitToScreenSmall":{label:s("galleryFitToScreenSmall"),type:"checkbox",default:A.gallery.fitToScreenSmall,line:"end"},"gallery.scrollEndToChange":{label:s("galleryScrollEndToChange"),type:"checkbox",default:A.gallery.scrollEndToChange,title:s("galleryScrollEndToChangeTip")},"gallery.backgroundColor":{label:s("backgroundColor"),type:"text",className:"color",default:A.gallery.backgroundColor||"rgba(20,20,20,0.75)",line:"end"},"gallery.exportType":{label:s("galleryExportType"),type:"select",options:{grid:s("grid"),gridBig:s("gridBig"),list:s("list")},default:A.gallery.exportType},"gallery.loadMore":{label:s("galleryAutoLoad"),type:"checkbox",default:A.gallery.loadMore},"gallery.loadAll":{label:s("galleryLoadAll"),type:"checkbox",default:A.gallery.loadAll,title:s("galleryLoadAllTip")},"gallery.viewmoreEndless":{label:s("viewmoreEndless"),type:"checkbox",default:A.gallery.viewmoreEndless},"gallery.downloadWithZip":{label:s("galleryDownloadWithZip"),type:"checkbox",default:A.gallery.downloadWithZip},"gallery.downloadGap":{label:s("galleryDownloadGap"),type:"int",default:A.gallery.downloadGap,after:" ms"},"gallery.formatConversion":{label:s("formatConversion"),type:"textarea",title:"webp>png\nx-icon>png",default:A.gallery.formatConversion||""},"gallery.aria2Host":{label:s("aria2Host"),type:"text",className:"order",default:A.gallery.aria2Host||"http://localhost:6800"},"gallery.aria2Token":{label:s("aria2Token"),type:"text",default:A.gallery.aria2Token||""},"gallery.scaleSmallSize":{label:s("galleryScaleSmallSize1"),type:"int",default:A.gallery.scaleSmallSize,after:s("galleryScaleSmallSize2")},"gallery.showSmallSize":{label:s("galleryShowSmallSize"),type:"checkbox",default:A.gallery.showSmallSize},"gallery.transition":{label:s("galleryTransition"),type:"checkbox",default:A.gallery.transition},"gallery.disableArrow":{label:s("galleryDisableArrow"),type:"checkbox",default:A.gallery.disableArrow},"gallery.sidebarPosition":{label:s("gallerySidebarPosition"),type:"select",options:{bottom:s("bottom"),right:s("right"),left:s("left"),top:s("top")},default:A.gallery.sidebarPosition,line:"start"},"gallery.sidebarSize":{label:s("gallerySidebarSize"),type:"int",default:A.gallery.sidebarSize,title:s("gallerySidebarSizeTip"),after:" "+s("px"),line:"end"},"gallery.max":{label:s("galleryMax1"),type:"number",default:A.gallery.max,after:s("galleryMax2")},"gallery.autoZoom":{label:s("galleryAutoZoom"),type:"checkbox",default:A.gallery.autoZoom,title:s("galleryAutoZoomTip")},"gallery.descriptionLength":{label:s("galleryDescriptionLength1"),type:"int",default:A.gallery.descriptionLength,after:s("galleryDescriptionLength2")},"gallery.autoOpenViewmore":{label:s("autoOpenViewmore"),type:"checkbox",default:A.gallery.autoOpenViewmore},"gallery.autoOpenSites":{label:s("galleryAutoOpenSites"),type:"textarea",default:A.gallery.autoOpenSites},"gallery.searchData":{label:s("gallerySearchData"),type:"textarea",default:A.gallery.searchData},"gallery.editSite":{label:s("galleryEditSite"),type:"select",options:nt,default:A.gallery.editSite},"imgWindow.fitToScreen":{label:s("imgWindowFitToScreen"),type:"checkbox",default:A.imgWindow.fitToScreen,section:[s("imgWindow")],title:s("imgWindowFitToScreenTip")},"imgWindow.fitToScreenSmall":{label:s("imgWindowFitToScreenWhenSmall"),type:"checkbox",default:A.imgWindow.fitToScreenSmall},"imgWindow.suitLongImg":{label:s("suitLongImg"),type:"checkbox",default:A.imgWindow.suitLongImg},"imgWindow.switchStoreLoc":{label:s("switchStoreLoc"),type:"checkbox",default:A.imgWindow.switchStoreLoc},"imgWindow.defaultTool":{label:s("imgWindowDefaultTool"),type:"select",options:{hand:s("hand"),rotate:s("rotate"),zoom:s("zoom")},default:A.imgWindow.defaultTool},"imgWindow.close.escKey":{label:s("imgWindowEscKey"),type:"checkbox",default:A.imgWindow.close.escKey,line:"start"},"imgWindow.close.dblClickImgWindow":{label:s("imgWindowDblClickImgWindow"),type:"checkbox",default:A.imgWindow.close.dblClickImgWindow},"imgWindow.close.clickOutside":{label:s("imgWindowClickOutside"),type:"select",options:{"":s("none"),click:s("click"),dblclick:s("dblclick")},default:A.imgWindow.close.clickOutside,title:s("imgWindowClickOutsideTip"),line:"end"},"imgWindow.backgroundColor":{label:s("backgroundColor"),type:"text",className:"color",default:A.imgWindow.backgroundColor,line:"end"},"imgWindow.overlayer.shown":{label:s("imgWindowOverlayerShown"),type:"checkbox",default:A.imgWindow.overlayer.shown,line:"start"},"imgWindow.overlayer.color":{label:s("imgWindowOverlayerColor"),type:"text",className:"color",default:A.imgWindow.overlayer.color,line:"end"},"imgWindow.shiftRotateStep":{label:s("imgWindowShiftRotateStep1"),type:"int",default:A.imgWindow.shiftRotateStep,after:s("imgWindowShiftRotateStep2")},"imgWindow.zoom.mouseWheelZoom":{label:s("imgWindowMouseWheelZoom"),type:"checkbox",default:A.imgWindow.zoom.mouseWheelZoom},"imgWindow.zoom.range":{label:s("imgWindowZoomRange"),type:"textarea",default:A.imgWindow.zoom.range.join(", "),title:s("imgWindowZoomRangeTip"),attr:{spellcheck:"false"}},"imgWindow.fixed":{label:s("positionFixed"),default:A.imgWindow.fixed,type:"checkbox"},"imgWindow.zIndex":{label:"z-Index",default:A.imgWindow.zIndex,type:"int"},waitImgLoad:{label:s("waitImgLoad"),type:"checkbox",default:A.waitImgLoad,section:[s("others")],title:s("waitImgLoadTip")},customLang:{label:s("customLang"),type:"select",options:lt,default:A.customLang,line:"end"},saveName:{label:s("saveName"),type:"select",options:{0:s("default"),1:s("textFirst"),2:s("onlyUrl"),3:s("urlAndText")},default:A.saveName||0,title:s("saveNameTip")},saveNameAddTitle:{label:s("saveNameAddTitle"),type:"checkbox",default:!!A.saveNameAddTitle},debug:{label:s("debug"),type:"checkbox",default:A.debug},customRules:{label:GM_config.create("a",{href:"https://github.com/hoothin/UserScripts/tree/master/Picviewer%20CE%2B#-custom-rules-example",target:"_blank",textContent:s("customRules")}),type:"textarea",default:A.customRules}},events:{open:async function(e,t,a){je=!0;let r=e.querySelector("#"+this.id+"_saveBtn"),o=e.querySelector("#"+this.id+"_closeBtn"),l=e.querySelector("#"+this.id+"_resetLink"),c=e.querySelector("#"+this.id+"_field_customRules");c.style.height="188px",c.setAttribute("spellcheck","false"),r.textContent=s("saveBtn"),r.title=s("saveBtnTips"),r.addEventListener("click",(e=>{if(c.value){if(0!=c.value.trim().indexOf("["))return e.stopPropagation(),e.preventDefault(),void alert("The rules must be enclosed in square brackets ([]).");try{-1!==c.value.indexOf("name:")?Le()||T.eval(M(c.value)):c.value=JSON.stringify(JSON.parse(c.value),null,4)}catch(t){e.stopPropagation(),e.preventDefault(),alert("Wrong rule:"+t.toString())}}}),!0),o.textContent=s("closeBtn"),o.title=s("closeBtnTips"),l.textContent=s("resetLink"),l.title=s("resetLinkTips");let d=e.getElementById(this.id+"_field_gallery.searchData");d&&""==d.value&&(d.value=g);let p=e.getElementById(this.id+"_section_4");if(p){if(!st){st=i.createElement("div");let e=at([{node:"div",text:"Made with  by @",attr:{style:"width: calc(100% - 8px); text-align: center;"},children:[{node:"a",text:"Hoothin",attr:{href:"mailto:rixixi@gmail.com"}},{node:"br"},{node:"a",text:"Star Me on Github",attr:{href:"https://github.com/hoothin/UserScripts",target:"_blank"}},{node:"br"},{node:"span",text:"Join our "},{node:"a",text:"Discord",attr:{href:"https://discord.com/invite/keqypXC6wD",target:"_blank"}}]},{node:"img",attr:{src:"https://s2.loli.net/2023/02/06/afTMxeASm48z5vE.jpg",style:"width: 100%; margin-top: 5px; max-height: 180px; display: none;",onload:"this.style.display=''"}},{node:"div",attr:{style:"width: 100%; display: flex; align-items: center; justify-content: center; margin-top: 5px; font-size: 14px;"},children:[{node:"img",attr:{src:"https://ko-fi.com/favicon-32x32.png",style:"margin-right: 5px; height: 25px; display: none;",onload:"this.style.display=''"}},{node:"a",text:"Ko-fi",attr:{href:"https://ko-fi.com/hoothin",style:"margin-right: 10px;",target:"_blank"}},{node:"img",attr:{src:"https://static.afdiancdn.com/favicon.ico",style:"margin-right: 5px; height: 20px; display: none;",onload:"this.style.display=''"}},{node:"a",text:"",attr:{href:"https://afdian.com/@hoothin",target:"_blank"}}]}]);st.style.padding="5px",st.appendChild(e),p.appendChild(st)}if(!ot){let e=await u(`https://hoothin.com/scripts/pvcep/${n}`).then((e=>e.json())).catch((e=>{}));if(ot=!0,!e)return;let t=at(e);t&&t.childElementCount&&(st&&p.removeChild(st),(st=i.createElement("div")).appendChild(t))}p.appendChild(st)}},save:function(){vt(),E.setItem("customLang",A.customLang)},close:function(){je=!1}}}),vt();var ct=E.getListItem("hideIcon",location.hostname)||!1,dt=i.createElement("style");dt.textContent="#pv-float-bar-container{display:none!important}",ct&&i.head.appendChild(dt),p(s("openConfig"),ft),p(s("openGallery"),et),p(s("hideIcon")+(ct?"":""),(()=>{ct=!ct,E.setListItem("hideIcon",location.hostname,ct),ct?i.head.appendChild(dt):i.head.removeChild(dt)})),p(s("ruleRequest"),(()=>{l("https://github.com/hoothin/UserScripts/issues/new?labels=Picviewer%20CE%2B&template=custom-rule-request.md&title=Request%20Picviewer%20CE%2B%20support%20for%20"+location.hostname,{active:!0})})),C=new Ae;let pt=E.getItem("editUrl");if(pt){let e=rt[A.gallery.editSite];if(e||(e=rt[Object.keys(rt)[0]]),e)if("complete"==i.readyState)e(pt);else{let t=a=>{"complete"==i.readyState&&(e(pt),i.removeEventListener("readystatechange",t))};i.addEventListener("readystatechange",t)}}var ht=i.createElement("style");if(ht.textContent="#pv-prefs { display: initial; }",ht.type="text/css","hoothin.github.io"==location.hostname&&"/UserScripts/Picviewer%20CE+/"==location.pathname)ft();else if("hoothin.github.io"==location.hostname&&"/UserScripts/Picviewer%20CE+/gallery.html"==location.pathname){let e=new he;e.data=[],e.lockGallery=!0;var ut=await e.getAllValidImgs();e.data=ut,e.load(e.data);let t=new URLSearchParams(location.search),i=t.get("mode"),a=t.get("imgs");a&&e.addImageUrls(a),"1"==i&&e.maximizeSidebar();let r,n=e.eleMaps["img-content"],o=!1;n.addEventListener("click",(t=>{if(t.target==n){if(clearTimeout(r),o)return o=!1,void e.openImages({altKey:!0});o=!0,r=setTimeout((()=>{o=!1,e.openImages(t)}),300)}}),!0)}else if(A.gallery.autoOpenSites){let e=A.gallery.autoOpenSites.split("\n");for(let t=0;t<e.length;t++){let i=e[t].trim(),a="@"==i[0];if(a&&(i=i.substr(1)),new RegExp(i).test(R)){setTimeout((async function(){let e=await et();e&&a&&e.maximizeSidebar()}),2e3);break}}}let mt=!1;if(A.floatBar.disableKeySites){let e=A.floatBar.disableKeySites.split("\n");for(let t=0;t<e.length;t++){let i=e[t].trim();if(new RegExp(i).test(R)){mt=!0;break}}}mt||i.addEventListener("keydown",(function(e){if(!(re&&re.shown||it(i))){var a,r,n=e.key;if(Ye(e)){if(A.floatBar.keys.enable&&n==A.floatBar.keys.gallery)return et(),e.stopPropagation(),e.preventDefault(),Oe=!Oe,!0;if((!re||!re.shown&&!re.minimized)&&"press"==A.floatBar.globalkeys.type)return Oe=!Oe,!0}if(!A.floatBar.keys.enable)return!1;if(e){if(e.ctrlKey||e.metaKey)return!1;if((e.altKey||e.shiftKey)&&t.getSelection().toString())return!1}floatBar&&("textarea"!=(r=((a=e.target).shadowRoot&&a.shadowRoot.activeElement||a).localName)&&"input"!=r&&"select"!=r&&"object"!=r&&"embed"!=r&&"true"!=a.getAttribute("contenteditable"))&&Object.keys(A.floatBar.keys).some((function(t){if("enable"!=t&&"search"!=t)return n==A.floatBar.keys[t]?(floatBar.open(e,t),e.stopPropagation(),e.preventDefault(),!0):void 0}))}}),!0);let gt=!1;for(let e=0;e<W.length;e++)if(-1!==location.host.indexOf(W[e])){gt=!0;break}function ft(){let e=GM_config.fields["gallery.searchData"];e&&e.value&&(e.value=e.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"));let t=GM_config.fields.customRules;t&&t.value&&(t.value=t.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")),i.head.appendChild(ht),GM_config.open(),i.documentElement.appendChild(GM_config.frame),setTimeout((()=>{GM_config.frame&&""===GM_config.frame.contentDocument.body.innerHTML?l("https://hoothin.github.io/UserScripts/Picviewer%20CE+/",{active:!0}):(GM_config.frame&&GM_config.frame.style&&"none"==GM_config.frame.style.display&&(GM_config.frame.src=""),function(){if(!GM_config.frame||!GM_config.frame.contentDocument)return;let e=GM_config.frame.contentDocument.querySelectorAll("input.floatBar-key");[].forEach.call(e,(e=>{e.setAttribute("readOnly","readonly"),e.addEventListener("keydown",(t=>{"Escape"===t.key||"Backspace"===t.key?e.value="":e.value=t.key,t.stopPropagation(),t.preventDefault()}))}))}())}),1e3)}function vt(){Object.keys(GM_config.fields).forEach((function(e){for(var t=e.split("."),i=t.pop(),a=A,r=t.shift();r;)a=a[r],r=t.shift();var n=GM_config.get(e);void 0!==n&&(a[i]="magnifier.wheelZoom.range"==e||"imgWindow.zoom.range"==e?n.split(/[,]\s*/).map((function(e){return parseFloat(e)})):"floatBar.butonOrder"==e?n.trim().split(/\s*[,]\s*/):n)}));try{localStorage&&localStorage.setItem&&(E.getItem("inited")||(localStorage.setItem("picviewerCE.config.curTab",4),E.setItem("inited",!0)))}catch(e){}void 0===A.gallery.formatConversion&&(A.gallery.formatConversion="webp>png"),A.gallery.formatConversion.split("\n").forEach((e=>{let t=e.split(">");2===t.length&&v.set(t[0].trim(),t[1].trim())})),r=A.debug?console.log.bind(console):function(){}}gt&&i.addEventListener("click",(e=>{if(Z.test(location.href)&&/pre|code/i.test(e.target.nodeName)){let t=e.target.innerText.trim();if(/"name":/.test(t)&&/"(r|xhr)":/.test(t))try{localStorage.setItem("picviewerCE.config.curTab",4);let e,i=JSON.parse(t.replace(/^\/\/.*/g,"")),a=GM_config.fields.customRules;e=-1!==A.customRules.indexOf('"name":')?JSON.parse(A.customRules):[],e.push(i),a.value=JSON.stringify(e,null,4),ft()}catch(e){alert(e.toString())}}}),!0)}function T(){E(0,t,i,L,C,N,a)}a.trustedTypes&&a.trustedTypes.createPolicy&&(x=a.trustedTypes.createPolicy("pvcep_default",{createHTML:(e,t)=>e,createScriptURL:e=>e,createScript:e=>e}));var C={ie:"number"==typeof i.documentMode,firefox:"function"==typeof XPCNativeWrapper,opera:!!t.opera,chrome:!!t.chrome};if(!(C.ie&&i.documentMode<9)){var R,L={find:(R=Array.prototype).find,slice:R.slice,forEach:R.forEach,some:R.some,every:R.every,map:R.map,filter:R.filter,indexOf:R.indexOf,lastIndexOf:R.lastIndexOf},N={supportGM:"function"==typeof GM_getValue&&void 0!==GM_getValue("a","b"),mxAppStorage:function(){try{return t.external.mxGetRuntime().storage}catch(e){}}(),operaUJSStorage:function(){try{return t.opera.scriptStorage}catch(e){}}(),setItem:function(e,i){this.supportGM?(GM_setValue(e,i),""===i&&"undefined"!=typeof GM_deleteValue&&GM_deleteValue(e)):this.operaUJSStorage?this.operaUJSStorage.setItem(e,i):this.mxAppStorage?this.mxAppStorage.setConfig(e,i):t.localStorage&&t.localStorage.setItem(e,i)},getItem:function(e){var i;return this.supportGM?i=GM_getValue(e):this.operaUJSStorage?i=this.operaUJSStorage.getItem(e):this.mxAppStorage?i=this.mxAppStorage.getConfig(e):t.localStorage&&(i=t.localStorage.getItem(e)),i},getListItem:function(e,t){var i,a=this.getItem(e);if(a)for(var r=0;r<a.length;r++){var n=a[r];if(n.k==t){i=n.v;break}}return i},setListItem:function(e,t,i,a=50){var r=this.getItem(e);r&&r.filter||(r=[]),r=r.filter((e=>e&&e.k!=t)),i&&(r.unshift({k:t,v:i}),r.length>a&&r.pop()),this.setItem(e,r)}},B=["Tineye","Google","Baidu"];t.top!=t.self&&0===t.self.innerWidth&&0===t.self.innerHeight?"complete"!==i.readyState&&t.addEventListener("load",(e=>{setTimeout((()=>{t.self.innerWidth>250&&t.self.innerHeight>250&&T()}),500)})):T()}function D(e,t,i){d({method:"GET",url:e.trim(),onload:t,onerror:i})}function U(e,t){t&&(t.innerHTML=I(e))}function G(e,t,a,r,n,o){let l=[];var c=function(){U(s("beginSearchImg","Tineye"),t),D("https://www.tineye.com/search?url="+encodeURIComponent(e)+"&sort=size",(function(e){let a=i.implementation.createHTMLDocument("");a.documentElement.innerHTML=e.responseText;let r=a.querySelectorAll(".match-details>div.match:first-of-type>p.image-link:first-of-type>a");if(r.length>0){l=[];for(var n=0;n<r.length&&!(l.length>2);n++)l.push(r[n].href);U(s("findOverBeginLoad",["Tineye",l.length]),t),p(l)}else d()}),r)},d=function(){++o<=B.length?h():(n&&n(),U(s("findNoPic"),t),setTimeout((function(){U("",t)}),2e3))},p=function(e){a(e,o)};o||(o=1);var h=function(){switch(B[o-1]){case"Baidu":U(s("beginSearchImg",""),t),D("http://image.baidu.com/n/same?queryImageUrl="+encodeURIComponent(e)+"&isguessword=1&rn=30&fr=pc&pn=0&sort=size",(function(e){let i;try{i=JSON.parse(e.responseText)}catch(e){return U(s("findNoPic"),t),setTimeout((function(){U("",t)}),2e3),void d()}if(i.data[0]){l=[];for(let e of i.data){if(l.length>2)break;l.push(e.objURL)}U(s("findOverBeginLoad",["",l.length]),t),p(l)}else d()}),r);break;case"Google":U(s("beginSearchImg","Google"),t),D("https://www.google.com/searchbyimage?safe=off&image_url="+encodeURIComponent(e),(function(e){let a=i.implementation.createHTMLDocument("");a.documentElement.innerHTML=e.responseText;let n=a.querySelector("div.card-section>div>div>span.gl>a");n?D("https://www.google.com"+n.getAttribute("href"),(function(e){a.documentElement.innerHTML=e.responseText;let i=a.querySelectorAll("div.rg_meta");if(0!=i.length){l=[];for(var r=0;r<i.length&&!(l.length>2);r++){let e=JSON.parse(i[r].innerHTML);l.push(e.ou)}U(s("findOverBeginLoad",["Google",l.length]),t),p(l)}else d()}),r):d()}),r);break;default:c()}};h()}}(0,window,document,"undefined"==typeof unsafeWindow?window:unsafeWindow);